<h2 id='canceluserreport'>CancelUserReport</h2>
<p><strong>Category:</strong> Trading<br />
<strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Sends a request to DataService to Remove a User Report. If successful, changes the state of a UserReportTicket to <strong>UserCancelled</strong>. To get list of user reports that can be possibly cancelled, you can use the API <a href="https://23harolds.github.io/slatedoc/#getuserreporttickets"><strong>GetUserReportTickets</strong></a>.</p>
<h3 id='request'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CancelUserReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserReportId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">389f244a-b958-4545-a4a7-61a73205b59e</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CancelUserReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">250c3ff1-cfb2-488f-be88-dfaf12e4f975 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">63</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserReportId"</span><span class="p">:</span><span class="s2">"389f244a-b958-4545-a4a7-61a73205b59e"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserReportId</td>
<td><strong>string</strong>. The GUID is a globally unique ID string that identifies the user report to be canceled. The Order Management System provides this ID when you create a report.<em>required.</em></td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The response to <strong>CancelUserReport</strong> verifies that the call was received, not that the user report has been canceled successfully. Individual event updates sent to the user show cancellations. To verify that a report has been canceled, call <strong>GetUserReportTickets</strong> or <strong>GetUserReportWriterResultRecords</strong>.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>Boolean</strong>. A successful receipt of the cancellation returns true; and unsuccessful receipt of the cancellation (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful receipt of the cancellation returns null; the <em>errormsg</em> parameter for an unsuccessful receipt returns one of the following messages: Not Authorized (errorcode 20, Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful receipt of the cancellation returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
