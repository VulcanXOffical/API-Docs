<h2 id='getuseraffiliatetag'>GetUserAffiliateTag</h2>
<p><strong>Category:</strong> Trading<br />
<strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns an array of affiliate tags associated with the identified user. The exchange can use an affiliate tag to identify new users who join the exchange as a result of a recommendation from the identified user.</p>
<h3 id='request'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">GetUserAffiliateTag</span><span class="dl">'</span><span class="p">,{</span>
    <span class="dl">"</span><span class="s2">OMSId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">UserId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span>
<span class="p">})</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserAffiliateTag</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">e6567bb5-0245-4cb3-b99e-b3adebe9c94c //valid session token</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">38</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose affiliate tag you want to retrieve.If not set, affiliate tag of the currently logged-in user will be returned_optional._</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the Order Management System on which the user operates.<em>optional.</em></td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>The response is a JSON object of affiliate tag information</p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">OMSId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">UserId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">AffiliateId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">AffiliateTag</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">sample</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="err">{
    "OMSId": 1,
    "UserId": 6,
    "AffiliateId": 7,
    "AffiliateTag": "sample"
}
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the Order Management System on which the user operates. This echoes the <em>omsId</em> in the request.</td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose affiliate tag is returned. Echoes the <em>userId</em> in the request.</td>
</tr>
<tr>
<td>AffiliateId</td>
<td><strong>integer.</strong> Affiliate ID of the user, this is unique per user.</td>
</tr>
<tr>
<td>AffiliateTag</td>
<td><strong>string.</strong> The tag that the user can share.</td>
</tr>
</tbody></table>
