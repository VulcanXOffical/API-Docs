
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="https://cdn.vulcan-x.io/icons/favicon.ico" />
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-ea961ed5.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-1c3d94f5.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-754e6eb6.js"></script>

  </head>

  <body class="index" data-languages="[&quot;javascript&quot;,&quot;http&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-397cf77d.svg" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="https://cdn.vulcan-x.io/images/logo-vulcanx.svg" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="http">http</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#background-information" class="toc-h1 toc-link" data-title="Background Information">Background Information</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#websocket-vs-http" class="toc-h2 toc-link" data-title="Websocket vs HTTP">Websocket vs HTTP</a>
                  </li>
                  <li>
                    <a href="#websocket-message-frame" class="toc-h2 toc-link" data-title="Websocket Message Frame">Websocket Message Frame</a>
                  </li>
                  <li>
                    <a href="#standard-response-objects-and-common-error-codes" class="toc-h2 toc-link" data-title="Standard response objects and common error codes">Standard response objects and common error codes</a>
                  </li>
                  <li>
                    <a href="#modules" class="toc-h2 toc-link" data-title="Modules">Modules</a>
                  </li>
                  <li>
                    <a href="#users-accounts-and-permissions" class="toc-h2 toc-link" data-title="Users, Accounts, and Permissions">Users, Accounts, and Permissions</a>
                  </li>
                  <li>
                    <a href="#products-and-instruments" class="toc-h2 toc-link" data-title="Products and Instruments">Products and Instruments</a>
                  </li>
                  <li>
                    <a href="#quotes-and-orders" class="toc-h2 toc-link" data-title="Quotes and Orders">Quotes and Orders</a>
                  </li>
                  <li>
                    <a href="#time-ndash-and-date-stamp-formats" class="toc-h2 toc-link" data-title="Time– and Date-Stamp Formats">Time– and Date-Stamp Formats</a>
                  </li>
                  <li>
                    <a href="#the-trading-day" class="toc-h2 toc-link" data-title="The Trading Day">The Trading Day</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#account" class="toc-h1 toc-link" data-title="Account">Account</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getaccounttransactions" class="toc-h2 toc-link" data-title="GetAccountTransactions">GetAccountTransactions</a>
                  </li>
                  <li>
                    <a href="#getaccountpositions" class="toc-h2 toc-link" data-title="GetAccountPositions">GetAccountPositions</a>
                  </li>
                  <li>
                    <a href="#getaccountinstrumentstatistics" class="toc-h2 toc-link" data-title="GetAccountInstrumentStatistics">GetAccountInstrumentStatistics</a>
                  </li>
                  <li>
                    <a href="#getaccountsettlementpositions" class="toc-h2 toc-link" data-title="GetAccountSettlementPositions">GetAccountSettlementPositions</a>
                  </li>
                  <li>
                    <a href="#getaccountinfo" class="toc-h2 toc-link" data-title="GetAccountInfo">GetAccountInfo</a>
                  </li>
                  <li>
                    <a href="#getaccountbadges" class="toc-h2 toc-link" data-title="GetAccountBadges">GetAccountBadges</a>
                  </li>
                  <li>
                    <a href="#getbadgeaccount" class="toc-h2 toc-link" data-title="GetBadgeAccount">GetBadgeAccount</a>
                  </li>
                  <li>
                    <a href="#getaccountconfig" class="toc-h2 toc-link" data-title="GetAccountConfig">GetAccountConfig</a>
                  </li>
                  <li>
                    <a href="#setaccountconfig" class="toc-h2 toc-link" data-title="SetAccountConfig">SetAccountConfig</a>
                  </li>
                  <li>
                    <a href="#getallledgerentrytickets" class="toc-h2 toc-link" data-title="GetAllLedgerEntryTickets">GetAllLedgerEntryTickets</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authenticate" class="toc-h2 toc-link" data-title="Authenticate">Authenticate</a>
                  </li>
                  <li>
                    <a href="#authenticateuser" class="toc-h2 toc-link" data-title="AuthenticateUser">AuthenticateUser</a>
                  </li>
                  <li>
                    <a href="#authenticate2fa" class="toc-h2 toc-link" data-title="Authenticate2FA">Authenticate2FA</a>
                  </li>
                  <li>
                    <a href="#webauthenticateuser" class="toc-h2 toc-link" data-title="WebAuthenticateUser">WebAuthenticateUser</a>
                  </li>
                  <li>
                    <a href="#logout" class="toc-h2 toc-link" data-title="LogOut">LogOut</a>
                  </li>
                  <li>
                    <a href="#ssoensureuser" class="toc-h2 toc-link" data-title="SSOEnsureUser">SSOEnsureUser</a>
                  </li>
                  <li>
                    <a href="#disable2fa" class="toc-h2 toc-link" data-title="Disable2FA">Disable2FA</a>
                  </li>
                  <li>
                    <a href="#enablegoogle2fa" class="toc-h2 toc-link" data-title="EnableGoogle2FA">EnableGoogle2FA</a>
                  </li>
                  <li>
                    <a href="#getgoogle2farecoverykey" class="toc-h2 toc-link" data-title="GetGoogle2FARecoveryKey">GetGoogle2FARecoveryKey</a>
                  </li>
                  <li>
                    <a href="#enableyubico2fa" class="toc-h2 toc-link" data-title="EnableYubico2FA">EnableYubico2FA</a>
                  </li>
                  <li>
                    <a href="#oauthlogout" class="toc-h2 toc-link" data-title="OAuthLogout">OAuthLogout</a>
                  </li>
                  <li>
                    <a href="#oauthvalidatemfa" class="toc-h2 toc-link" data-title="OAuthValidateMfa">OAuthValidateMfa</a>
                  </li>
                  <li>
                    <a href="#oauthauthenticateuser" class="toc-h2 toc-link" data-title="OAuthAuthenticateUser">OAuthAuthenticateUser</a>
                  </li>
                  <li>
                    <a href="#getcaptcharequiredendpoints" class="toc-h2 toc-link" data-title="GetCaptchaRequiredEndpoints">GetCaptchaRequiredEndpoints</a>
                  </li>
                  <li>
                    <a href="#getvalidate2farequiredendpoints" class="toc-h2 toc-link" data-title="GetValidate2FARequiredEndpoints">GetValidate2FARequiredEndpoints</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#deposit" class="toc-h1 toc-link" data-title="Deposit">Deposit</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#createdepositticket" class="toc-h2 toc-link" data-title="CreateDepositTicket">CreateDepositTicket</a>
                  </li>
                  <li>
                    <a href="#getdepositticket" class="toc-h2 toc-link" data-title="GetDepositTicket">GetDepositTicket</a>
                  </li>
                  <li>
                    <a href="#getdeposittickets" class="toc-h2 toc-link" data-title="GetDepositTickets">GetDepositTickets</a>
                  </li>
                  <li>
                    <a href="#submitdepositticketcomment" class="toc-h2 toc-link" data-title="SubmitDepositTicketComment">SubmitDepositTicketComment</a>
                  </li>
                  <li>
                    <a href="#getdepositinfo" class="toc-h2 toc-link" data-title="GetDepositInfo">GetDepositInfo</a>
                  </li>
                  <li>
                    <a href="#getnewdepositaddress" class="toc-h2 toc-link" data-title="GetNewDepositAddress">GetNewDepositAddress</a>
                  </li>
                  <li>
                    <a href="#getdepositrequestinfotemplate" class="toc-h2 toc-link" data-title="GetDepositRequestInfoTemplate">GetDepositRequestInfoTemplate</a>
                  </li>
                  <li>
                    <a href="#getalldepositrequestinfotemplates" class="toc-h2 toc-link" data-title="GetAllDepositRequestInfoTemplates">GetAllDepositRequestInfoTemplates</a>
                  </li>
                  <li>
                    <a href="#getdeposits" class="toc-h2 toc-link" data-title="GetDeposits">GetDeposits</a>
                  </li>
                  <li>
                    <a href="#getdeposittemplatetypes" class="toc-h2 toc-link" data-title="GetDepositTemplateTypes">GetDepositTemplateTypes</a>
                  </li>
                  <li>
                    <a href="#getaccountdeposittransactions" class="toc-h2 toc-link" data-title="GetAccountDepositTransactions">GetAccountDepositTransactions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fee" class="toc-h1 toc-link" data-title="Fee">Fee</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getwithdrawfee" class="toc-h2 toc-link" data-title="GetWithdrawFee">GetWithdrawFee</a>
                  </li>
                  <li>
                    <a href="#getdepositfee" class="toc-h2 toc-link" data-title="GetDepositFee">GetDepositFee</a>
                  </li>
                  <li>
                    <a href="#getomswithdrawfees" class="toc-h2 toc-link" data-title="GetOMSWithdrawFees">GetOMSWithdrawFees</a>
                  </li>
                  <li>
                    <a href="#getomsdepositfees" class="toc-h2 toc-link" data-title="GetOMSDepositFees">GetOMSDepositFees</a>
                  </li>
                  <li>
                    <a href="#getaccountfees" class="toc-h2 toc-link" data-title="GetAccountFees">GetAccountFees</a>
                  </li>
                  <li>
                    <a href="#updateaccountloyaltysettings" class="toc-h2 toc-link" data-title="UpdateAccountLoyaltySettings">UpdateAccountLoyaltySettings</a>
                  </li>
                  <li>
                    <a href="#getoperatorloyaltyfeeconfig" class="toc-h2 toc-link" data-title="GetOperatorLoyaltyFeeConfig">GetOperatorLoyaltyFeeConfig</a>
                  </li>
                  <li>
                    <a href="#getoperatorloyaltyfeeconfigsforoms" class="toc-h2 toc-link" data-title="GetOperatorLoyaltyFeeConfigsForOms">GetOperatorLoyaltyFeeConfigsForOms</a>
                  </li>
                  <li>
                    <a href="#getalloperatorloyaltyfeeconfigs" class="toc-h2 toc-link" data-title="GetAllOperatorLoyaltyFeeConfigs">GetAllOperatorLoyaltyFeeConfigs</a>
                  </li>
                  <li>
                    <a href="#getorderfee" class="toc-h2 toc-link" data-title="GetOrderFee">GetOrderFee</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#instrument" class="toc-h1 toc-link" data-title="Instrument">Instrument</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getinstrument" class="toc-h2 toc-link" data-title="GetInstrument">GetInstrument</a>
                  </li>
                  <li>
                    <a href="#getinstruments" class="toc-h2 toc-link" data-title="GetInstruments">GetInstruments</a>
                  </li>
                  <li>
                    <a href="#getinstrumentattributes" class="toc-h2 toc-link" data-title="GetInstrumentAttributes">GetInstrumentAttributes</a>
                  </li>
                  <li>
                    <a href="#getinstrumentverificationlevelconfig" class="toc-h2 toc-link" data-title="GetInstrumentVerificationLevelConfig">GetInstrumentVerificationLevelConfig</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#product" class="toc-h1 toc-link" data-title="Product">Product</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getproduct" class="toc-h2 toc-link" data-title="GetProduct">GetProduct</a>
                  </li>
                  <li>
                    <a href="#getproducts" class="toc-h2 toc-link" data-title="GetProducts">GetProducts</a>
                  </li>
                  <li>
                    <a href="#getproductattributes" class="toc-h2 toc-link" data-title="GetProductAttributes">GetProductAttributes</a>
                  </li>
                  <li>
                    <a href="#getverificationlevelconfig" class="toc-h2 toc-link" data-title="GetVerificationLevelConfig">GetVerificationLevelConfig</a>
                  </li>
                  <li>
                    <a href="#assets" class="toc-h2 toc-link" data-title="Assets">Assets</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#report" class="toc-h1 toc-link" data-title="Report">Report</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#generatetradeactivityreport" class="toc-h2 toc-link" data-title="GenerateTradeActivityReport">GenerateTradeActivityReport</a>
                  </li>
                  <li>
                    <a href="#generatetreasuryactivityreport" class="toc-h2 toc-link" data-title="GenerateTreasuryActivityReport">GenerateTreasuryActivityReport</a>
                  </li>
                  <li>
                    <a href="#gettreasuryproductsforaccount" class="toc-h2 toc-link" data-title="GetTreasuryProductsForAccount">GetTreasuryProductsForAccount</a>
                  </li>
                  <li>
                    <a href="#generatetransactionactivityreport" class="toc-h2 toc-link" data-title="GenerateTransactionActivityReport">GenerateTransactionActivityReport</a>
                  </li>
                  <li>
                    <a href="#generateproductdeltaactivityreport" class="toc-h2 toc-link" data-title="GenerateProductDeltaActivityReport">GenerateProductDeltaActivityReport</a>
                  </li>
                  <li>
                    <a href="#generatepnlactivityreport" class="toc-h2 toc-link" data-title="GeneratePnLActivityReport">GeneratePnLActivityReport</a>
                  </li>
                  <li>
                    <a href="#scheduletradeactivityreport" class="toc-h2 toc-link" data-title="ScheduleTradeActivityReport">ScheduleTradeActivityReport</a>
                  </li>
                  <li>
                    <a href="#scheduletreasuryactivityreport" class="toc-h2 toc-link" data-title="ScheduleTreasuryActivityReport">ScheduleTreasuryActivityReport</a>
                  </li>
                  <li>
                    <a href="#scheduletransactionactivityreport" class="toc-h2 toc-link" data-title="ScheduleTransactionActivityReport">ScheduleTransactionActivityReport</a>
                  </li>
                  <li>
                    <a href="#scheduleproductdeltaactivityreport" class="toc-h2 toc-link" data-title="ScheduleProductDeltaActivityReport">ScheduleProductDeltaActivityReport</a>
                  </li>
                  <li>
                    <a href="#scheduleprofitandlossactivityreport" class="toc-h2 toc-link" data-title="ScheduleProfitAndLossActivityReport">ScheduleProfitAndLossActivityReport</a>
                  </li>
                  <li>
                    <a href="#canceluserreport" class="toc-h2 toc-link" data-title="CancelUserReport">CancelUserReport</a>
                  </li>
                  <li>
                    <a href="#getuserreportwriterresultrecords" class="toc-h2 toc-link" data-title="GetUserReportWriterResultRecords">GetUserReportWriterResultRecords</a>
                  </li>
                  <li>
                    <a href="#getuserreporttickets" class="toc-h2 toc-link" data-title="GetUserReportTickets">GetUserReportTickets</a>
                  </li>
                  <li>
                    <a href="#removeuserreportticket" class="toc-h2 toc-link" data-title="RemoveUserReportTicket">RemoveUserReportTicket</a>
                  </li>
                  <li>
                    <a href="#getuserreportticketsbystatus" class="toc-h2 toc-link" data-title="GetUserReportTicketsByStatus">GetUserReportTicketsByStatus</a>
                  </li>
                  <li>
                    <a href="#downloaddocument" class="toc-h2 toc-link" data-title="DownloadDocument">DownloadDocument</a>
                  </li>
                  <li>
                    <a href="#downloaddocumentslice" class="toc-h2 toc-link" data-title="DownloadDocumentSlice">DownloadDocumentSlice</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subscription" class="toc-h1 toc-link" data-title="Subscription">Subscription</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#unsubscribelevel2" class="toc-h2 toc-link" data-title="UnsubscribeLevel2">UnsubscribeLevel2</a>
                  </li>
                  <li>
                    <a href="#subscribelevel2" class="toc-h2 toc-link" data-title="SubscribeLevel2">SubscribeLevel2</a>
                  </li>
                  <li>
                    <a href="#subscribelevel1" class="toc-h2 toc-link" data-title="SubscribeLevel1">SubscribeLevel1</a>
                  </li>
                  <li>
                    <a href="#unsubscribelevel1" class="toc-h2 toc-link" data-title="UnsubscribeLevel1">UnsubscribeLevel1</a>
                  </li>
                  <li>
                    <a href="#subscribetrades" class="toc-h2 toc-link" data-title="SubscribeTrades">SubscribeTrades</a>
                  </li>
                  <li>
                    <a href="#unsubscribetrades" class="toc-h2 toc-link" data-title="UnsubscribeTrades">UnsubscribeTrades</a>
                  </li>
                  <li>
                    <a href="#subscribeticker" class="toc-h2 toc-link" data-title="SubscribeTicker">SubscribeTicker</a>
                  </li>
                  <li>
                    <a href="#unsubscribeticker" class="toc-h2 toc-link" data-title="UnsubscribeTicker">UnsubscribeTicker</a>
                  </li>
                  <li>
                    <a href="#subscribeaccountevents" class="toc-h2 toc-link" data-title="SubscribeAccountEvents">SubscribeAccountEvents</a>
                  </li>
                  <li>
                    <a href="#unsubscribeaccountevents" class="toc-h2 toc-link" data-title="UnSubscribeAccountEvents">UnSubscribeAccountEvents</a>
                  </li>
                  <li>
                    <a href="#subscribeorderstateevents" class="toc-h2 toc-link" data-title="SubscribeOrderStateEvents">SubscribeOrderStateEvents</a>
                  </li>
                  <li>
                    <a href="#unsubscribeorderstateevents" class="toc-h2 toc-link" data-title="UnSubscribeOrderStateEvents">UnSubscribeOrderStateEvents</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#system" class="toc-h1 toc-link" data-title="System">System</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ping" class="toc-h2 toc-link" data-title="Ping">Ping</a>
                  </li>
                  <li>
                    <a href="#getomsversion" class="toc-h2 toc-link" data-title="GetOMSVersion">GetOMSVersion</a>
                  </li>
                  <li>
                    <a href="#healthcheck" class="toc-h2 toc-link" data-title="HealthCheck">HealthCheck</a>
                  </li>
                  <li>
                    <a href="#getgeneralkvp" class="toc-h2 toc-link" data-title="GetGeneralKVP">GetGeneralKVP</a>
                  </li>
                  <li>
                    <a href="#getomss" class="toc-h2 toc-link" data-title="GetOMSs">GetOMSs</a>
                  </li>
                  <li>
                    <a href="#getoms" class="toc-h2 toc-link" data-title="GetOMS">GetOMS</a>
                  </li>
                  <li>
                    <a href="#gatewaystats" class="toc-h2 toc-link" data-title="GatewayStats">GatewayStats</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#trading" class="toc-h1 toc-link" data-title="Trading">Trading</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#sendorderlist" class="toc-h2 toc-link" data-title="SendOrderList">SendOrderList</a>
                  </li>
                  <li>
                    <a href="#sendcancellist" class="toc-h2 toc-link" data-title="SendCancelList">SendCancelList</a>
                  </li>
                  <li>
                    <a href="#sendcancelreplacelist" class="toc-h2 toc-link" data-title="SendCancelReplaceList">SendCancelReplaceList</a>
                  </li>
                  <li>
                    <a href="#modifyorder" class="toc-h2 toc-link" data-title="ModifyOrder">ModifyOrder</a>
                  </li>
                  <li>
                    <a href="#cancelallorders" class="toc-h2 toc-link" data-title="CancelAllOrders">CancelAllOrders</a>
                  </li>
                  <li>
                    <a href="#getorderstatus" class="toc-h2 toc-link" data-title="GetOrderStatus">GetOrderStatus</a>
                  </li>
                  <li>
                    <a href="#getordershistory" class="toc-h2 toc-link" data-title="GetOrdersHistory">GetOrdersHistory</a>
                  </li>
                  <li>
                    <a href="#gettradeshistory" class="toc-h2 toc-link" data-title="GetTradesHistory">GetTradesHistory</a>
                  </li>
                  <li>
                    <a href="#getorderhistorybyorderid" class="toc-h2 toc-link" data-title="GetOrderHistoryByOrderId">GetOrderHistoryByOrderId</a>
                  </li>
                  <li>
                    <a href="#gettickerhistory" class="toc-h2 toc-link" data-title="GetTickerHistory">GetTickerHistory</a>
                  </li>
                  <li>
                    <a href="#getlasttrades" class="toc-h2 toc-link" data-title="GetLastTrades">GetLastTrades</a>
                  </li>
                  <li>
                    <a href="#getlevel1summary" class="toc-h2 toc-link" data-title="GetLevel1Summary">GetLevel1Summary</a>
                  </li>
                  <li>
                    <a href="#getlevel1summarymin" class="toc-h2 toc-link" data-title="GetLevel1SummaryMin">GetLevel1SummaryMin</a>
                  </li>
                  <li>
                    <a href="#getopentradereports" class="toc-h2 toc-link" data-title="GetOpenTradeReports">GetOpenTradeReports</a>
                  </li>
                  <li>
                    <a href="#getorders" class="toc-h2 toc-link" data-title="GetOrders">GetOrders</a>
                  </li>
                  <li>
                    <a href="#getorderhistory" class="toc-h2 toc-link" data-title="GetOrderHistory">GetOrderHistory</a>
                  </li>
                  <li>
                    <a href="#sendorder" class="toc-h2 toc-link" data-title="SendOrder">SendOrder</a>
                  </li>
                  <li>
                    <a href="#cancelreplaceorder" class="toc-h2 toc-link" data-title="CancelReplaceOrder">CancelReplaceOrder</a>
                  </li>
                  <li>
                    <a href="#cancelorder" class="toc-h2 toc-link" data-title="CancelOrder">CancelOrder</a>
                  </li>
                  <li>
                    <a href="#getopenorders" class="toc-h2 toc-link" data-title="GetOpenOrders">GetOpenOrders</a>
                  </li>
                  <li>
                    <a href="#getaccounttrades" class="toc-h2 toc-link" data-title="GetAccountTrades">GetAccountTrades</a>
                  </li>
                  <li>
                    <a href="#summary" class="toc-h2 toc-link" data-title="Summary">Summary</a>
                  </li>
                  <li>
                    <a href="#ticker" class="toc-h2 toc-link" data-title="Ticker">Ticker</a>
                  </li>
                  <li>
                    <a href="#orderbook" class="toc-h2 toc-link" data-title="OrderBook">OrderBook</a>
                  </li>
                  <li>
                    <a href="#trades" class="toc-h2 toc-link" data-title="Trades">Trades</a>
                  </li>
                  <li>
                    <a href="#getearliestticktime" class="toc-h2 toc-link" data-title="GetEarliestTickTime">GetEarliestTickTime</a>
                  </li>
                  <li>
                    <a href="#getl2snapshot" class="toc-h2 toc-link" data-title="GetL2Snapshot">GetL2Snapshot</a>
                  </li>
                  <li>
                    <a href="#getlevel1" class="toc-h2 toc-link" data-title="GetLevel1">GetLevel1</a>
                  </li>
                  <li>
                    <a href="#getenums" class="toc-h2 toc-link" data-title="GetEnums">GetEnums</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#transfer" class="toc-h1 toc-link" data-title="Transfer">Transfer</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#gettransfer" class="toc-h2 toc-link" data-title="GetTransfer">GetTransfer</a>
                  </li>
                  <li>
                    <a href="#gettransfers" class="toc-h2 toc-link" data-title="GetTransfers">GetTransfers</a>
                  </li>
                  <li>
                    <a href="#gettransfersreceived" class="toc-h2 toc-link" data-title="GetTransfersReceived">GetTransfersReceived</a>
                  </li>
                  <li>
                    <a href="#gettransfershistory" class="toc-h2 toc-link" data-title="GetTransfersHistory">GetTransfersHistory</a>
                  </li>
                  <li>
                    <a href="#transferfunds" class="toc-h2 toc-link" data-title="TransferFunds">TransferFunds</a>
                  </li>
                  <li>
                    <a href="#canceltransferfunds" class="toc-h2 toc-link" data-title="CancelTransferFunds">CancelTransferFunds</a>
                  </li>
                  <li>
                    <a href="#requesttransferfunds" class="toc-h2 toc-link" data-title="RequestTransferFunds">RequestTransferFunds</a>
                  </li>
                  <li>
                    <a href="#confirmrequesttransferfunds" class="toc-h2 toc-link" data-title="ConfirmRequestTransferFunds">ConfirmRequestTransferFunds</a>
                  </li>
                  <li>
                    <a href="#rejectrequesttransferfunds" class="toc-h2 toc-link" data-title="RejectRequestTransferFunds">RejectRequestTransferFunds</a>
                  </li>
                  <li>
                    <a href="#getrequesttransfer" class="toc-h2 toc-link" data-title="GetRequestTransfer">GetRequestTransfer</a>
                  </li>
                  <li>
                    <a href="#getrequesttransferrequestsreceived" class="toc-h2 toc-link" data-title="GetRequestTransferRequestsReceived">GetRequestTransferRequestsReceived</a>
                  </li>
                  <li>
                    <a href="#getrequesttransferrequestsrequested" class="toc-h2 toc-link" data-title="GetRequestTransferRequestsRequested">GetRequestTransferRequestsRequested</a>
                  </li>
                  <li>
                    <a href="#getrequesttransfers" class="toc-h2 toc-link" data-title="GetRequestTransfers">GetRequestTransfers</a>
                  </li>
                  <li>
                    <a href="#batchtransfer" class="toc-h2 toc-link" data-title="BatchTransfer">BatchTransfer</a>
                  </li>
                  <li>
                    <a href="#confirmtransferfundsregisteruser" class="toc-h2 toc-link" data-title="ConfirmTransferFundsRegisterUser">ConfirmTransferFundsRegisterUser</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user" class="toc-h1 toc-link" data-title="User">User</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getuseraffiliatecount" class="toc-h2 toc-link" data-title="GetUserAffiliateCount">GetUserAffiliateCount</a>
                  </li>
                  <li>
                    <a href="#getuseraffiliatetag" class="toc-h2 toc-link" data-title="GetUserAffiliateTag">GetUserAffiliateTag</a>
                  </li>
                  <li>
                    <a href="#adduseraffiliatetag" class="toc-h2 toc-link" data-title="AddUserAffiliateTag">AddUserAffiliateTag</a>
                  </li>
                  <li>
                    <a href="#updateuseraffiliatetag" class="toc-h2 toc-link" data-title="UpdateUserAffiliateTag">UpdateUserAffiliateTag</a>
                  </li>
                  <li>
                    <a href="#getuseraccounts" class="toc-h2 toc-link" data-title="GetUserAccounts">GetUserAccounts</a>
                  </li>
                  <li>
                    <a href="#getuserdevices" class="toc-h2 toc-link" data-title="GetUserDevices">GetUserDevices</a>
                  </li>
                  <li>
                    <a href="#getuserinfo" class="toc-h2 toc-link" data-title="GetUserInfo">GetUserInfo</a>
                  </li>
                  <li>
                    <a href="#setuserinfo" class="toc-h2 toc-link" data-title="SetUserInfo">SetUserInfo</a>
                  </li>
                  <li>
                    <a href="#getunredacteduserconfigbykey" class="toc-h2 toc-link" data-title="GetUnredactedUserConfigByKey">GetUnredactedUserConfigByKey</a>
                  </li>
                  <li>
                    <a href="#unmaskuserconfig" class="toc-h2 toc-link" data-title="UnmaskUserConfig">UnmaskUserConfig</a>
                  </li>
                  <li>
                    <a href="#setuserconfig" class="toc-h2 toc-link" data-title="SetUserConfig">SetUserConfig</a>
                  </li>
                  <li>
                    <a href="#getuserconfig" class="toc-h2 toc-link" data-title="GetUserConfig">GetUserConfig</a>
                  </li>
                  <li>
                    <a href="#getuserpermissions" class="toc-h2 toc-link" data-title="GetUserPermissions">GetUserPermissions</a>
                  </li>
                  <li>
                    <a href="#removeuserapikeypermission" class="toc-h2 toc-link" data-title="RemoveUserAPIKeyPermission">RemoveUserAPIKeyPermission</a>
                  </li>
                  <li>
                    <a href="#adduserapikeypermission" class="toc-h2 toc-link" data-title="AddUserAPIKeyPermission">AddUserAPIKeyPermission</a>
                  </li>
                  <li>
                    <a href="#removeuserapikey" class="toc-h2 toc-link" data-title="RemoveUserAPIKey">RemoveUserAPIKey</a>
                  </li>
                  <li>
                    <a href="#getuserapikeys" class="toc-h2 toc-link" data-title="GetUserAPIKeys">GetUserAPIKeys</a>
                  </li>
                  <li>
                    <a href="#adduserapikey" class="toc-h2 toc-link" data-title="AddUserAPIKey">AddUserAPIKey</a>
                  </li>
                  <li>
                    <a href="#updateuserapikeywhitelist" class="toc-h2 toc-link" data-title="UpdateUserAPIKeyWhitelist">UpdateUserAPIKeyWhitelist</a>
                  </li>
                  <li>
                    <a href="#getusermarketdatapermissions" class="toc-h2 toc-link" data-title="GetUserMarketDataPermissions">GetUserMarketDataPermissions</a>
                  </li>
                  <li>
                    <a href="#validateuserregistration" class="toc-h2 toc-link" data-title="ValidateUserRegistration">ValidateUserRegistration</a>
                  </li>
                  <li>
                    <a href="#registeruser" class="toc-h2 toc-link" data-title="RegisterUser">RegisterUser</a>
                  </li>
                  <li>
                    <a href="#registernewuser" class="toc-h2 toc-link" data-title="RegisterNewUser">RegisterNewUser</a>
                  </li>
                  <li>
                    <a href="#confirmuseremail" class="toc-h2 toc-link" data-title="ConfirmUserEmail">ConfirmUserEmail</a>
                  </li>
                  <li>
                    <a href="#resendverificationemail" class="toc-h2 toc-link" data-title="ResendVerificationEmail">ResendVerificationEmail</a>
                  </li>
                  <li>
                    <a href="#resetpassword" class="toc-h2 toc-link" data-title="ResetPassword">ResetPassword</a>
                  </li>
                  <li>
                    <a href="#resetpassword2" class="toc-h2 toc-link" data-title="ResetPassword2">ResetPassword2</a>
                  </li>
                  <li>
                    <a href="#registernewdevice" class="toc-h2 toc-link" data-title="RegisterNewDevice">RegisterNewDevice</a>
                  </li>
                  <li>
                    <a href="#validatecode" class="toc-h2 toc-link" data-title="ValidateCode">ValidateCode</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#withdraw" class="toc-h1 toc-link" data-title="Withdraw">Withdraw</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#createaccountwithdrawinfo" class="toc-h2 toc-link" data-title="CreateAccountWithdrawInfo">CreateAccountWithdrawInfo</a>
                  </li>
                  <li>
                    <a href="#getaccountwithdrawtransactions" class="toc-h2 toc-link" data-title="GetAccountWithdrawTransactions">GetAccountWithdrawTransactions</a>
                  </li>
                  <li>
                    <a href="#confirmwithdrawinfo" class="toc-h2 toc-link" data-title="ConfirmWithdrawInfo">ConfirmWithdrawInfo</a>
                  </li>
                  <li>
                    <a href="#confirmwithdraw" class="toc-h2 toc-link" data-title="ConfirmWithdraw">ConfirmWithdraw</a>
                  </li>
                  <li>
                    <a href="#getaccountwithdrawinfos" class="toc-h2 toc-link" data-title="GetAccountWithdrawInfos">GetAccountWithdrawInfos</a>
                  </li>
                  <li>
                    <a href="#deleteaccountwithdrawinfo" class="toc-h2 toc-link" data-title="DeleteAccountWithdrawInfo">DeleteAccountWithdrawInfo</a>
                  </li>
                  <li>
                    <a href="#getwithdrawformtemplatetypes" class="toc-h2 toc-link" data-title="GetWithdrawFormTemplateTypes">GetWithdrawFormTemplateTypes</a>
                  </li>
                  <li>
                    <a href="#getwithdrawtemplate" class="toc-h2 toc-link" data-title="GetWithdrawTemplate">GetWithdrawTemplate</a>
                  </li>
                  <li>
                    <a href="#getwithdrawtemplatetypes" class="toc-h2 toc-link" data-title="GetWithdrawTemplateTypes">GetWithdrawTemplateTypes</a>
                  </li>
                  <li>
                    <a href="#cancelwithdraw" class="toc-h2 toc-link" data-title="CancelWithdraw">CancelWithdraw</a>
                  </li>
                  <li>
                    <a href="#createfiatwithdrawticket" class="toc-h2 toc-link" data-title="CreateFiatWithdrawTicket">CreateFiatWithdrawTicket</a>
                  </li>
                  <li>
                    <a href="#createcryptocurrencywithdrawticket" class="toc-h2 toc-link" data-title="CreateCryptocurrencyWithdrawTicket">CreateCryptocurrencyWithdrawTicket</a>
                  </li>
                  <li>
                    <a href="#createwithdrawticket" class="toc-h2 toc-link" data-title="CreateWithdrawTicket">CreateWithdrawTicket</a>
                  </li>
                  <li>
                    <a href="#getwithdrawtickets" class="toc-h2 toc-link" data-title="GetWithdrawTickets">GetWithdrawTickets</a>
                  </li>
                  <li>
                    <a href="#getwithdrawticket" class="toc-h2 toc-link" data-title="GetWithdrawTicket">GetWithdrawTicket</a>
                  </li>
                  <li>
                    <a href="#getwithdrawticketbyverifycode" class="toc-h2 toc-link" data-title="GetWithdrawTicketByVerifyCode">GetWithdrawTicketByVerifyCode</a>
                  </li>
                  <li>
                    <a href="#submitwithdrawticketcomment" class="toc-h2 toc-link" data-title="SubmitWithdrawTicketComment">SubmitWithdrawTicketComment</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='background-information'>Background Information</h1>
<p>This section provides important information about the AlphaPoint Exchange software.</p>
<h2 id='websocket-vs-http'>Websocket vs HTTP</h2>
<p>APEX APIs offers a lot of flexibility as most of them can be invoked in both Websockets and HTTP protocol. All APEX APIs can be invoked in Websockets while some of them cannot be invoked in HTTP, specifically the APIs which supplies live data, the Subscription APIs like <a href="https://trading.alphapointuniversity.com/#subscribelevel1"><strong>SubscribeLevel1</strong></a>.</p>

<p>The major difference between Websockets and HTTP is the data transmission mode. HTTP starts sending data as responses when a request is received, whereas Websockets send and receives data based on data availability.</p>

<p>Deciding whether to use Websockets or HTTP can be tricky, several factors needs to be considered. One very important factor is the frequency of data update you need. Websockets are the best choice to handle real-time communication as they support bi-directional communication. In this model, both the client and server can push or pull data. They do not have to wait of each other and can work simultaneously. HTTP on the other hand is preferable in applications that deal with static data and are not updated regularly.</p>
<h2 id='websocket-message-frame'>Websocket Message Frame</h2>
<blockquote>
<p>A JSON-formatted frame object.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"i"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"function name"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"o"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payload"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Wrap all calls in a JSON-formatted frame object. Responses from the server are similarly wrapped. The API calls are documented as payloads by function name.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><em>m</em> message type</td>
<td><strong>integer.</strong> The type of the message. One of:<br />0 request<br />1 reply<br />2 subscribe-to event<br />3 event<br />4 unsubscribe-from event<br />5 error</td>
</tr>
<tr>
<td><em>i</em> sequence number</td>
<td><strong>long integer.</strong> The sequence number identifies an individual request or request-and-response pair, to your application.<br /><br />The system requires a non-zero sequence number, but the numbering scheme you use is up to you. No arbitrary sequence numbering scheme is enforced by AlphaPoint.<br /><br /><strong>Best Practices:</strong> A client-generated API call (of message types 0, 2, and 4) should:<br />Carry an even sequence number<br />Begin at the start of each user session<br />Be unique within each user session.<br />Begin with 2 (as in 2, 4, 6, 8)<br /><br />Message types 1 (reply), 3 (event), and 5 (error) are generated by the server. These messages echo the sequence number of the message to which they respond. See the example, following.</td>
</tr>
<tr>
<td><em>n</em> function name</td>
<td><strong>string.</strong> The function name is the name of the function being called or that the server is responding to. The server echoes your call. See the example, following.</td>
</tr>
<tr>
<td><em>o</em> payload</td>
<td>Payload is a JSON-formatted string containing the data being sent with the message. Payload may consist of request parameters (key-value pairs) or response parameters.</td>
</tr>
</tbody></table>

<aside class="notice"><strong>Note: </strong>You can send the key-value pairs inside the payload in any order. The server controls the order of its response.</aside>
<h3 id='example-1'>Example 1</h3>
<blockquote>
<p>Example 1</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">frame</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">m</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">i</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">n</span><span class="p">:</span> <span class="dl">"</span><span class="s2">function name</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">o</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">requestPayload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">parameter1</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">parameter2</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="nx">frame</span><span class="p">.</span><span class="nx">o</span> <span class="o">=</span> <span class="nx">json</span><span class="p">.</span><span class="nx">Stringify</span><span class="p">(</span><span class="nx">requestPayload</span><span class="p">);</span>
<span class="c1">// Stringify escapes the payload's quotation marks automatically.</span>
<span class="nx">WS</span><span class="p">.</span><span class="nx">Send</span><span class="p">(</span><span class="nx">json</span><span class="p">.</span><span class="nx">Stringtify</span><span class="p">(</span><span class="nx">frame</span><span class="p">));</span> <span class="c1">// WS.Send escapes the frame</span>
</code></pre></div>
<p>When sending a request in the frame to the software using JavaScript, a call looks like Example 1.</p>

<blockquote>
<p>Example 2</p>
</blockquote>
<h3 id='example-2'>Example 2</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">frame</span> <span class="o">=</span> <span class="nx">json</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="nx">wsMessage</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">frame</span><span class="p">.</span><span class="nx">m</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// message of type reply</span>
  <span class="c1">//This is a reply</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">frame</span><span class="p">.</span><span class="nx">n</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">WebAuthenticateUser</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">LoginReply</span> <span class="o">=</span> <span class="nx">json</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="nx">frame</span><span class="p">.</span><span class="nx">o</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">loginReply</span><span class="p">.</span><span class="nx">Authenticated</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">LoginReplay</span><span class="p">.</span><span class="nx">User</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>When receiving a frame from the software, use the frame to determine the context, and then unwrap the content, as in Example 2.</p>

<aside class="notice"><strong>Note: </strong>If not using JSON Stringify, escape quotation marks.</aside>
<h2 id='standard-response-objects-and-common-error-codes'>Standard response objects and common error codes</h2>
<p>A response to an API call usually consists of a specific response, but both successful and unsuccessful responses may consist of a generic response object that verifies only that the call was received, and not that the action requested by the call took place. A generic response to an unsuccessful call provides an error code. A generic response looks like Example 3.</p>
<h3 id='example-3'>Example 3</h3>
<blockquote>
<p>Example 3</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> If the call has been successfully received by the OMS, result is <em>true</em>; otherwise it is <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of the call returns <em>null</em>. The <em>errormsg</em> key for an unsuccessful call returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Response (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful receipt of the call returns 0. An unsuccessful receipt of the call returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send. The content of this key is usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='modules'>Modules</h2>
<p>The AlphaPoint software consists of several modules that include the OMS (OMS), the matching engine, and the Asset Manager. During installation, each is assigned an ID.</p>

<p>The OMS is the mechanism that manages access to the trading venue. The OMS controls permissions, accounts, and users. The OMS must be specified in many calls.</p>

<p>The order book resides on the AlphaPoint matching engine.</p>

<p>A trading venue is a combination of OMS and matching engine that creates a place to access the market and trade. A venue maintains its order book and matching engine, and may access several Order Management Systems.</p>

<p>The Asset Manager controls the deposit and withdrawal of funds belonging to an account. These funds can be denominated in any product that the trading venue allows.</p>
<h2 id='users-accounts-and-permissions'>Users, Accounts, and Permissions</h2>
<p>The AlphaPoint software differentiates between <em>user</em> and <em>account</em>. A user is the person who logs in; an account represents the funds and trading that the user does &mdash; much like a bank account represents funds and checks.</p>

<p>As with a bank account, an individual user may have multiple Exchange accounts. Similarly, multiple users may trade through a single account. There may be users who have trading access to one set of accounts that overlap (but do not duplicate) the set of accounts that another user can access. There may be a many-to-many relationship where two or more users have access to a set of accounts.</p>

<p>The use case for this kind of &quot;joint tenancy&quot; is an active trading desk where a specific individual may not always be present. If User A will not be present, User B can monitor and trade on the market. User A may wish to cancel his pending trades for a specific account or instrument, but not those of his trading partner under the same account or for the same instrument.</p>

<p>Permissions handle the rules that determine what a user can access and do with orders, cancellations, and the other tasks of a trading venue. Most permissions encompass tasks such as trading, depositing, or withdrawing funds. Permissions in APEX is granular, each permissioned API has a specific minimum permission required which is the same name as the API, for instance, API SendOrder will require the permission SendOrder at the very least, so, very specific permission/s can be set for each individual/user in the venue.</p>

<table><thead>
<tr>
<th>API ENDPOINT</th>
<th>MINIMUM PERMISSION REQUIRED</th>
</tr>
</thead><tbody>
<tr>
<td>SendOrder</td>
<td>SendOrder</td>
</tr>
<tr>
<td>CreateWithdrawTicket</td>
<td>CreateWithdrawTicket</td>
</tr>
<tr>
<td>TransferFunds</td>
<td>TransferFunds</td>
</tr>
</tbody></table>

<p>An administrator with Operator permission sets up a user&#39;s permissions on the OMS when the user joins the trading venue, and only an administrator with Operator permission or above can change them. A full discussion of permissions is not part of this API documentation.</p>
<h2 id='products-and-instruments'>Products and Instruments</h2>
<p>In AlphaPoint software, a <em>product</em> is an asset that is tradable or paid out. A product might be a national currency, a crypto-currency, or something else such as a commodity. For example, a product might be a US Dollar or a New Zealand Dollar or a BitCoin or an ounce of gold. Transaction and withdrawal fees are denominated in products. (Products may be referred to as <em>assets</em> in some API calls.)</p>

<p>An <em>instrument</em> is a pair of exchanged products (or fractions of them). For example, US Dollar for BitCoin. In conventional investment parlance, a stock or a bond is called an instrument, but implicit in that is the potential exchange of one product for another (stock for dollars). AlphaPoint software thinks of that exchange as explicit, and separates product from instrument.</p>
<h2 id='quotes-and-orders'>Quotes and Orders</h2>
<p>The AlphaPoint API includes calls related to both quotes and orders. Quoting is not enabled for the retail end user of AlphaPoint software. Only registered market participants or marketmakers may quote. Your trading venue may offer quotes separately from orders.</p>

<ul>
<li>A quote expresses a willingness to buy or sell at a given price.</li>
<li>An order is a directive to buy or sell.</li>
</ul>

<p>In this version of the AlphaPoint matching engine software, quotes and orders are synonymous. They both can buy or sell. This is because the matching engine (like most matching engines) requires a &quot;firm quote&quot; &mdash; a guaranteed bid or ask.</p>

<p>For both quotes and orders, trading priority is the same, and no preference is given one over the other. In code, the matching engine flags a quote for eventual regulatory and compliance rules, but for current software operation and trade execution, quotes and orders behave equivalently.</p>
<h3 id='best-practices-quotes-and-orders'>Best Practices/Quotes and Orders</h3>
<p>Use the order-related API calls in preference to quote-related calls unless you specifically require quote-related calls.</p>
<h2 id='time-ndash-and-date-stamp-formats'>Time&ndash; and Date-Stamp Formats</h2>
<p>AlphaPoint software uses two different time&ndash; and date-stamp formats, POSIX and Microsoft Ticks. Where the value of a time field key is an integer or long, the value is in POSIX format; when the value of a time field key is a string, it is in Microsoft Ticks format (also called <em>datetime</em>).</p>

<ul>
<li><strong>POSIX</strong> stores date/time values as the number of seconds since 1 January 1970 (long integer). AlphaPoint software often multiples this number by 1000 for the number of milliseconds since 1 January 1970. <strong>Recognize POSIX format:</strong> POSIX format is a long integer. It is usually formatted like this: <code>1501603632000</code><br /><br /></li>
<li><strong>Microsoft Ticks</strong> (datetime) format represents the number of ticks that have elapsed since 00:00:00 UTC, 1 January 0001, in the Gregorian calendar. A single tick represents one hundred nanoseconds (one ten-millionth of a second). There are 10,000 ticks in a millisecond; ten million ticks in a second. Ticks format does not include the number of ticks attributable to leap-seconds. <strong>Recognize Ticks format:</strong> Ticks format is a string. In AlphaPoint software, it is usually formatted like this: <code>&quot;2018-08-17T17:57:56Z&quot;</code> Note that a T (for time) separates the initial date from the time. The trailing Z represents the time zone, in all cases in AlphaPoint software, this is UTC (also called Zulu time).</li>
</ul>
<h2 id='the-trading-day'>The Trading Day</h2>
<p>Most AlphaPoint installations operate 24-hour computer-based trading venues. The trading day runs from UTC Midnight to UTC Midnight (essentially, London time, but without any summertime offset), regardless of the nominal location of the venue. Values such as open or close are those values as of UTC Midnight. Values for day, month, or annual periods run from UTC Midnight to UTC Midnight.</p>
<h1 id='account'>Account</h1><h2 id='getaccounttransactions'>GetAccountTransactions</h2>
<p><strong>Permissions:</strong> Trading, AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets a list of transactions for an account.</p>

<p>Results can be filtered using different search parameters such as <strong>TransactionType</strong> and <strong>ProductId</strong>, other optional fields that can serve as search parameter are defined in the request key value table below.</p>

<aside class="notice"><strong>Note:</strong> In this call, “Depth” refers not to the depth of the order book, but to the count of trades to report.</aside>
<h3 id='request'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountTransactions</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">TransactionReferenceTypes</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Deposit</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Withdraw</span><span class="dl">"</span><span class="p">],</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountTransactions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">15a9b337-94c4-4e11-a051-287725519a45</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">91</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionReferenceTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Deposit"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Withdraw"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS from which the account’s transactions will be returned.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which transactions will be returned. If the authenticated user has elevated permission like Operator or AccountOperator, account id is not required, results to be returned will be the transactions of the authenticated user&#39;s account/s.<em>conditionally required.</em></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer.</strong> The number of transactions that will be returned, starting with the most recent transaction. If not defined, all transactions of the account will be returned(assuming not other search parameters are defined). <strong>optional.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> Can be used to filter results, if set, only transactions for the specific product id specified will be returned, else, all transactions regardless of the product will be returned(assuming not other search parameters are defined). <strong>optional.</strong></td>
</tr>
<tr>
<td>TransactionId</td>
<td><strong>integer.</strong> Can be used to filter results, if set, only transaction with the specific id specified will be returned, else, all transactions regardless of the transaction id will be returned(assuming not other search parameters are defined). <strong>optional.</strong></td>
</tr>
<tr>
<td>ReferenceId</td>
<td><strong>integer.</strong> Can be used to filter results, if set, only transaction with the specific id specified will be returned, else, all transactions regardless of the reference id will be returned(assuming not other search parameters are defined). <strong>optional.</strong></td>
</tr>
<tr>
<td>TransactionTypes</td>
<td><strong>array of string or integer type.</strong> Can be used to filter results according to transaction type/s(can filter with either just 1 or more). If not set, transactions with any transaction type will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>TransactionReferenceTypes</td>
<td><strong>array of string or integer type.</strong> Can be used to filter results according to transaction reference type/s(can filter with either just 1 or more). If not set, transactions with any transaction reference type will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartTimestamp</td>
<td><strong>long integer.</strong> Can be used to filter results based on timestamp the transaction has happened. This filter will return transactions that happened on or after(earliest possible time) the specified timestamp value, if not set, transactions that happened any time will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>EndTimeStamp</td>
<td><strong>long integer.</strong> Can be used to filter results based on timestamp the transaction has happened. This filter will return transactions that happened on or before(latest possible time) the specified timestamp value, if not set, transactions that happened any time will be returned. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='transactiontypes-enums'>TransactionTypes Enums</h3>
<p><strong>1</strong> Fee<br />
<strong>2</strong> Trade<br />
<strong>3</strong> Other<br />
<strong>4</strong> Reverse<br />
<strong>5</strong> Hold<br />
<strong>6</strong> Rebate<br />
<strong>7</strong> MarginAcquisition<br />
<strong>8</strong> MarginRelinquishByTrade<br />
<strong>9</strong> MarginInterestTransfer<br />
<strong>10</strong> MarginOperatorTransferToMarginAccount<br />
<strong>11</strong> MarginOperatorTransferToAssetAccount<br />
<strong>12</strong> MarginUserTransfer<br />
<strong>13</strong> MarginRelinquishByTransfer<br />
<strong>14</strong> MarginRelinquishByReverseTrade<br />
<strong>15</strong> Distribution<br />
<strong>16</strong> Payment<br />
<strong>21</strong> OperatorLend<br />
<strong>22</strong> OperatorReceived<br />
<strong>23</strong> Rebalance<br />
<strong>24</strong> Commission<br />
<strong>25</strong> AirDrop<br /></p>
<h3 id='transactionreferencetypes-enums'>TransactionReferenceTypes Enums</h3>
<p><strong>1</strong> Trade<br />
<strong>2</strong> Deposit<br />
<strong>3</strong> Withdraw<br />
<strong>4</strong> Transfer<br />
<strong>5</strong> OrderHold<br />
<strong>6</strong> WithdrawHold<br />
<strong>7</strong> DepositHold<br />
<strong>8</strong> MarginHold<br />
<strong>9</strong> ManualHold<br />
<strong>10</strong> ManualEntry<br />
<strong>11</strong> MarginAcquisition<br />
<strong>12</strong> MarginRelinquish<br />
<strong>13</strong> MarginInterestNetting<br />
<strong>14</strong> MarginOperatorTransferToMarginAccount<br />
<strong>15</strong> MarginOperatorTransferToAssetAccount<br />
<strong>16</strong> MarginUserTransfer<br />
<strong>17</strong> MarginPositionReverseTrade<br />
<strong>18</strong> AffiliateRebate<br />
<strong>19</strong> DistributionEntry<br />
<strong>20</strong> TransferHold<br />
<strong>21</strong> AirDrop<br /></p>
<h3 id='response'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">24214</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">294</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01247667</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Counterparty"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deposit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.138154399436</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678904016338</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">24021</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">293</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01247667</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Counterparty"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deposit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.125677729436</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678706804112</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">23403</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">292</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01311447</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Counterparty"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deposit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.122515996076</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1677575188002</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">22693</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">286</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Counterparty"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Withdraw"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.11033172</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1676348233473</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects as a response, each object represents a transaction.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>TransactionId</td>
<td><strong>Integer.</strong> The ID of the transaction.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>Integer.</strong> The ID of the OMS under which the requested transactions took place.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>Integer.</strong> The single account under which the transactions took place.</td>
</tr>
<tr>
<td>CR</td>
<td><strong>decimal.</strong> Credit entry for the account on the order book. Funds entering an account.</td>
</tr>
<tr>
<td>DR</td>
<td><strong>decimal.</strong> Debit entry for the account on the order book. Funds leaving an account.</td>
</tr>
<tr>
<td>Counterparty</td>
<td><strong>long integer.</strong> The corresponding party in a trade.</td>
</tr>
<tr>
<td>TransactionType</td>
<td><strong>string.</strong> The type of transaction:<br />1 Fee<br />2 Trade<br />3 Other<br />4 Reverse<br />5 Hold<br />6 Rebate<br />7 MarginAcquisition<br />8 MarginRelinquish</td>
</tr>
<tr>
<td>ReferenceId</td>
<td><strong>long integer.</strong> The ID of the action or event that triggered this transaction.</td>
</tr>
<tr>
<td>ReferenceType</td>
<td><strong>integer.</strong> The type of action or event that triggered this transaction. One of:<br />1 Trade<br />2 Deposit<br />3 Withdraw<br />4 Transfer<br />5 OrderHold<br />6 WithdrawHold<br />7 DepositHold<br />8 MarginHold<br />9 ManualHold<br />10 ManualEntry<br />11 MarginAcquisition<br />12 MarginRelinquish<br />13 MarginQuoteHold</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product on this account’s side of the transaction. For example, in a dollars-for-BitCoin transaction, one side will have the product Dollar and the other side will have the product BitCoin. Use <strong>GetProduct</strong> to return information about a product based on its ID.</td>
</tr>
<tr>
<td>Balance</td>
<td><strong>decimal.</strong> The balance in the account after the transaction.</td>
</tr>
<tr>
<td>TimeStamp</td>
<td><strong>long integer.</strong> Time at which the transaction took place, in POSIX format.</td>
</tr>
</tbody></table>
<h2 id='getaccountpositions'>GetAccountPositions</h2>
<p><strong>Permissions:</strong> Operator,Trading,AccountReadOnly,Manual Trader<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a list of Positions(Balances) on a specific account. Starting APEX version 4.2, a new field in the request payload was added: <strong>IncludePending</strong>.</p>
<h3 id='request-2'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountPositions</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">IncludePending</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountPositions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">b59915f0-06c5-4d41-8fbf-fd157af7ea30</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IncludePending"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account on the OMS for which positions will be returned for. <strong>required.</strong></td>
</tr>
<tr>
<td>IncludePending</td>
<td><strong>boolean.</strong> If true, pending deposit and withdraw amounts will be included in the response, else they will not be included. Defaults to false if not defined. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.95</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Hold"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PendingDeposits"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PendingWithdraws"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayDeposits"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthDeposits"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalYearDeposits"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayDepositNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthDepositNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalYearDepositNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayWithdraws"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthWithdraws"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalYearWithdraws"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayWithdrawNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthWithdrawNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalYearWithdrawNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.95</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalHoldAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayTransferNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Hold"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PendingDeposits"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PendingWithdraws"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayDeposits"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthDeposits"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalYearDeposits"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayDepositNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthDepositNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalYearDepositNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayWithdraws"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthWithdraws"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalYearWithdraws"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayWithdrawNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthWithdrawNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalYearWithdrawNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalHoldAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">30005</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayTransferNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects as a response.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS to which the account is assigned.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account whose positions/balances were retrieved.</td>
</tr>
<tr>
<td>ProductSymbol</td>
<td><strong>string.</strong> The symbol of a specific product.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of a specific product.</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The current actual balance of the account for a specific product.</td>
</tr>
<tr>
<td>Hold</td>
<td><strong>decimal.</strong> The current actual hold amount against the current balance of the account for a specific product. A hold amount is part of the total balance or the <strong>Amount</strong> field value but is not available to be used for other transactions. A trade on working status of 100 units at $1 each will produce a $100 hold.</td>
</tr>
<tr>
<td>PendingDeposits</td>
<td><strong>decimal.</strong> Deposit amount for a specific product that is not yet credited to the account.</td>
</tr>
<tr>
<td>PendingWithdraws</td>
<td><strong>decimal.</strong> Withdraw amount for a specific product that is not yet debited from the account</td>
</tr>
<tr>
<td>TotalDayDeposits</td>
<td><strong>decimal.</strong> Total amount deposited by the account for a specific product in the current day; UTC Midnight and UTC Midnight.</td>
</tr>
<tr>
<td>TotalMonthDeposits</td>
<td><strong>decimal.</strong> Total amount deposited by the account for a specific product in the current month.</td>
</tr>
<tr>
<td>TotalYearDeposits</td>
<td><strong>decimal.</strong> Total amount deposited by the account for a specific product in the current year.</td>
</tr>
<tr>
<td>TotalDayDepositNotional</td>
<td><strong>decimal.</strong> Total amount in notional value deposited by the account for a specific product in the current day.</td>
</tr>
<tr>
<td>TotalMonthDepositNotional</td>
<td><strong>decimal.</strong> Total amount in notional value deposited by the account for a specific product in the current month.</td>
</tr>
<tr>
<td>TotalYearDepositNotional</td>
<td><strong>decimal.</strong> Total amount in notional value deposited by the account for a specific product in the current year.</td>
</tr>
<tr>
<td>TotalDayWithdraws</td>
<td><strong>decimal.</strong> Total amount withdrawn by the account for a specific product in the current day; UTC Midnight and UTC Midnight.</td>
</tr>
<tr>
<td>TotalMonthWithdraws</td>
<td><strong>decimal.</strong> Total amount withdrawn by the account for a specific product in the current month.</td>
</tr>
<tr>
<td>TotalYearWithdraws</td>
<td><strong>decimal.</strong> Total amount withdrawn by the account for a specific product in the current year.</td>
</tr>
<tr>
<td>TotalDayWithdrawNotional</td>
<td><strong>decimal.</strong> Total amount in notional value withdrawn by the account for a specific product in the current day.</td>
</tr>
<tr>
<td>TotalMonthWithdrawNotional</td>
<td><strong>decimal.</strong> Total amount in notional value withdrawn by the account for a specific product in the current month.</td>
</tr>
<tr>
<td>TotalYearWithdrawNotional</td>
<td><strong>decimal.</strong> Total amount in notional value withdrawn by the account for a specific product in the current year.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The ID of the product set as the BaseNotionalProduct on the OMS.</td>
</tr>
<tr>
<td>NotionalProductSymbol</td>
<td><strong>string.</strong> The symbol of the product set as the BaseNotionalProduct on the OMS.</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> The current actual balance in notional value of the account for a specific product.</td>
</tr>
<tr>
<td>NotionalHoldAmount</td>
<td><strong>decimal.</strong> The current actual hold amount in notional value against the current balance of the account for a specific product.</td>
</tr>
<tr>
<td>NotionalRate</td>
<td><strong>decimal.</strong> The current rate of a specific product against the notional product.</td>
</tr>
<tr>
<td>TotalDayTransferNotional</td>
<td><strong>decimal.</strong> Total amount in notional value transfered by the account for a specific product in the current day.</td>
</tr>
</tbody></table>
<h2 id='getaccountinstrumentstatistics'>GetAccountInstrumentStatistics</h2>
<p><strong>Permissions:</strong> Operator,Trading,AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a list of Instrument Statistics of a specific account.</p>
<h3 id='request-3'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountInstrumentStatistics</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountInstrumentStatistics</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">b59915f0-06c5-4d41-8fbf-fd157af7ea30</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account on the OMS for which instrument statistics will be returned for. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityBought"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantitySold"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalBought"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalSold"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyQuantityBought"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1602</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyQuantitySold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3202</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyNotionalBought"</span><span class="p">:</span><span class="w"> </span><span class="mf">3754.96</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyNotionalSold"</span><span class="p">:</span><span class="w"> </span><span class="mf">8315.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeVolume"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyTradeVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">12069.96</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayBuys"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDaySells"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthBuys"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthSells"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalConversionRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalConversionSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RollingMonthlyStartDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">910</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DailyNotionalTradeVolume"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyNotionalTradeVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">12069.96</span><span class="p">,</span><span class="w">
    </span><span class="nl">"YearlyNotionalTradeVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">12069.96</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETHUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityBought"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantitySold"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalBought"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalSold"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyQuantityBought"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.08</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyQuantitySold"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyNotionalBought"</span><span class="p">:</span><span class="w"> </span><span class="mf">1874.88</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyNotionalSold"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeVolume"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyTradeVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">1874.88</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDayBuys"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalDaySells"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthBuys"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TotalMonthSells"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalConversionRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalConversionSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RollingMonthlyStartDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">916</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DailyNotionalTradeVolume"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MonthlyNotionalTradeVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">1874.88</span><span class="p">,</span><span class="w">
    </span><span class="nl">"YearlyNotionalTradeVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">1874.88</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which the instrument statistics is for.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the account for which the instrument statistics is for.</td>
</tr>
<tr>
<td>InstrumentSymbol</td>
<td><strong>string.</strong> The symbol of a specific instrument.</td>
</tr>
<tr>
<td>QuantityBought</td>
<td><strong>decimal.</strong> Quantity of the instrument bought by the account at the current trading day.</td>
</tr>
<tr>
<td>QuantitySold</td>
<td><strong>integer.</strong> Quantity of the instrument sold by the account at the current trading day.</td>
</tr>
<tr>
<td>NotionalBought</td>
<td><strong>integer.</strong> Notional value of the instrument bought by the account at the current trading day.</td>
</tr>
<tr>
<td>NotionalSold</td>
<td><strong>integer.</strong> Notional value of the instrument sold by the account at the current trading day.</td>
</tr>
<tr>
<td>MonthlyQuantityBought</td>
<td><strong>integer.</strong> Quantity of the instrument bought by the account for the current month.</td>
</tr>
<tr>
<td>MonthlyQuantitySold</td>
<td><strong>integer.</strong> Quantity of the instrument sold by the account for the current month.</td>
</tr>
<tr>
<td>MonthlyNotionalBought</td>
<td><strong>integer.</strong> Notional value of the instrument bought by the account at the current month.</td>
</tr>
<tr>
<td>MonthlyNotionalSold</td>
<td><strong>integer.</strong> Notional value of the instrument sold by the account at the current month.</td>
</tr>
<tr>
<td>TradeVolume</td>
<td><strong>integer.</strong> Total quantity of the instrument either sold or bought by the account at the current trading day.</td>
</tr>
<tr>
<td>MonthlyTradeVolume</td>
<td><strong>integer.</strong> Total quantity of the instrument either sold or bought by the account at the current month.</td>
</tr>
<tr>
<td>TotalDayBuys</td>
<td><strong>integer.</strong> Total number of times the account bought the instrument at the current trading day.</td>
</tr>
<tr>
<td>TotalDaySells</td>
<td><strong>integer.</strong> Total number of times the account sold the instrument at the current trading day.</td>
</tr>
<tr>
<td>TotalMonthBuys</td>
<td><strong>integer.</strong> Total number of times the account bought the instrument at the current month.</td>
</tr>
<tr>
<td>TotalMonthSells</td>
<td><strong>integer.</strong> Total number of times the account sold the instrument at the current month.</td>
</tr>
<tr>
<td>NotionalConversionRate</td>
<td><strong>integer.</strong> The notional conversion rate.</td>
</tr>
<tr>
<td>NotionalConversionSymbol</td>
<td><strong>string.</strong> The notional conversion symbol.</td>
</tr>
<tr>
<td>RollingMonthlyStartDate</td>
<td><strong>integer.</strong> The rolling monthly start date.</td>
</tr>
<tr>
<td>LastTradeId</td>
<td><strong>integer.</strong> The ID of the most recent trade the account has for the instrument.</td>
</tr>
<tr>
<td>DailyNotionalTradeVolume</td>
<td><strong>integer.</strong> The notional trade volume of the account for the specific instrument at the current trading day.</td>
</tr>
<tr>
<td>MonthlyNotionalTradeVolume</td>
<td><strong>integer.</strong> The notional trade volume of the account for the specific instrument at the current month.</td>
</tr>
<tr>
<td>YearlyNotionalTradeVolume</td>
<td><strong>integer.</strong> The notional trade volume of the account for the specific instrument at the current year.</td>
</tr>
</tbody></table>
<h2 id='getaccountsettlementpositions'>GetAccountSettlementPositions</h2>
<p><strong>Permissions:</strong> Operator,Trading,AccountReadOnly,Manual Trader<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a list of settlement positions of a specific account.</p>

<p>This is specifically for credit risk type accounts which are under a specific credit tier. Credit accounts&#39; balances are allowed to go negative but they should be settled later on. This API is useful for monitoring credit accounts, useful information such as CreditLimit, CreditUtilization, and CreditRemaining of an account for each product are available in the results.</p>
<h3 id='request-4'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountSettlementPositions</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountSettlementPositions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">b59915f0-06c5-4d41-8fbf-fd157af7ea30</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account on the OMS for which settlement positions will be returned for. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreditTier"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TradingHalted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BaseProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BaseProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BaseProductAmountFiat"</span><span class="p">:</span><span class="w"> </span><span class="mf">1020609197.1267146621490396645</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BaseProductAmountCrypto"</span><span class="p">:</span><span class="w"> </span><span class="mf">1336495.5472144534654955855389</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BaseProductNetOwedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BaseProductNetOwedLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BaseProductNetOwedRemaining"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BaseProductNetOwedAmountFiat"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BaseProductNetOwedAmountCrypto"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountSettlementPositions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProductType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NationalCurrency"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Position"</span><span class="p">:</span><span class="w"> </span><span class="mf">1020603580.2743277184022</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BaseProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BaseProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BaseProductNotionalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditUtilization"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditRemaining"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CurrentNotionalRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CurrentBaseProductNotionalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1020603580.2743277184022</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProductType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CryptoCurrency"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Position"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4050939208713710849836927848</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BaseProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BaseProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BaseProductNotionalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditUtilization"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CreditRemaining"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CurrentNotionalRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">30015</span><span class="p">,</span><span class="w">
      </span><span class="nl">"CurrentBaseProductNotionalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">12158.894034954203115785538936</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where a specific credit account is assigned.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account which may or may not have settlement obligation.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> The name of the account which may or may not have settlement obligation.</td>
</tr>
<tr>
<td>CreditTier</td>
<td><strong>integer.</strong> The credit trier at which the specific account belongs to or is assigned to.</td>
</tr>
<tr>
<td>TradingHalted</td>
<td><strong>boolean.</strong> Identifies if the specific account has been barred from doing any trading activities due to unsettled obligations.</td>
</tr>
<tr>
<td>BaseProductId</td>
<td><strong>integer.</strong> The ID of the product that serves just like a notional product. It is the BaseNotionalProduct set in the OMS.</td>
</tr>
<tr>
<td>BaseProductSymbol</td>
<td><strong>string.</strong> The symbol of the product that serves just like a notional product. It is the BaseNotionalProduct set in the OMS.</td>
</tr>
<tr>
<td>BaseProductAmountFiat</td>
<td><strong>decimal.</strong> The total amount/value of all the fiat positions of the account converted to the BaseProduct.</td>
</tr>
<tr>
<td>BaseProductAmountCrypto</td>
<td><strong>decimal.</strong> The total amount/value of all the crypto positions of the account converted to the BaseProduct.</td>
</tr>
<tr>
<td>BaseProductNetOwedAmount</td>
<td><strong>decimal.</strong> The total amount owed by the specific account in the BaseProduct denomination. This is the total amount that the specific account needs to settle.</td>
</tr>
<tr>
<td>BaseProductNetOwedLimit</td>
<td><strong>decimal.</strong> The total credit limit of the specific account in the BaseProduct denomination.</td>
</tr>
<tr>
<td>BaseProductNetOwedRemaining</td>
<td><strong>decimal.</strong> The total remaining credit limit of the specific account in the BaseProduct denomination.</td>
</tr>
<tr>
<td>BaseProductNetOwedAmountFiat</td>
<td><strong>decimal.</strong> The total fiat net owed of the specific account in the BaseProduct denomination. This amount needs to be settled.</td>
</tr>
<tr>
<td>BaseProductNetOwedAmountCrypto</td>
<td><strong>decimal.</strong> The total crypto net owed of the specific account in the BaseProduct denomination. This amount needs to be settled.</td>
</tr>
<tr>
<td>AccountSettlementPositions</td>
<td><strong>array of objects.</strong> Contains the actual settlement position of the specified account for all products.  Each object represents a settlement positions for a specific product. The objects fields are:<br /><strong>OMSId</strong> <em>integer</em> - the ID of the OMS.<br /><strong>AccountId</strong> <em>integer</em> - the ID of the account<br /><strong>ProductId</strong> <em>integer</em> - the ID of the product the settlement position is for.<br /><strong>ProductSymbol</strong> <em>string</em> - the symbol of the product the settlement position is for.<br /><strong>ProductType</strong> <em>string</em> - the type of the product the settlement position is for. Either <em>NationalCurrency</em> or <em>CryptoCurrency</em><br /><strong>Position</strong> <em>decimal</em> - the current balance of the account for a specific product.<br /><strong>BaseProductId</strong> <em>integer</em> - the ID of the base notional product.<br /><strong>BaseProductSymbol</strong> <em>string</em> - the symbol of the base notional product.<br /><strong>BaseProductNotionalAmount</strong> <em>decimal</em> - the base product notional amount.<br/><strong>CreditLimit</strong> <em>decimal</em> - the total credit limit, depends on the credit tier.<br/><strong>CreditUtilization</strong> <em>decimal</em> - the amount of credit utilize/used.<br/><strong>CreditRemaining</strong> <em>decimal</em> - the amount of credit that can still be used, would be the difference between the <strong>CreditLimit</strong> and <strong>CreditUtilization</strong><br/><strong>CurrentNotionalRate</strong> <em>decimal</em> - the notional rate of the base notional product.<br/><strong>CurrentBaseProductNotionalAmount</strong> <em>decimal</em> - the current base notional value of the current position of the account.</td>
</tr>
</tbody></table>
<h2 id='getaccountinfo'>GetAccountInfo</h2>
<p><strong>Permissions:</strong> Operator, Trading, AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns detailed information about one specific account and existing on a specific OMS. If accountId is not defined, the details of the default account of the authenticated user will be retrieved.</p>
<h3 id='request-5'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountInfo</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountInfo</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c91f4010-78db-475a-b3ad-311cc8f45976</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the account exists. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account on the OMS for which information will be returned. If not defined, the default of account of the authenticated user will be retrieved. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-5'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountHandle"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"FirmId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"FirmName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asset"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"FeeGroupId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ParentID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RiskType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"VerificationLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"VerificationLevelName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreditTier"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"FeeProductType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BaseProduct"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"FeeProduct"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RefererId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LoyaltyProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LoyaltyEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceTier"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Frozen"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSID</td>
<td><strong>integer.</strong> The ID of the OMS on which the account resides.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which information was requested.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> A non-unique name for the account assigned by the user.</td>
</tr>
<tr>
<td>AccountHandle</td>
<td><strong>string.</strong> <em>accountHandle</em> is a unique user-assigned name that is checked at create time by the OMS to assure its uniqueness.</td>
</tr>
<tr>
<td>FirmId</td>
<td><strong>string.</strong> An arbitrary identifier assigned by a trading venue operator to a trading firm as part of the initial company, user, and account set up process. For example, Smith Financial Partners might have the ID SMFP.</td>
</tr>
<tr>
<td>FirmName</td>
<td><strong>string.</strong> A longer, non-unique version of the trading firm’s name; for example, Smith Financial Partners.</td>
</tr>
<tr>
<td>AccountType</td>
<td><strong>integer.</strong> The account type the specific account is currently set to. One of:<br />Asset (0)<br />Liability (1)<br />. Default is <strong>Asset</strong></td>
</tr>
<tr>
<td>FeeGroupId</td>
<td><strong>integer.</strong> Defines account attributes relating to how fees are calculated and assessed. Set by trading venue operator.</td>
</tr>
<tr>
<td>ParentID</td>
<td><strong>integer.</strong> Reserved for future development.</td>
</tr>
<tr>
<td>RiskType</td>
<td><strong>integer.</strong> One of:<br />Unkown (0) (an error condition)<br />Normal (1)<br />NoRiskCheck (2)<br />NoTrading (3)<br />Credit (4)<br /><br />Returns <strong>Normal</strong> for virtually all market participants. Other types indicate account configurations assignable by the trading venue operator.</td>
</tr>
<tr>
<td>VerificationLevel</td>
<td><strong>integer.</strong> The verification level the account is currently at. Verification level limits the amounts of deposits and withdrawals. It is defined by and set by the trading venue operator for each account and is part of the KYC (&quot;Know Your Customer&quot;) process, which may be automated or manual. An account can earn a higher Verification Level over time.</td>
</tr>
<tr>
<td>VerificationLevelName</td>
<td><strong>string.</strong> Name of the verification level, newly added field in version 4.4.</td>
</tr>
<tr>
<td>CreditTier</td>
<td><strong>integer.</strong> The credit tier the account is currently at. Default is 0. applicable to accounts with <em>RiskType</em> <strong>Credit</strong></td>
</tr>
<tr>
<td>FeeProductType</td>
<td><strong>string.</strong> One of:<br />BaseProduct<br />SingleProduct<br /><br />Trading fees may be charged by a trading venue operator. (Withdrawal fees may also be charged, but that is a separate setting dependent on product and instrument.) This value shows whether fees for this account’s trades are charged in the product being traded (BaseProduct, for example BitCoin) or whether the account has a preferred fee-paying product (SingleProduct, for example USD) to use in all cases and regardless of product being traded.</td>
</tr>
<tr>
<td>FeeProduct</td>
<td><strong>integer.</strong> The ID of the preferred fee product, if any. Defaults to 0.</td>
</tr>
<tr>
<td>RefererId</td>
<td><strong>integer.</strong> Captures the ID of the entity who referred this account to the trading venue, usually captured for marketing purposes.</td>
</tr>
<tr>
<td>LoyaltyProductId</td>
<td><strong>integer.</strong> The Loyalty Token is a parallel fee structure that replaces the general set of transaction fees. An exchange can promote activity on a specific cryptocurrency token by offering discounted transaction fees denominated in that token to customers who choose that fee structure. This key is the ID of the loyalty product chosen by the Exchange. There can be one Loyalty Token per OMS.</td>
</tr>
<tr>
<td>LoyaltyEnabled</td>
<td><strong>boolean.</strong> If <em>true</em>, this account has accepted the Loyalty Token fee structure. If <em>false</em>, the account has not accepted it. The default setting is <em>false</em>.</td>
</tr>
<tr>
<td>PriceTier</td>
<td><strong>integer.</strong> The price tier where the account is currently at. Default is 0.</td>
</tr>
<tr>
<td>Frozen</td>
<td><strong>boolean.</strong> If <em>true</em>, account is Frozen and will not be able to perform assets outgoing transactions such as a withdrawal. If <em>false</em>, account is not frozen and can perform any transaction. The default setting is <em>false</em>.</td>
</tr>
</tbody></table>
<h2 id='getaccountbadges'>GetAccountBadges</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves an account&#39;s badge/s. An account badge is required in submitting a <strong>BlockTrade</strong>, it is will be the value of the <strong>CounterpartyId</strong>.</p>
<h3 id='request-6'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountBadges</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountBadges</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">7cb8f194-6ee6-4bf3-8e50-b11251eba458</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account whose badge/s will be retrieved. <strong>required.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-6'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"BadgeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Badge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"APSecretBadge"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of OMS.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account who owns the badge.</td>
</tr>
<tr>
<td>BadgeId</td>
<td><strong>integer.</strong> The ID of the account badge.</td>
</tr>
<tr>
<td>Badge</td>
<td><strong>string.</strong> The actual account badge.</td>
</tr>
<tr>
<td>Active</td>
<td><strong>boolean.</strong> If true, means the badge is active and can be used, otherwise, it can&#39;t be used.</td>
</tr>
</tbody></table>
<h2 id='getbadgeaccount'>GetBadgeAccount</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves account id for a badge.</p>
<h3 id='request-7'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetBadgeAccount</span><span class="dl">"</span><span class="p">,</span>
<span class="p">{</span>
     <span class="dl">"</span><span class="s2">OMSId</span><span class="dl">"</span><span class="p">:</span>  <span class="mi">1</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">Badge</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">APSecretBadge</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetBadgeAccount</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">7cb8f194-6ee6-4bf3-8e50-b11251eba458</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
     </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Badge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"APSecretBadge"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Badge</td>
<td><strong>string.</strong> The badge name. <strong>required.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-7'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BadgeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Badge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"APSecretBadge"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of OMS.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account who owns the badge.</td>
</tr>
<tr>
<td>BadgeId</td>
<td><strong>integer.</strong> The ID of the account badge.</td>
</tr>
<tr>
<td>Badge</td>
<td><strong>string.</strong> The actual account badge.</td>
</tr>
<tr>
<td>Active</td>
<td><strong>boolean.</strong> If true, means the badge is active and can be used, otherwise, it can&#39;t be used.</td>
</tr>
</tbody></table>
<h2 id='getaccountconfig'>GetAccountConfig</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves the list of Key/Value pairs of configs for an Account</p>
<h3 id='request-8'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountConfig</span><span class="dl">"</span><span class="p">,</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">OMSId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountConfig</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">7cb8f194-6ee6-4bf3-8e50-b11251eba458</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID whose config/s will be retrieved. <strong>required.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-8'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IBAOptedIn"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td><strong>string.</strong> The account config key name.</td>
</tr>
<tr>
<td>Value</td>
<td><strong>string.</strong> The account config key value.</td>
</tr>
</tbody></table>
<h2 id='setaccountconfig'>SetAccountConfig</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Sets or updates an account&#39;s key/value pair configuration/s.</p>
<h3 id='request-9'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SetAccountConfig</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">Config</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">Key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">VIP</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">Value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">true</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">Key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">AnotherAccountConfig</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">Value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">AnotherAccountConfigKeyValue</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">],</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/SetAccountConfig</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">9689b493-5bab-4aae-9ac5-059a312d2cf9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">219</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Config"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VIP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnotherAccountConfig"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnotherAccountConfigKeyValue"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which the config will be added. If not defined, config will be added for the authenticated user. <strong>required.</strong></td>
</tr>
<tr>
<td>Config</td>
<td><strong>array.</strong> An array of objects where the actual key-value pair/s are defined. Each element is an object and represents 1 key-value pair.<br/><strong>Key</strong> - <strong>string</strong> - the actual key name of the user config. <strong>required.</strong><br/><strong>Value</strong> - <strong>string</strong> - the actual value to be set for the specific key. <strong>required.</strong><br/> If key is already existing, value will be updated.</td>
</tr>
</tbody></table>
<h3 id='response-9'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. An additional message that the system may give, usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='getallledgerentrytickets'>GetAllLedgerEntryTickets</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves all ledger entries for a specific account if user invoking the request has the standard permissions only; a user with Trading permission can only retrieve ledger entries for accounts it is associated with(<strong>AccountId</strong> is required). Can retrieve ledger entries for all accounts if user invoking the request has Operator permission.</p>

<p>Results can also be filtered according to optional search parameters such as <strong>ProductId</strong>, other optional parameters are defined in the request key-value table below.</p>

<p>It is also possible to filter according to <strong>AccountLedgerEntryId</strong>.</p>
<h3 id='request-10'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAllLedgerEntryTickets</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAllLedgerEntryTickets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c5f917b9-f173-4c29-a615-1503d2e78023 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS on which the orders took place. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer</strong>. The account ID for which the ledger entry was executed for, required if user invoking that request has standard permissions. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The product which was either debited or credited to the account. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>EnteredBy</td>
<td><strong>integer.</strong> The id of the user who submitted the account ledger entry. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>Limit</td>
<td><strong>integer</strong>. The maximum number/count of ledger entries to be retrieved. If not specified, maximum number of results will be according to the <strong>MaxApiResponseResultSet</strong> Gateway setting. <strong>optional.</strong></td>
</tr>
<tr>
<td>AccountLedgerEntryId</td>
<td><strong>integer</strong>. The Id of the actual ledger entry. If value is 0(the same as not putting the filter), results will have all the ledger entries for the specific account, if value is greater than 0 and exactly matches a ledger entry for the specific account, it will result to just one ledger entry being returned as 1 id represents exactly 1 ledger entry, if the id does not match any account ledger entry for the specific account, the result will be an empty array. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartTimestamp</td>
<td><strong>long integer.</strong> Can be used to filter results based on timestamp the ledger entry has happened. <strong>optional.</strong></td>
</tr>
<tr>
<td>EndTimeStamp</td>
<td><strong>long integer.</strong> Can be used to filter results based on timestamp the ledger entry has happened. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-10'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CR_Amt"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DR_Amt"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">""</span><span class="p">],</span><span class="w">
    </span><span class="nl">"OneSidedTransaction"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountLedgerEntryId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3519</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1676542115034</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manual"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DoNotAffectBalance"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionReferenceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ManualEntry"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CR_Amt"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DR_Amt"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">""</span><span class="p">],</span><span class="w">
    </span><span class="nl">"OneSidedTransaction"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountLedgerEntryId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3509</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1676260561012</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manual"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DoNotAffectBalance"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionReferenceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ManualEntry"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects, each object represents a ledger entry. Results are arranged according to TimeStamp in descending order, the most recent ledger entry being at the top. The call returns an empty array if there are no ledger entries for the account.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccountId</td>
<td><strong>integer</strong>. The account ID for which the ledger entry was executed for. Or the account which was either debited or credited.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The product which was either debited or credited to the account.</td>
</tr>
<tr>
<td>CR_Amt</td>
<td><strong>decimal</strong> The amount credited, if value is greater than 0, it means the account was credited.</td>
</tr>
<tr>
<td>DR_Amt</td>
<td><strong>decimal</strong> The amount debited, if value is greater than 0, it means the account was debited.</td>
</tr>
<tr>
<td>EnteredBy</td>
<td><strong>integer.</strong> The id of the user who submitted the account ledger entry.</td>
</tr>
<tr>
<td>Comments</td>
<td><strong>array</strong>. Any note or comment entered for the ledger entry.</td>
</tr>
<tr>
<td>OneSidedTransaction</td>
<td><strong>integer</strong>. Either 0 or 1, if 1 it means the transaction is one sided which would then mean that there will be no counterparty. Only the AccountId specified will have changes in the balance, either credited or debited.</td>
</tr>
<tr>
<td>AccountLedgerEntryId</td>
<td><strong>integer</strong>. The Id of the actual ledger entry.</td>
</tr>
<tr>
<td>TimeStamp</td>
<td><strong>long integer</strong>. Time stamp of the order in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone)</td>
</tr>
<tr>
<td>Status</td>
<td><strong>string</strong>. The status of the ledger entry</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>long integer</strong>. The reason why the ledger entry was rejected.</td>
</tr>
<tr>
<td>AccountChangeReason</td>
<td><strong>string</strong>. Always <strong>Manual</strong> since a ledger entry is a ManualEntry TransactionReferenceType.</td>
</tr>
<tr>
<td>CounterPartyId</td>
<td><strong>integer</strong>. The id of the counterparty account. If the accountid was debited, the counterpartyid was credited. Usually has a value of 3, it is the OMS Liability Account. If CounterpartyId was set to a value other than 3, the counterpart transaction either debit or credit will happen to the specific id and it will be the one to reflect as the value of this field.</td>
</tr>
<tr>
<td>DoNotAffectBalance</td>
<td><strong>boolean</strong>. If true, the balance of both the account and the counterparty will not be affected or remain the same(as if there was not ledger entry that happened), otherwise, there will be credit and debit to respective accounts.</td>
</tr>
<tr>
<td>TransactionType</td>
<td><strong>string</strong>. Always <strong>Other</strong> since a ledger entry is classified as TransactionType <strong>Other</strong>.</td>
</tr>
<tr>
<td>TransactionReferenceType</td>
<td><strong>string</strong>. Always <strong>ManualEntry</strong> since a ledger entry is classified as a TransactionReferenceType <strong>ManualEntry</strong>.</td>
</tr>
</tbody></table>
<h1 id='authentication'>Authentication</h1><h2 id='authenticate'>Authenticate</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>CallType:</strong> Synchronous</p>

<p>Authenticates a user. Works just like <a href="https://23harolds.github.io/#authenticateuser">AuthenticateUser</a> except that this particular API is only applicable for HTTP.</p>

<p>If 2FA is enabled, see <a href="https://trading.alphapointuniversity.com/#authenticate2fa">Authenticate2FA</a>. Authentication using an API key bypasses 2FA.</p>
<h3 id='request-11'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//Authenticate endpoint is only applicable for HTTP</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/AP/Authenticate</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Base64 encoded username:password</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/AP/Authenticate</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">APIKey</span><span class="p">:</span> <span class="s">"28c68ac3fcfafc3d4e8d653fe57e5baf",</span>
<span class="na">Signature</span><span class="p">:</span> <span class="s">"29c15c42e4fabcc9e229421e148e647903927c503ab4578ada55bb13a63a9636",</span>
<span class="na">UserId</span><span class="p">:</span> <span class="s">"96",</span>
<span class="na">Nonce</span><span class="p">:</span> <span class="s">"2247733562"</span>
</code></pre></div><h4 id='http-api-key-will-be-included-as-headers'>HTTP(API Key - will be included as Headers)</h4>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>APIKey</td>
<td><strong>string.</strong> This is an AlphaPoint-generated key used in user-identification.</td>
</tr>
<tr>
<td>Signature</td>
<td><strong>string.</strong> A long, alphanumeric string generated by AlphaPoint by using the APIKey and Nonce. To generate your own signature with a different nonce, [HMAC-Sha256]9(https://codebeautify.org/hmac-generator)encode your nonce, user ID, and API key, in the format NonceUserIdAPIKey using the secret as your key.</td>
</tr>
<tr>
<td>UserId</td>
<td><strong>string.</strong> The ID of the user, stated as a string.</td>
</tr>
<tr>
<td>Nonce</td>
<td><strong>string.</strong> Any arbitrary number or random string used with the APIKey to generate a signature.</td>
</tr>
</tbody></table>
<h4 id='http'>HTTP</h4>
<table><thead>
<tr>
<th>Header</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td><strong>string.</strong> Base64 encoded value of username and password in the format username:password</td>
</tr>
</tbody></table>
<h3 id='response-11'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="err">//Response</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">username</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">password</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">used</span><span class="w"> </span><span class="err">while</span><span class="w"> </span><span class="err">user's</span><span class="w"> </span><span class="mi">2</span><span class="err">FA</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">enabled</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"Authenticated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Requires2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AuthType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AddtlInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Response</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">username</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">password</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">used</span><span class="w"> </span><span class="err">while</span><span class="w"> </span><span class="err">user's</span><span class="w"> </span><span class="mi">2</span><span class="err">FA</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">enabled</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"Authenticated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a923322a-5140-4d20-b2a6-e07422bb0e6e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"User"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@alphapoint.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EmailVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Use2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Requires2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"EnforceEnable2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TwoFAType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TwoFAToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Response</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">key</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">used.</span><span class="w"> </span><span class="mi">2</span><span class="err">FA</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">bypassed.</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"Authenticated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02de4e6d-507d-4e89-8a2c-49a9935d5607"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"User"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"secretemail@dispostable.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EmailVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Use2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Requires2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnforceEnable2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TwoFAType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TwoFAToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Authenticated</td>
<td><strong>boolean.</strong> <em>True</em> if the user is authenticated; <em>false</em> otherwise.</td>
</tr>
<tr>
<td>User</td>
<td>JSON user object (below)</td>
</tr>
<tr>
<td>Locked</td>
<td><strong>boolean.</strong> <em>True</em> if the user is currently locked; <em>false</em> otherwise. A user may be locked by trying to log in too many times in rapid succession. He must be <em>unlocked</em> by an admin.</td>
</tr>
<tr>
<td>Requires2FA</td>
<td><strong>boolean.</strong> <em>True</em> if the user must use two-factor authentication; <em>false</em> otherwise.</td>
</tr>
<tr>
<td>TwoFAType</td>
<td><strong>string.</strong> The type of 2FA this user requires. For example, <strong>Google</strong>.</td>
</tr>
<tr>
<td>TwoFAToken</td>
<td><strong>string.</strong> Defaults to null.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of the call returns <em>null</em>.</td>
</tr>
</tbody></table>

<p>JSON user object:</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user being authenticated on the exchange.</td>
</tr>
<tr>
<td>UserName</td>
<td><strong>string.</strong> The name of the user.</td>
</tr>
<tr>
<td>Email</td>
<td><strong>string.</strong> The email address of the user.</td>
</tr>
<tr>
<td>EmailVerified</td>
<td><strong>boolean.</strong> Whether the email address has been verified by the registration process or directly by an Admin.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account with which the user is associated (each user has a default account).</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS with which the user and account are associated.</td>
</tr>
<tr>
<td>Use2FA</td>
<td><strong>boolean.</strong> <em>True</em> if the user must use 2FA to log in; <em>false</em> otherwise.</td>
</tr>
</tbody></table>
<h2 id='authenticateuser'>AuthenticateUser</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>CallType:</strong> Synchronous</p>

<p>Authenticates a user.</p>

<p>If 2FA is enabled, see <a href="https://trading.alphapointuniversity.com/#authenticate2fa">Authenticate2FA</a>. Authentication using an API key bypasses 2FA.</p>
<h3 id='request-12'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//Username Password authentication</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">AuthenticateUser</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">Username</span><span class="p">:</span> <span class="dl">"</span><span class="s2">username</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Password</span><span class="p">:</span> <span class="dl">"</span><span class="s2">password</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//API key authentication</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">AuthenticateUser</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">APIKey</span><span class="p">:</span> <span class="dl">"</span><span class="s2">28c68ac3fcfafc3d4e8d653fe57e5baf</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Signature</span><span class="p">:</span> <span class="dl">"</span><span class="s2">29c15c42e4fabcc9e229421e148e647903927c503ab4578ada55bb13a63a9636</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">96</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Nonce</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2247733562</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/AP/AuthenticateUser</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Base64 encoded username:password</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/AP/AuthenticateUser</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">APIKey</span><span class="p">:</span> <span class="s">"28c68ac3fcfafc3d4e8d653fe57e5baf",</span>
<span class="na">Signature</span><span class="p">:</span> <span class="s">"29c15c42e4fabcc9e229421e148e647903927c503ab4578ada55bb13a63a9636",</span>
<span class="na">UserId</span><span class="p">:</span> <span class="s">"96",</span>
<span class="na">Nonce</span><span class="p">:</span> <span class="s">"2247733562"</span>
</code></pre></div><h4 id='websocket'>WebSocket</h4>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Username</td>
<td><strong>string.</strong> Username of the user.</td>
</tr>
<tr>
<td>Password</td>
<td><strong>string.</strong> Password of the user.</td>
</tr>
</tbody></table>
<h4 id='websocket-or-http-keys-will-be-included-as-headers'>WebSocket or HTTP(Keys will be included as Headers)</h4>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>APIKey</td>
<td><strong>string.</strong> This is an AlphaPoint-generated key used in user-identification.</td>
</tr>
<tr>
<td>Signature</td>
<td><strong>string.</strong> A long, alphanumeric string generated by AlphaPoint by using the APIKey and Nonce. To generate your own signature with a different nonce, [HMAC-Sha256]9(https://codebeautify.org/hmac-generator)encode your nonce, user ID, and API key, in the format NonceUserIdAPIKey using the secret as your key.</td>
</tr>
<tr>
<td>UserId</td>
<td><strong>string.</strong> The ID of the user, stated as a string.</td>
</tr>
<tr>
<td>Nonce</td>
<td><strong>string.</strong> Any arbitrary number or random string used with the APIKey to generate a signature.</td>
</tr>
</tbody></table>
<h4 id='http-2'>HTTP</h4>
<table><thead>
<tr>
<th>Header</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Authorization</td>
<td><strong>string.</strong> Base64 encoded value of username and password in the format username:password</td>
</tr>
</tbody></table>
<h3 id='response-12'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="err">//Response</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">username</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">password</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">used</span><span class="w"> </span><span class="err">while</span><span class="w"> </span><span class="err">user's</span><span class="w"> </span><span class="mi">2</span><span class="err">FA</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">enabled</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"Authenticated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Requires2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AuthType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AddtlInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Response</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">username</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">password</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">used</span><span class="w"> </span><span class="err">while</span><span class="w"> </span><span class="err">user's</span><span class="w"> </span><span class="mi">2</span><span class="err">FA</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">enabled</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"Authenticated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a923322a-5140-4d20-b2a6-e07422bb0e6e"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"User"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@alphapoint.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EmailVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Use2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"Locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Requires2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"EnforceEnable2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TwoFAType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TwoFAToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Response</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">key</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">used.</span><span class="w"> </span><span class="mi">2</span><span class="err">FA</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">bypassed.</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"Authenticated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02de4e6d-507d-4e89-8a2c-49a9935d5607"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"User"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"secretemail@dispostable.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EmailVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Use2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"Locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Requires2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnforceEnable2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TwoFAType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TwoFAToken"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Authenticated</td>
<td><strong>boolean.</strong> <em>True</em> if the user is authenticated; <em>false</em> otherwise.</td>
</tr>
<tr>
<td>User</td>
<td>JSON user object (below)</td>
</tr>
<tr>
<td>Locked</td>
<td><strong>boolean.</strong> <em>True</em> if the user is currently locked; <em>false</em> otherwise. A user may be locked by trying to log in too many times in rapid succession. He must be <em>unlocked</em> by an admin.</td>
</tr>
<tr>
<td>Requires2FA</td>
<td><strong>boolean.</strong> <em>True</em> if the user must use two-factor authentication; <em>false</em> otherwise.</td>
</tr>
<tr>
<td>TwoFAType</td>
<td><strong>string.</strong> The type of 2FA this user requires. For example, <strong>Google</strong>.</td>
</tr>
<tr>
<td>TwoFAToken</td>
<td><strong>string.</strong> Defaults to null.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of the call returns <em>null</em>.</td>
</tr>
</tbody></table>

<p>JSON user object:</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user being authenticated on the exchange.</td>
</tr>
<tr>
<td>UserName</td>
<td><strong>string.</strong> The name of the user.</td>
</tr>
<tr>
<td>Email</td>
<td><strong>string.</strong> The email address of the user.</td>
</tr>
<tr>
<td>EmailVerified</td>
<td><strong>boolean.</strong> Whether the email address has been verified by the registration process or directly by an Admin.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account with which the user is associated (each user has a default account).</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS with which the user and account are associated.</td>
</tr>
<tr>
<td>Use2FA</td>
<td><strong>boolean.</strong> <em>True</em> if the user must use 2FA to log in; <em>false</em> otherwise.</td>
</tr>
</tbody></table>
<h2 id='authenticate2fa'>Authenticate2FA</h2>
<p><strong>Permissions:</strong> <br />
<strong>CallType:</strong> Synchronous</p>

<p>Complete the 2nd half of two-factor authentication by sending the 2FA code.</p>
<h3 id='request-13'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">Authenticate2FA</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">Code</span><span class="p">:</span> <span class="dl">"</span><span class="s2">235991</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/Authenticate2FA</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">pending2FaToken</span><span class="p">:</span> <span class="s">db1f4eeb-1694-4147-bdfd-4cc915e1f5e4</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">24</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"235991"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Completes the second part of a two-factor authentication by sending the authentication token from the non-AlphaPoint authentication system to the OMS. The call returns a verification that the user logging in has been authenticated, and a token.</p>

<p>Here is how the two-factor authentication process works:</p>

<ol>
<li>In Websockets, if a user&#39;s 2FA is enabled, after the initial authentication with <strong>WebAuthenticateUser</strong>, you will have to call <strong>Authenticate2FA</strong> providing the <strong>2FA Code</strong> in the request payload.</li>
<li>In HTTP, use <strong>Authenticateuser</strong>, or <strong>Authenticate</strong>. The response will include a <em>Pending2FaToken</em> which will then be needed as one of the <strong>Headers</strong> in the <strong>Authenticate2FA</strong> HTTP request. The <strong>2FA Code</strong> at the <strong>Body</strong> of the HTTP request.</li>
</ol>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Code</td>
<td><strong>integer</strong>. The usually a 6-digit code(may vary depending on 2FA AuthType), obtained from an authenticator app.</td>
</tr>
</tbody></table>
<h3 id='response-13'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Authenticated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SessionToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"db1f4eeb-1694-4147-bdfd-4cc915e1f5e4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Authenticated</td>
<td><strong>boolean</strong>. A successful authentication returns <em>true</em>. Unsuccessful returns <em>false</em>.</td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer</strong>. The ID of the authenticated user.</td>
</tr>
<tr>
<td>SessionToken</td>
<td><strong>string</strong>. The actual session token that was granted to user after successful authentication.</td>
</tr>
</tbody></table>
<h2 id='webauthenticateuser'>WebAuthenticateUser</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Used to Authenticate a user and retrieve a Session Token, or to re-authenticate using an existing session in case of a page refresh or loss of Websocket connection. Also accepts JWT.</p>

<p>Authentication using a username and password triggers Authentication Email notification, re-authentication using an existing session token does not.</p>

<p>Not applicable in HTTP, see <a href="https://trading.alphapointuniversity.com/?http#authenticateuser">AuthenticateUser</a> for HTTP.</p>

<p>If 2FA is enabled, see <a href="https://trading.alphapointuniversity.com/#authenticate2fa">Authenticate2FA</a>.</p>
<h3 id='request-14'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//Username Password authentication</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">WebAuthenticateUser</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">username</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Password</span><span class="p">:</span> <span class="dl">"</span><span class="s2">password</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//Session token authentication</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">WebAuthenticateUser</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">SessionToken</span><span class="p">:</span> <span class="dl">"</span><span class="s2">existingsessiontoken</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//JWT authentication</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">WebAuthenticateUser</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">JWTToken</span><span class="p">:</span> <span class="dl">"</span><span class="s2">jwttoken</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>WebAutheticate user is not applicable in HTTP, see Authenticate and AuthenticatUser for HTTP.</p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Username</td>
<td><strong>string.</strong> The user&#39;s assigned user name.</td>
</tr>
<tr>
<td>Password</td>
<td><strong>string.</strong> The user&#39;s assigned password.</td>
</tr>
<tr>
<td>SessionToken</td>
<td><strong>string.</strong> The user&#39;s existing active session token.</td>
</tr>
<tr>
<td>JWTToken</td>
<td><strong>string.</strong> JSON Web Token. Generated using privatekey. For more info about JWT authentication please see <a href="https://alphapoint.atlassian.net/l/cp/fECFm605">here</a></td>
</tr>
</tbody></table>
<h3 id='response-14'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">//Response if user does not have 2FA enabled.</span>
<span class="p">{</span>
  <span class="dl">"</span><span class="s2">Authenticated</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">SessionToken</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">64186cfe-b183-46cc-bb68-9645fd9d9ff1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">UserId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">twoFaToken</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span>
<span class="p">}</span>

<span class="c1">//Response if a user has 2FA enabled. In this case Authenticate2FA needs to be called to complete the authentication</span>
<span class="p">{</span>
  <span class="dl">"</span><span class="s2">Authenticated</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">Requires2FA</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">AuthType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Google</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">AddtlInfo</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Authenticated</td>
<td><strong>boolean.</strong> <em>True</em> if the user is authenticated; <em>false</em> otherwise.</td>
</tr>
<tr>
<td>SessionToken</td>
<td><strong>string.</strong> The actual session token granted to the user after successful login.</td>
</tr>
<tr>
<td>UserId</td>
<td><strong>string.</strong> The ID of the user who got authenticated.</td>
</tr>
<tr>
<td>twoFAToken</td>
<td><strong>string.</strong> Defaults to an empty string.</td>
</tr>
<tr>
<td>Requires2FA</td>
<td><strong>boolean.</strong> <em>True</em> if the user must use two-factor authentication; <em>false</em> otherwise.</td>
</tr>
<tr>
<td>AuthType</td>
<td><strong>string.</strong> The type of 2FA this user requires. For example, <strong>Google</strong>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of the call returns <em>null</em>.</td>
</tr>
</tbody></table>

<blockquote>
<p>WebAuthenticateUser is not applicable in HTTP, see Authenticate and AuthenticateUser for HTTP.</p>
</blockquote>
<h2 id='logout'>LogOut</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Logs a user out</p>
<h3 id='request-15'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">Logout</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/Logout</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">282663b4-1e87-4130-8953-9dc584ae24ee</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>No request payload is required for websockets.</p>

<p>For HTTP, the existing session token must be included in the request Headers as aptoken.</p>
<h3 id='response-15'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful logout request returns <em>true</em>; and unsuccessful (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful logout request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='ssoensureuser'>SSOEnsureUser</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Creates or updates(if existing) a user and validates the claims in the token. Specifically for JWT implementation.</p>

<p>KeyPairs(Public and Private Keys) is one of the prerequisites. APEX would need the public key used to be configured on server for claims validation to work. <a href="https://jwt.io/">https://jwt.io/</a> - resource for testing the JWT.</p>
<h3 id='request-16'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SSOEnsureUser</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">email</span><span class="p">:</span> <span class="dl">"</span><span class="s2">aputest-sample@dispostable.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">aputest-sample@dispostable.com</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">sig</span><span class="p">:</span> <span class="p">{</span> <span class="na">algorithm</span><span class="p">:</span> <span class="dl">"</span><span class="s2">RS256</span><span class="dl">"</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="dl">""</span> <span class="p">},</span>
  <span class="na">auth</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Authorization</span><span class="p">:</span>
      <span class="dl">"</span><span class="s2">eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJBUDEiLCJpc3MiOiJVQVQiLCJleHAiOjE2ODEzNzMzNzAsInNjb3BlIjoiYXBfdXNlcnMifQ.vBR6MXWB2NccTf4_pCY4-BOnTWifQThZ9-AsBBjbocRhsgu1joi1p5B9NNuM9USLfHDJCaXzC-QBwBbZ381eUXvmhqz03soKARu4ivmaJr29APl_gwfO_g6D-SSvASsoSCs3Yb2GNfZchmm1itf_dCZaM5q621jjkzyrrEnxDj7qDr1wB_Y4sBqZur4xEfHSzIzqdU22oOlvJBWoMw1Aj5maOtKGzqJE7QD9BfJqid8IzY4LVLe9rdmuyWg-4cXuJ4IYbmeDBpnM8lHrJMarquNWxR0RXte7ilR_Cshzg4dW2smGExmRFA6XyDl_r1TL4MKnM_gtIfpLq2MUugjROcvmrpaId4Km-ZeAiPkMhyTS_qYjFstUMjoYVTuTZQ0aA6WIJdntKYu3pqNa0tB73MVVYKIr9gq2FtLtUjDYaO3Cxb4rdb_d5WEgIuiZeR_1NVY_3ObPBVsFgXEQgvn6SNu_T13sitjRac-yPoYnxlZLzy91hwyQq5HaRYd6RUIxVnzNsdKS0EwjfAxsJR-tPG7zQoaBQo6w_mym-TmoOqvxiuEfPO9ewV2tFVhoz3QvDOv5Dc2fSS8YEzBcBLXOxD9e_XOaGhzQxnHnW_16vE03sn2B3uuDS1veeqi06_tODZOULiuZscII1fl2IfqzzZRGadvBiNgWijfsYTVp8n8</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/SSOEnsureUser</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1021</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@dispostable.com"</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"sig"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w"> </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"auth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Authorization"</span><span class="p">:</span><span class="w">
      </span><span class="s2">"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJBUDEiLCJpc3MiOiJVQVQiLCJleHAiOjE2ODEzNzMzNzAsInNjb3BlIjoiYXBfdXNlcnMifQ.vBR6MXWB2NccTf4_pCY4-BOnTWifQThZ9-AsBBjbocRhsgu1joi1p5B9NNuM9USLfHDJCaXzC-QBwBbZ381eUXvmhqz03soKARu4ivmaJr29APl_gwfO_g6D-SSvASsoSCs3Yb2GNfZchmm1itf_dCZaM5q621jjkzyrrEnxDj7qDr1wB_Y4sBqZur4xEfHSzIzqdU22oOlvJBWoMw1Aj5maOtKGzqJE7QD9BfJqid8IzY4LVLe9rdmuyWg-4cXuJ4IYbmeDBpnM8lHrJMarquNWxR0RXte7ilR_Cshzg4dW2smGExmRFA6XyDl_r1TL4MKnM_gtIfpLq2MUugjROcvmrpaId4Km-ZeAiPkMhyTS_qYjFstUMjoYVTuTZQ0aA6WIJdntKYu3pqNa0tB73MVVYKIr9gq2FtLtUjDYaO3Cxb4rdb_d5WEgIuiZeR_1NVY_3ObPBVsFgXEQgvn6SNu_T13sitjRac-yPoYnxlZLzy91hwyQq5HaRYd6RUIxVnzNsdKS0EwjfAxsJR-tPG7zQoaBQo6w_mym-TmoOqvxiuEfPO9ewV2tFVhoz3QvDOv5Dc2fSS8YEzBcBLXOxD9e_XOaGhzQxnHnW_16vE03sn2B3uuDS1veeqi06_tODZOULiuZscII1fl2IfqzzZRGadvBiNgWijfsYTVp8n8"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td><strong>object</strong>. Email <strong>string</strong> Email address to be validated, if not yet existing in APEX, a new user will be created. <strong>required.</strong></td>
</tr>
<tr>
<td>sig</td>
<td><strong>object</strong>. Algorithm <strong>string</strong> Encryption algorithm used for <strong>auth</strong>. <strong>required.</strong></td>
</tr>
<tr>
<td>auth</td>
<td><strong>object</strong>. Authorization <strong>string</strong> The actual JWT(JSON Web Token) to be validated against the Public Key configured in the APEX server. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-16'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="err">//Successful</span><span class="w"> </span><span class="err">token</span><span class="w"> </span><span class="err">validation</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">APUserId</span><span class="se">\"</span><span class="s2">:123456, </span><span class="se">\"</span><span class="s2">Message</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Token Validated</span><span class="se">\"</span><span class="s2">}"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Token</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">validated,</span><span class="w"> </span><span class="err">public</span><span class="w"> </span><span class="err">key</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">matching</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">private</span><span class="w"> </span><span class="err">key</span><span class="w"> </span><span class="err">used</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">generate</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">JWT.</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not Authorized"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">401</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. APUserId - the id of the user, possible that the user is newly created.<br/> Message - a confirmation that the token is validated, no APUserId will be displayed if token is not validated.</td>
</tr>
</tbody></table>
<h2 id='disable2fa'>Disable2FA</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Disables Google/XP 2FA for a user. This is just the first half of the actual disabling of 2FA for a user. The next half will need <a href="https://trading.alphapointuniversity.com/#authenticate2fa"><strong>Authenticate2FA</strong></a> which will require the 6-digit code from an authenticator app. 2FA will not be disabled unless the user completes the <strong>Authenticate2FA</strong> with the correct 6-digit code.</p>
<h3 id='request-17'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">Disable2FA</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/Disable2FA</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">9a5bf62c-234a-48c4-b859-9c239ab3a390</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>No request payload required.</p>
<h3 id='response-17'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='enablegoogle2fa'>EnableGoogle2FA</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Enables Google 2FA. This is just the first half of the actual enabling of Google2FA for a user. The next half will need <a href="https://trading.alphapointuniversity.com/#authenticate2fa"><strong>Authenticate2FA</strong></a> which will require the 6-digit code from an authenticator app.</p>
<h3 id='request-18'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">EnableGoogle2FA</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/EnableGoogle2FA</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">9a5bf62c-234a-48c4-b859-9c239ab3a390</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>No request payload required.</p>
<h3 id='response-18'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"GoogleQRCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Qk1MAAAAAAAAABoAAAAMAAAAxADEAAEAGAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAA=="</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ManualCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ME4WEZLDGUYGKZBVGRRTIOBRGZQWENRVGJTDSMLBMU2GMNRYMYZQ"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>GoogleQRCode</td>
<td><strong>string.</strong> The actual QR code which can be scanned and then added to the authenticator app.</td>
</tr>
<tr>
<td>ManualCode</td>
<td><strong>string.</strong> The manual code which can be used if scanning is not possible.</td>
</tr>
</tbody></table>
<h2 id='getgoogle2farecoverykey'>GetGoogle2FARecoveryKey</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieve the recovery key for Google 2FA.</p>
<h3 id='request-19'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetGoogle2FARecoveryKey</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">Code</span><span class="p">:</span> <span class="mi">674970</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetGoogle2FARecoveryKey</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">f6590d49-cee7-460a-afa3-593afb96d439</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">24</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">674970</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Code</td>
<td><strong>integer or string.</strong> The 6-digit code from an authenticator app. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-19'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Authenticated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RecoveryKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ME4WEZLDGUYGKZBVGRRTIOBRGZQWENRVGJTDSMLBMU2GMNRYMYZQ"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Authenticated</td>
<td><strong>boolean</strong> If true, user is authenticated, else, user is not authenticated which also means the 6-digit code is incorrect or might not be present in the request payload.</td>
</tr>
<tr>
<td>RecoveryKey</td>
<td><strong>string</strong> The actual recovery key of the 2FA. This ky can be used to re-add the account in authenticator app to be able to generate and get the right 6-digit code.</td>
</tr>
</tbody></table>
<h2 id='enableyubico2fa'>EnableYubico2FA</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Enables Yubico 2FA</p>
<h3 id='request-20'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">EnableYubico2FA</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OTP</span><span class="p">:</span> <span class="dl">"</span><span class="s2">cccccckrtkrlfkjvrevjdtjdgrvcfvhhuvevdjubfciu</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/EnableYubico2FA</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">b5df71fc-6681-4ca8-a9f8-3a4f563f2530</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">36</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OTP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cccccckrtkrlfkjvrevjdtjdgrvcfvhhuvevdjubfciu"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OTP</td>
<td><strong>string.</strong> The OTP generated by YubiKey. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-20'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Enabled2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Enabled2FA</td>
<td><strong>boolean.</strong> If true, user successfully enabled 2FA using a YubiKey</td>
</tr>
</tbody></table>
<h2 id='oauthlogout'>OAuthLogout</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Logs an OAuth user out.</p>
<h3 id='request-21'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">""</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/OAuthLogout</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">60f3c221-7c0c-4f67-b2ca-d2594ee84ccd</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>No request payload is required for websockets.</p>

<p>For HTTP, the existing session token must be included in the request Headers as aptoken.</p>
<h3 id='response-21'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OAuthLogout"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OAuthLogout</td>
<td><strong>boolean</strong>. If true, user successfully logged-out.</td>
</tr>
</tbody></table>
<h2 id='oauthvalidatemfa'>OAuthValidateMfa</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Complete the 2nd half of two-factor authentication of an OAuth user by sending the 2FA code.</p>
<h3 id='request-22'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">OAuthValidateMfa</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">Code</span><span class="p">:</span> <span class="mi">123456</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/OAuthValidateMfa</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">60f3c221-7c0c-4f67-b2ca-d2594ee84ccd</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">24</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"Code"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Code</td>
<td><strong>integer</strong>. The 6-digit code, obtained from the authenticator app. If not defined, OAuthValidateMfa will always be <strong><em>false</em></strong>. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-22'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"OAuthValidateMfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OAuthValidateMfa failed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OAuthValidateMfa</td>
<td><strong>boolean</strong>. If true, code is valid else it code is not valid.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. The error message. Only appears if no <strong>Code</strong> is defined in the request.</td>
</tr>
</tbody></table>
<h2 id='oauthauthenticateuser'>OAuthAuthenticateUser</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>This API can be used for Single Sign-On functionality. For instance, an existing user in an identity and access management system can authenticate against APEX. There are several Gateway configs that need to set. Please see several OAuth related Gateway configs <a href="https://alphapoint.atlassian.net/l/cp/3wPCb1NX">here</a>.</p>
<h3 id='request-23'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">OAuthAuthenticateUser</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">AccessCode</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
  <span class="na">Email</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/OAuthAuthenticateUser</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">113</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"AccessCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccessCode</td>
<td><strong>string</strong>. Alphanumeric code. <strong>required.</strong></td>
</tr>
<tr>
<td>Email</td>
<td><strong>string</strong>. Email address of the user. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-23'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OAuthAuthenticated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"User"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccessToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OAuthAuthenticated</td>
<td><strong>boolean</strong>. If true, user successfully authenticated, otherwise user is not authenticated.</td>
</tr>
<tr>
<td>User</td>
<td><strong>string</strong>. The ID of the user.</td>
</tr>
<tr>
<td>AccessToken</td>
<td><strong>string</strong>. The access token granted.</td>
</tr>
</tbody></table>
<h2 id='getcaptcharequiredendpoints'>GetCaptchaRequiredEndpoints</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get Captcha Defined Endpoints or API endpoints that requires Captcha. An operator can decide to require Captcha for certain APIs for added security, it is something configurable at the AdminUI, specifically at the Gateway Service Configuration.</p>
<h3 id='request-24'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetCaptchaRequiredEndpoints</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetCaptchaRequiredEndpoints</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>No request payload required.</p>
<h3 id='response-24'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="s2">"webauthenticateuser"</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array, each element is an API that requires Captcha.</p>
<h2 id='getvalidate2farequiredendpoints'>GetValidate2FARequiredEndpoints</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get Validate2FARequired Endpoints or API endpoints that requires 2FA. An operator may decide to require 2FA for certain APIs for added security, it is something configurable at the AdminUI, specifically at the Gateway Service Configuration.</p>
<h3 id='request-25'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetValidate2FARequiredEndpoints</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetValidate2FARequiredEndpoints</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>No request payload required.</p>
<h3 id='response-25'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="s2">"transferfunds"</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array, each element is an API that requires 2FA.</p>
<h1 id='deposit'>Deposit</h1><h2 id='createdepositticket'>CreateDepositTicket</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Creates a new deposit ticket.</p>

<p>Creating a deposit ticket is one way to credit an account with some amount of a product. The deposit amount only get credited to a specific account when the deposit ticket is transitioned to <strong>FullyProcessed</strong>.</p>

<p>Cryptocurrency deposit tickets are usually created through webhook callbacks as they primarily depend on the blockchain. The API endpoint being used for cryptocurrency deposits is <a href="https://trading.alphapointuniversity.com/#deposit"><strong>Deposit</strong></a>.</p>
<h3 id='request-26'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//Usual CreateDepositTicket request payload for fiat/national currency product</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CreateDepositTicket</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OperatorId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">RequestUser</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">AssetId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Amount</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="na">DepositInfo</span><span class="p">:</span>
    <span class="dl">'</span><span class="s1">{"ProductSymbol":"USD","fullname":"Sample Only","comments":"Sample only!"}</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">Status</span><span class="p">:</span> <span class="dl">"</span><span class="s2">New</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CreateDepositTicket</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">e9440b22-7ef6-4b48-9513-245952ee415e</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">248</span>

<span class="err">//Usual</span><span class="w"> </span><span class="err">CreateDepositTicket</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">payload</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">fiat/national</span><span class="w"> </span><span class="err">currency</span><span class="w"> </span><span class="err">product</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nl">"DepositInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">ProductSymbol</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">USD</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">fullname</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Sample Only</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">comments</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Sample only!</span><span class="se">\"</span><span class="s2">}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong> The ID of the OMS where the account belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer</strong> The ID of the Operator where the OMS operates. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer</strong> The ID of the account to which the deposit amount of the specific asset/product will be credited. <strong>required.</strong></td>
</tr>
<tr>
<td>RequestUser</td>
<td><strong>integer</strong> The ID of the user doing the deposit, can be any user who is related or connected to the account.If not defined, the authenticated user will reflect. <strong>optional.</strong></td>
</tr>
<tr>
<td>AssetId</td>
<td><strong>integer</strong> The ID of the asset or product for which the deposit amount will reflect as credit. <strong>required.</strong></td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal</strong> The actual amount to be deposited. Amount must be greater than 0. <strong>required.</strong></td>
</tr>
<tr>
<td>DepositInfo</td>
<td><strong>string</strong> An object serialized as string.Value can be null or empty but it would make sense to put some value that will let you identify the deposit created later on. In HTTP, this should be properly serialized as a string, see example HTTP request. <strong>required.</strong></td>
</tr>
<tr>
<td>Status</td>
<td><strong>string or integer</strong> The status of the deposit ticket to be created, a deposit created using <strong>CreateDepositTicket</strong> always goes to the <strong>New</strong> status. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-26'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"requestcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cade9343-0fa6-444f-a67b-15c64f1054cb"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ticketnumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">311</span><span class="p">,</span><span class="w">
  </span><span class="nl">"referenceid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cade9343"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td><strong>boolean</strong> If true, means creation of the deposit ticket is successful, else, there is an error.</td>
</tr>
<tr>
<td>requestcode</td>
<td><strong>string</strong> GUID generated by the system that identifies the deposit ticket.</td>
</tr>
<tr>
<td>ticketnumber</td>
<td><strong>integer</strong> The deposit ticket number.</td>
</tr>
<tr>
<td>referenceid</td>
<td><strong>string</strong> A code that uniquely identifies a deposit ticket.</td>
</tr>
</tbody></table>
<h2 id='getdepositticket'>GetDepositTicket</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a specific deposit ticket.</p>
<h3 id='request-27'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetDepositTicket</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">RequestCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">cade9343-0fa6-444f-a67b-15c64f1054cb</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetDepositTicket</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">e9440b22-7ef6-4b48-9513-245952ee415e</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">98</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="s2">"cade9343-0fa6-444f-a67b-15c64f1054cb"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account owning the deposit ticket belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account who owns the deposit ticket. <strong>required.</strong></td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID that identifies a specific deposit ticket you wish to get details of. If not set, response will be the very first deposit ticket owned by the AccountId defined in the request. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-27'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"AssetManagerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US Dollar"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cade9343-0fa6-444f-a67b-15c64f1054cb"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cade9343"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestIP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"FeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UpdatedByUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UpdatedByUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">311</span><span class="p">,</span><span class="w">
  </span><span class="nl">"DepositInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">ProductSymbol</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">USD</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">fullname</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Sample Only</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">comments</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Sample only!</span><span class="se">\"</span><span class="s2">}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreatedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-17T07:10:59.395Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastUpdateTimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-17T07:10:59.432Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreatedTimestampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638173122593953528</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastUpdateTimeStampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638173122594320790</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"Attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AssetManagerId</td>
<td><strong>integer.</strong> The ID of the Asset Manager on which the deposit was made.</td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the Account Provider of the product where the the deposit was made. A product can have multiple account provider.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account into which the deposit was made.</td>
</tr>
<tr>
<td>AssetId</td>
<td><strong>integer.</strong> The ID of the asset (product) that was deposited.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> The name of the account that the deposit is for.</td>
</tr>
<tr>
<td>AssetName</td>
<td><strong>string.</strong> The short name of the asset (product) that was deposited, for example BTC for BitCoin or USD for US Dollars.</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The unit and fractional amount of the asset that was deposited, for example 2.5 BitCoin or 2018.17 US Dollars.</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> The value of the deposit amount in the NotionalProduct set in the verification level of the account for the product deposited.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The product ID of the <strong>NotionalProduct</strong> set on the verification level of the account for the product deposited.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> A globally unique identifier (GUID) assigned by the system that identifies this specific deposit.</td>
</tr>
<tr>
<td>ReferenceId</td>
<td><strong>string.</strong> A code that uniquely identifies the deposit ticket.</td>
</tr>
<tr>
<td>RequestIP</td>
<td><strong>string.</strong> The IP address from which the deposit request was made.</td>
</tr>
<tr>
<td>RequestUser</td>
<td><strong>integer.</strong> The user ID of the user who made the deposit request.</td>
</tr>
<tr>
<td>RequestUserName</td>
<td><strong>string.</strong> The user name of the user who made the deposit request, for example, jsmith.</td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the operator where the OMS is operating.</td>
</tr>
<tr>
<td>Status</td>
<td><strong>integer.</strong> The current status of this deposit ticket. Some of these statuses are valid only for cryptocurrency deposits; some are only valid for deposits of fiat (national) currency; others are used by AlphaPoint internally. Any of the statuses may appear on a deposit ticket.<br /><br /><strong>Deposit ticket statuses</strong><br /><strong>0</strong> New (new ticket awaiting operator review)<br /><strong>1</strong> AdminProcessing (an admin is looking at the ticket)<br /><strong>2</strong> Accepted (an admin accepts the ticket)<br /><strong>3</strong> Rejected (admin rejects the ticket)<br /><strong>4</strong> SystemProcessing (automatic processing; an unlikely status for a deposit)<br /><strong>5</strong> FullyProcessed (the deposit has concluded)<br /><strong>6</strong> Failed (the deposit has failed for some reason)<br /><strong>7</strong> Pending (Account Provider has set status to pending)<br /><strong>8</strong> Confirmed (Account Provider confirms the deposit)<br /><strong>9</strong> AmlProcessing (anti-money-laundering process underway)<br /><strong>10</strong> AmlAccepted (anti-money-laundering process successful)<br /><strong>11</strong> AmlRejected (deposit did not stand up to anti-money-laundering process)<br /><strong>12</strong> AmlFailed (anti-money-laundering process failed/did not complete)<br /><strong>13</strong> LimitsAccepted (deposit meets limits for fiat or crypto asset)<br /><strong>14</strong> LimitsRejected (deposit does not meet limits for fiat or crypto asset)</td>
</tr>
<tr>
<td>FeeAmt</td>
<td><strong>decimal.</strong> The fee assessed for making the deposit, if any. Deposit fees usually are assessed in the asset/product being deposited.</td>
</tr>
<tr>
<td>UpdatedByUser</td>
<td><strong>integer.</strong> The user ID of the last user to have updated the ticket (status, amount, etc.; this is usually an admin).</td>
</tr>
<tr>
<td>UpdatedByUserName</td>
<td><strong>string.</strong> The user name of the last user to have updated the ticket, for example, jsmith.</td>
</tr>
<tr>
<td>TicketNumber</td>
<td><strong>long integer.</strong> An ID number assigned by the system to identify the ticket (as opposed to identifying the deposit).</td>
</tr>
<tr>
<td>DepositInfo</td>
<td><strong>string.</strong> For fiat deposit, it is the information entered by the user at the deposit form, for cryptocurrency deposits from blockchain, it will contain the TXID, FromAddress, ToAddress, AccountProviderName, and AccountProviderId</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If ticket is in <strong>Rejected</strong> status, this field will contain the reject reason that was optionally provided by the operator. Defaults to null.</td>
</tr>
<tr>
<td>CreatedTimeStamp</td>
<td><strong>string.</strong> The date and time when the deposit ticket was created, in standard UTC DateTime format.</td>
</tr>
<tr>
<td>LastUpdateTimeStamp</td>
<td><strong>string.</strong> The date and time when the deposit ticket last was updated &mdash; usually by an admin changing its status &mdash; in standard UTC DateTime format.</td>
</tr>
<tr>
<td>CreatedTimestampTick</td>
<td><strong>string.</strong> The date and time when the deposit ticket was created, in Microsoft Time Ticks format.</td>
</tr>
<tr>
<td>LastUpdateTimeStampTick</td>
<td><strong>string.</strong> The date and time when the deposit ticket last was updated &mdash; usually by an admin changing its status &mdash; in Microsoft Time Ticks format.</td>
</tr>
<tr>
<td>Comments</td>
<td><strong>array.</strong> Any comment appended to the deposit ticket.</td>
</tr>
<tr>
<td>Attachments</td>
<td><strong>array.</strong> Any attachment to the deposit ticket.</td>
</tr>
</tbody></table>
<h2 id='getdeposittickets'>GetDepositTickets</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a list of deposit tickets for a specific account.</p>
<h3 id='request-28'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetDepositTickets</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OperatorId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">Limit</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="c1">//optional filter field</span>
  <span class="na">StartIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="c1">// value of 0 means it will start at the most recent deposit ticket, value of 1 means it will start from the second most recent deposit ticket</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetDepositTickets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">71ce94b5-f17d-49c6-8144-b818f4282229</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">243</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w"> </span><span class="err">filter</span><span class="w"> </span><span class="err">field</span><span class="p">,</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">pagination</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">used</span><span class="w"> </span><span class="err">together</span><span class="w"> </span><span class="err">with</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">StartIndex</span><span class="w"> </span><span class="err">field</span><span class="p">,</span><span class="err">.</span><span class="w">
    </span><span class="nl">"StartIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">value</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">means</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">start</span><span class="w"> </span><span class="err">at</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">most</span><span class="w"> </span><span class="err">recent</span><span class="w"> </span><span class="err">deposit</span><span class="w"> </span><span class="err">ticket</span><span class="p">,</span><span class="w"> </span><span class="err">value</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">means</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">start</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">second</span><span class="w"> </span><span class="err">most</span><span class="w"> </span><span class="err">recent</span><span class="w"> </span><span class="err">deposit</span><span class="w"> </span><span class="err">ticket</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the account operates whose tickets you wish to return. <strong>required.</strong></td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the operator where the OMS is operating. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of an account whose deposit tickets will be included in the response. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of a product. Filter parameter, response would only include deposit tickets for the specified product. <strong>optional.</strong></td>
</tr>
<tr>
<td>Limit</td>
<td><strong>integer.</strong> Filter field to limit number of results. Used for pagination together with the <strong>StartIndex</strong> field. If not set, all deposit tickets of the specified account will be returned but would still depend on the <strong>StartIndex</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer.</strong> Pagination field, value of 0 means results will start at the most recent deposit ticket, value of 1 means results start from the second most recent deposit ticket. If not set, results will always start with the most recent deposit ticket of the specified account. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-28'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"AssetManagerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AssetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AssetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US Dollar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00334851326011251004553978</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42b59732-9667-4e86-9924-32655801e269"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42b59732"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestIP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UpdatedByUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UpdatedByUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">316</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DepositInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">ProductSymbol</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">USD</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">fullname</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Sample Only</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">comments</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Sample only!</span><span class="se">\"</span><span class="s2">}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreatedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-17T08:07:44.516Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdateTimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-17T08:07:44.555Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreatedTimestampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638173156645164924</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdateTimeStampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638173156645553096</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"AssetManagerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AssetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AssetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US Dollar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"284b92f6-3a0f-411f-801d-1167ccff4a85"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"284b92f6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestIP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UpdatedByUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UpdatedByUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">315</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DepositInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">ProductSymbol</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">USD</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">fullname</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Sample Only</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">comments</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Sample only!</span><span class="se">\"</span><span class="s2">}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreatedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-17T08:06:34.274Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdateTimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-17T08:06:34.311Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreatedTimestampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638173155942745383</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdateTimeStampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638173155943114056</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"Attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects, each object represents a deposit ticket with all its details.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AssetManagerId</td>
<td><strong>integer.</strong> The ID of the Asset Manager on which the deposit was made.</td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the Account Provider of the product where the the deposit was made. A product can have multiple account provider.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account into which the deposit was made.</td>
</tr>
<tr>
<td>AssetId</td>
<td><strong>integer.</strong> The ID of the asset (product) that was deposited.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> The name of the account that the deposit is for.</td>
</tr>
<tr>
<td>AssetName</td>
<td><strong>string.</strong> The short name of the asset (product) that was deposited, for example BTC for BitCoin or USD for US Dollars.</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The unit and fractional amount of the asset that was deposited, for example 2.5 BitCoin or 2018.17 US Dollars.</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> The value of the deposit amount in the NotionalProduct set in the verification level of the account for the product deposited.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The product ID of the <strong>NotionalProduct</strong> set on the verification level of the account for the product deposited.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> A globally unique identifier (GUID) assigned by the system that identifies this specific deposit.</td>
</tr>
<tr>
<td>ReferenceId</td>
<td><strong>string.</strong> A code that uniquely identifies the deposit ticket.</td>
</tr>
<tr>
<td>RequestIP</td>
<td><strong>string.</strong> The IP address from which the deposit request was made.</td>
</tr>
<tr>
<td>RequestUser</td>
<td><strong>integer.</strong> The user ID of the user who made the deposit request.</td>
</tr>
<tr>
<td>RequestUserName</td>
<td><strong>string.</strong> The user name of the user who made the deposit request, for example, jsmith.</td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the operator where the OMS is operating.</td>
</tr>
<tr>
<td>Status</td>
<td><strong>integer.</strong> The current status of this deposit ticket. Some of these statuses are valid only for cryptocurrency deposits; some are only valid for deposits of fiat (national) currency; others are used by AlphaPoint internally. Any of the statuses may appear on a deposit ticket.<br /><br /><strong>Deposit ticket statuses</strong><br /><strong>0</strong> New (new ticket awaiting operator review)<br /><strong>1</strong> AdminProcessing (an admin is looking at the ticket)<br /><strong>2</strong> Accepted (an admin accepts the ticket)<br /><strong>3</strong> Rejected (admin rejects the ticket)<br /><strong>4</strong> SystemProcessing (automatic processing; an unlikely status for a deposit)<br /><strong>5</strong> FullyProcessed (the deposit has concluded)<br /><strong>6</strong> Failed (the deposit has failed for some reason)<br /><strong>7</strong> Pending (Account Provider has set status to pending)<br /><strong>8</strong> Confirmed (Account Provider confirms the deposit)<br /><strong>9</strong> AmlProcessing (anti-money-laundering process underway)<br /><strong>10</strong> AmlAccepted (anti-money-laundering process successful)<br /><strong>11</strong> AmlRejected (deposit did not stand up to anti-money-laundering process)<br /><strong>12</strong> AmlFailed (anti-money-laundering process failed/did not complete)<br /><strong>13</strong> LimitsAccepted (deposit meets limits for fiat or crypto asset)<br /><strong>14</strong> LimitsRejected (deposit does not meet limits for fiat or crypto asset)</td>
</tr>
<tr>
<td>FeeAmt</td>
<td><strong>decimal.</strong> The fee assessed for making the deposit, if any. Deposit fees usually are assessed in the asset/product being deposited.</td>
</tr>
<tr>
<td>UpdatedByUser</td>
<td><strong>integer.</strong> The user ID of the last user to have updated the ticket (status, amount, etc.; this is usually an admin).</td>
</tr>
<tr>
<td>UpdatedByUserName</td>
<td><strong>string.</strong> The user name of the last user to have updated the ticket, for example, jsmith.</td>
</tr>
<tr>
<td>TicketNumber</td>
<td><strong>long integer.</strong> An ID number assigned by the system to identify the ticket (as opposed to identifying the deposit).</td>
</tr>
<tr>
<td>DepositInfo</td>
<td><strong>string.</strong> For fiat deposit, it is the information entered by the user at the deposit form, for cryptocurrency deposits from blockchain, it will contain the TXID, FromAddress, ToAddress, AccountProviderName, and AccountProviderId</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If ticket is in <strong>Rejected</strong> status, this field will contain the reject reason that was optionally provided by the operator. Defaults to null.</td>
</tr>
<tr>
<td>CreatedTimeStamp</td>
<td><strong>string.</strong> The date and time when the deposit ticket was created, in standard UTC DateTime format.</td>
</tr>
<tr>
<td>LastUpdateTimeStamp</td>
<td><strong>string.</strong> The date and time when the deposit ticket last was updated &mdash; usually by an admin changing its status &mdash; in standard UTC DateTime format.</td>
</tr>
<tr>
<td>CreatedTimestampTick</td>
<td><strong>string.</strong> The date and time when the deposit ticket was created, in Microsoft Time Ticks format.</td>
</tr>
<tr>
<td>LastUpdateTimeStampTick</td>
<td><strong>string.</strong> The date and time when the deposit ticket last was updated &mdash; usually by an admin changing its status &mdash; in Microsoft Time Ticks format.</td>
</tr>
<tr>
<td>Comments</td>
<td><strong>array.</strong> Any comment appended to the deposit ticket.</td>
</tr>
<tr>
<td>Attachments</td>
<td><strong>array.</strong> Any attachment to the deposit ticket.</td>
</tr>
</tbody></table>
<h2 id='submitdepositticketcomment'>SubmitDepositTicketComment</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Add a comment to a specific deposit ticket.</p>
<h3 id='request-29'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SubmitDepositTicketComment</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">Comment</span><span class="p">:</span>
    <span class="dl">"</span><span class="s2">This is a manual deposit because the deposit was not detected on chain automatically.</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OperatorId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">TicketCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">17701757-7b30-40b6-af0e-9340a58857d1</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">TicketId</span><span class="p">:</span> <span class="mi">285</span><span class="p">,</span>
  <span class="na">EnteredDateTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-01-17T13:39:53.413Z</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/SubmitDepositTicketComment</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">e426b2e0-6aa9-4bb3-a99e-61d6a5ddef86</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">278</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"Comment"</span><span class="p">:</span><span class="s2">"This is a manual deposit because the deposit was not detected on chain automatically."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TicketCode"</span><span class="p">:</span><span class="s2">"17701757-7b30-40b6-af0e-9340a58857d1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TicketId"</span><span class="p">:</span><span class="w"> </span><span class="mi">285</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredDateTime"</span><span class="p">:</span><span class="s2">"2023-01-17T13:39:53.413Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Comment</td>
<td><strong>string.</strong> The actual deposit ticket comment. Request will be accepted without this field but it would result to a null comment which won&#39;t make any sense. <strong>optional.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>optional.</strong></td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the operator where the OMS is operating. <strong>optional.</strong></td>
</tr>
<tr>
<td>TicketCode</td>
<td><strong>string.</strong> The GUID that identifies a specific deposit ticket you wish to add a comment to. <strong>required.</strong></td>
</tr>
<tr>
<td>TicketId</td>
<td><strong>integer.</strong> The ID a specific deposit ticket you wish to add a comment to. <strong>required.</strong></td>
</tr>
<tr>
<td>EnteredBy</td>
<td><strong>integer.</strong> The ID of the user entering the comment. Not explicitly required but will default to 0 if not defined making it hard to trace who has entered the comment later on. <strong>optional.</strong></td>
</tr>
<tr>
<td>EnteredDateTime</td>
<td><strong>string.</strong> The date and time, should be in the standard DateTime format and in UTC. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-29'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"commentid"</span><span class="p">:</span><span class="w"> </span><span class="mi">459</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns an object with success and commentid fields.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td><strong>boolean.</strong> Either true or false, true if the deposit comment is successfully added, otherwise it is false.</td>
</tr>
<tr>
<td>commentid</td>
<td><strong>integer.</strong> The ID of the newly added deposit ticket comment.</td>
</tr>
</tbody></table>
<h2 id='getdepositinfo'>GetDepositInfo</h2>
<p><strong>Permissions:</strong> Operator,Deposit<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves all the other existing deposit addresses of the specified AccountId for the specified ProductId and AccountProviderId(optional), optionally creates a new deposit address. Always creates a new deposit address if there is no existing one yet.</p>
<h3 id='request-30'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetDepositInfo</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">GenerateNewKey</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetDepositInfo</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2c3a0675-1136-45c0-84a9-a9f40d07a290</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">91</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GenerateNewKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account you wish to retrieve deposit info for. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product for which the deposit info of the account specified will be retrieved or created. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the account provider associated with the product where the new deposit key will be created. If not defined it defaults to 0 which then uses the default deposit provider. Need to be set if there are multiple account providers and there is a need to generate a deposit key for non default deposit provider. <strong>optional.</strong></td>
</tr>
<tr>
<td>GenerateNewKey</td>
<td><strong>boolean.</strong> If set to true, a new deposit key will be created when API is invoked, else no new deposit key will be created. In the event that there is still no deposit key existing for the account, a new deposit key is guaranteed to be created even if <strong>GenerateNewKey</strong> is false. If not set, it is considered as false. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-30'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"AssetManagerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"DepositInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[</span><span class="se">\"</span><span class="s2">2N3r9roRrHy7p6C5pGE8NQP9ZNT81H7ZKyU</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MsZHcpBonQrqPuWhgBPG4h5jQxzn73AmP8</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MuqLiM7VnKnhQ2eQweLVERa8Pmksnp1mYQ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MyLbBeHQF9jAcSCTdSb9yKN1H98sFCbxDg</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N9T1Rp9Yau3SyuCbu5pZDLyrFNwhBW5oPA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N7GUbdECukjGxYu5TbnLbjcVwW7LXTa8Di</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N4ujZxj9vqZ9XxnbqmARLfJ1u3SPbYhJL8</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NEfLKAYzhnFySQf2XD9ZurwpTkfTdukGot</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N4yFCCGDk8JiXVshadmdiGUbEuM4JHCZZY</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NCCRN35RY4i2kaSSwcnDq46rWzQ4bUedkP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NDNoXZ3tZYZgW8jVfWox1NAUY8CRBJzV3w</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MznejkK8VHkVS9YYBA2idHG8oMM1xJTp6X</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NFGQ6DUGrMHpgk6HwcXmjC22ipfHMJoBwL</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N87YF7wAUPvXPd8k9F4KECeMqwpbusntZV</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NC6utszd4dYNXZ17qdQpUBCUzswDD9dSYX</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NFBWPsuBry6bW18GZxwSwAiJ48Atnsaz7f</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2Mxb8UhgUob3pxnqRyrxQYcvdH1qQTtUkvd</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N3nGe7Um8nHajsNxbSjbKKLq1XxqZH8nUC</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NFhntitnoR6zsir4mSzqoYPZCB7iexXbmd</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N13WvLn8PmdZxQRbk3PNVRrRSL2EUSWyZP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MtyKb3zUcRMuaCbYNjiGm2bvdi4WyuuyJz</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NDaJGjzQQrexbCCFv13nZoWkQeV33eT9so</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NDsRtsiFEvMjr1FnmMBNAeunmvaBS7boFy</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2Mzx3umCXTyhSXWkFy4quJb5rtRUcB7uNyS</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MuZkwDSr7U5hDHy9wFDvt4Np6yKVvjXhdo</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N6EuEVTfN2xux6yw8jCuiTgGHLjUuPAPQA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NCugrBugzoYLqcEcPWFwD8NmLSHv2oFmeJ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NC4k3bhqSowDCAwfzCxSLunvZAd7YskgvG</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MsFGero4mC61kv8c9ef7F9xUgZHQjpXC6u</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N7UoxvAy6425GHqm6HUED6tNHuDBJZzKhH</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2Mz64JktZebDEZwiyFs2FMeUxcNTua8Ybey</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N8e9PwYc615mTEVWYLpuRSN75NrxtD89qw</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N7z95qdPgUq68NdPqU66qvCUwvCCPsNzQf</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MtxzMiNWGm4stkFXyksnKse1qG3xxwBfGt</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NDFedzcVH6DvgRath7B6jXCV7sFMbFWrbR</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MuaahU1U5ip3qxTP3QkEahDkk1K3egDwab</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N8jX7Ao4E8HgthDrsisRBDugJTCXkQ8mkg</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N6YUwbMBDQg1LQLLU91LtFxvfpK81mfus6</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N8as8ZE4SJg7hTFPBc2MsxCNktEKQMpb8W</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N7TCd87mGM6XcDKHRKeTXvnfWTNxewKqak</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MxpUBc7iGXgYZBUkmauAA6qdRfHq2KiXPX</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NGZbuy4bmNnS12Q3p66iZaVnrM7R6xG48h</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NG4ieXu37StGmtbaTbZA7jUW42cpWSPrfA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N4KJWGPVKPJL3fgPDbhnQcymU2kqwApVB2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N495R1iDKunEGqusQpCJZJiE6gtnRTpTMY</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2Mu3hDBsxj35Pc9D2ZW3UGZvC3wsKYQcQ7D</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NBJGzqZo98Ha9frKCpuFrBvr1TLbgKVTQy</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MxqDpwWCeDSjJ4cBFrP9P6hoBR9YDmMAs8</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MykTWNAPgjsTgtd2eLemszYCajVXnVcepZ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MusLcJTbFu3Vs3effZohhBkh9ZmJSBzh2v</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MxuCEHxC8SXhTroJcEd73g1KLZ4aEqNX5R</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N8Ek16SQpywZyVdxSXtDCHM1TYgo7ooWyk</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N3iGpmq9P5NSss8pRGEgeshXFKW2PnorQ4</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MxMbs7iyTXt81yEzM1SMsQx35xvXGD7GNH</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2Mv1jXDKSMcn62Vt3uTr2mCWQB5YsNZ7fSn</span><span class="se">\"</span><span class="s2">]"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AssetManagerId</td>
<td><strong>integer.</strong> The ID of the Asset Manager where the asset or product belongs to.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which the deposit info were retrieved.</td>
</tr>
<tr>
<td>AssetId</td>
<td><strong>integer.</strong> The ID of the product the deposit info is/are for.</td>
</tr>
<tr>
<td>ProviderId</td>
<td><strong>integer.</strong> The ID of the account provider setup for the product, a deposit info is directly linked to an account provider. No deposit info can be created without a functional account provider.</td>
</tr>
<tr>
<td>DepositInfo</td>
<td><strong>string.</strong> The actual deposit info or keys, when parsed, it is an array where each element represents a deposit key.</td>
</tr>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns <em>true</em>; and unsuccessful request (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>statuscode</td>
<td><strong>integer.</strong> A successful request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
</tbody></table>
<h2 id='getnewdepositaddress'>GetNewDepositAddress</h2>
<p><strong>Permissions:</strong> Operator,Deposit<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Creates a new deposit address and retrieves all the other existing deposit addresses of the specified AccountId for the specified ProductId.</p>
<h3 id='request-31'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetNewDepositAddress</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetNewDepositAddress</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2c3a0675-1136-45c0-84a9-a9f40d07a290</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">62</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account you wish to create a new deposit address for. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product for which the deposit address of the account specified will be created. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-31'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"AssetManagerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"DepositInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[</span><span class="se">\"</span><span class="s2">2N3r9roRrHy7p6C5pGE8NQP9ZNT81H7ZKyU</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MsZHcpBonQrqPuWhgBPG4h5jQxzn73AmP8</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MuqLiM7VnKnhQ2eQweLVERa8Pmksnp1mYQ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MyLbBeHQF9jAcSCTdSb9yKN1H98sFCbxDg</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N9T1Rp9Yau3SyuCbu5pZDLyrFNwhBW5oPA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N7GUbdECukjGxYu5TbnLbjcVwW7LXTa8Di</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N4ujZxj9vqZ9XxnbqmARLfJ1u3SPbYhJL8</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NEfLKAYzhnFySQf2XD9ZurwpTkfTdukGot</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N4yFCCGDk8JiXVshadmdiGUbEuM4JHCZZY</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NCCRN35RY4i2kaSSwcnDq46rWzQ4bUedkP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NDNoXZ3tZYZgW8jVfWox1NAUY8CRBJzV3w</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MznejkK8VHkVS9YYBA2idHG8oMM1xJTp6X</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NFGQ6DUGrMHpgk6HwcXmjC22ipfHMJoBwL</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N87YF7wAUPvXPd8k9F4KECeMqwpbusntZV</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NC6utszd4dYNXZ17qdQpUBCUzswDD9dSYX</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NFBWPsuBry6bW18GZxwSwAiJ48Atnsaz7f</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2Mxb8UhgUob3pxnqRyrxQYcvdH1qQTtUkvd</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N3nGe7Um8nHajsNxbSjbKKLq1XxqZH8nUC</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NFhntitnoR6zsir4mSzqoYPZCB7iexXbmd</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N13WvLn8PmdZxQRbk3PNVRrRSL2EUSWyZP</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MtyKb3zUcRMuaCbYNjiGm2bvdi4WyuuyJz</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NDaJGjzQQrexbCCFv13nZoWkQeV33eT9so</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NDsRtsiFEvMjr1FnmMBNAeunmvaBS7boFy</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2Mzx3umCXTyhSXWkFy4quJb5rtRUcB7uNyS</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MuZkwDSr7U5hDHy9wFDvt4Np6yKVvjXhdo</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N6EuEVTfN2xux6yw8jCuiTgGHLjUuPAPQA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NCugrBugzoYLqcEcPWFwD8NmLSHv2oFmeJ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NC4k3bhqSowDCAwfzCxSLunvZAd7YskgvG</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MsFGero4mC61kv8c9ef7F9xUgZHQjpXC6u</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N7UoxvAy6425GHqm6HUED6tNHuDBJZzKhH</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2Mz64JktZebDEZwiyFs2FMeUxcNTua8Ybey</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N8e9PwYc615mTEVWYLpuRSN75NrxtD89qw</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N7z95qdPgUq68NdPqU66qvCUwvCCPsNzQf</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MtxzMiNWGm4stkFXyksnKse1qG3xxwBfGt</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NDFedzcVH6DvgRath7B6jXCV7sFMbFWrbR</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MuaahU1U5ip3qxTP3QkEahDkk1K3egDwab</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N8jX7Ao4E8HgthDrsisRBDugJTCXkQ8mkg</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N6YUwbMBDQg1LQLLU91LtFxvfpK81mfus6</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N8as8ZE4SJg7hTFPBc2MsxCNktEKQMpb8W</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N7TCd87mGM6XcDKHRKeTXvnfWTNxewKqak</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MxpUBc7iGXgYZBUkmauAA6qdRfHq2KiXPX</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NGZbuy4bmNnS12Q3p66iZaVnrM7R6xG48h</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NG4ieXu37StGmtbaTbZA7jUW42cpWSPrfA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N4KJWGPVKPJL3fgPDbhnQcymU2kqwApVB2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N495R1iDKunEGqusQpCJZJiE6gtnRTpTMY</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2Mu3hDBsxj35Pc9D2ZW3UGZvC3wsKYQcQ7D</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NBJGzqZo98Ha9frKCpuFrBvr1TLbgKVTQy</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MxqDpwWCeDSjJ4cBFrP9P6hoBR9YDmMAs8</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MykTWNAPgjsTgtd2eLemszYCajVXnVcepZ</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MusLcJTbFu3Vs3effZohhBkh9ZmJSBzh2v</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MxuCEHxC8SXhTroJcEd73g1KLZ4aEqNX5R</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N8Ek16SQpywZyVdxSXtDCHM1TYgo7ooWyk</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2N3iGpmq9P5NSss8pRGEgeshXFKW2PnorQ4</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MxMbs7iyTXt81yEzM1SMsQx35xvXGD7GNH</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2Mv1jXDKSMcn62Vt3uTr2mCWQB5YsNZ7fSn</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2MsudSWefWEsFD4L5yTnyfUnTHoLB4W87SG</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2NE6Uuh4C2eRFKp4DDKha6Xv94HQcAGdiCC</span><span class="se">\"</span><span class="s2">]"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Response is identical to that of <a href="https://trading.alphapointuniversity.com/#getdepositinfo">GetDepositInfo</a>.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AssetManagerId</td>
<td><strong>integer.</strong> The ID of the Asset Manager where the asset or product belongs to.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which the new deposit info was created.</td>
</tr>
<tr>
<td>AssetId</td>
<td><strong>integer.</strong> The ID of the product the deposit info is/are for.</td>
</tr>
<tr>
<td>ProviderId</td>
<td><strong>integer.</strong> The ID of the account provider setup for the product, a deposit info is directly linked to an account provider. No deposit info can be created without a functional account provider.</td>
</tr>
<tr>
<td>DepositInfo</td>
<td><strong>string.</strong> The actual deposit info or keys, when parsed, it is an array where each element represents a deposit key, the newly created deposit key would be the element with the highest index.</td>
</tr>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns <em>true</em>; and unsuccessful request (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>statuscode</td>
<td><strong>integer.</strong> A successful request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
</tbody></table>
<h2 id='getdepositrequestinfotemplate'>GetDepositRequestInfoTemplate</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a JSON object describing a deposit form template for a specific product. Only 1 deposit request info template will be returned for each request.</p>
<h3 id='request-32'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetDepositRequestInfoTemplate</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">AccountProviderId</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="c1">//optional</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetDepositRequestInfoTemplate</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2c3a0675-1136-45c0-84a9-a9f40d07a290</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product for which deposit template info will be retrieved. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the specific account provider for which deposit template info will be retrieved. If not defined, the default deposit provider will be returned. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-32'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Template"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ProviderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BitGoRpc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProcessInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseGetDepositWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DepositWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CryptoWallet"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Custom</span><span class="w"> </span><span class="err">deposit</span><span class="w"> </span><span class="err">template</span><span class="w"> </span><span class="err">form</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"Template"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ProviderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InternalAccounting"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">Type</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">ClearingBank</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">BankCode</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">BankBranchCode</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">BankAccountNumber</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">Remark</span><span class="se">\"</span><span class="s2">:null}"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProcessInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UseGetDepositWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DepositWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Template</td>
<td><strong>object.</strong> A JSON object which has several fields that describes the actual deposit template. Field descriptions follow below.</td>
</tr>
<tr>
<td>ProviderType</td>
<td><strong>string.</strong> The account provider type. There are several account provider types in APEX, some of there are: BitgoRPC, Fireblocks, InternalAccounting, EthereumRPC.</td>
</tr>
<tr>
<td>Template</td>
<td><strong>string.</strong> The stringtified template form, usually just an empty object if there are not custom fields defined for a specific account provider.</td>
</tr>
<tr>
<td>ProcessInfo</td>
<td><strong>string.</strong> Defaults to an empty string.</td>
</tr>
<tr>
<td>UseGetDepositWorkflow</td>
<td><strong>boolean.</strong> Either true or false.</td>
</tr>
<tr>
<td>DepositWorkflow</td>
<td><strong>string.</strong> The deposit workflow. There are a few of them: <strong>ManualDeposit, CryptoWallet, Custom</strong>.</td>
</tr>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns <em>true</em>; and unsuccessful request (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>statuscode</td>
<td><strong>integer.</strong> A successful request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
</tbody></table>
<h2 id='getalldepositrequestinfotemplates'>GetAllDepositRequestInfoTemplates</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get all the possible deposit templates for describing deposit forms for a specific product.</p>
<h3 id='request-33'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAllDepositRequestInfoTemplates</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAllDepositRequestInfoTemplates</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2c3a0675-1136-45c0-84a9-a9f40d07a290</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product for which deposit form templates will be retrieved. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-33'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Templates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"providerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"providerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD_AccountProvider"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"depositTemplate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ProviderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InternalAccounting"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{}"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ProcessInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"UseGetDepositWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"DepositWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ManualDeposit"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"providerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nl">"providerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"internal-accounting-test"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"depositTemplate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"ProviderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InternalAccounting"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"Template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{}"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ProcessInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"UseGetDepositWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"DepositWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ManualDeposit"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Templates</td>
<td><strong>array.</strong> An array whose elements are objects. Each object in the array represents a deposit info template. Fields are described below.</td>
</tr>
<tr>
<td>providerId</td>
<td><strong>integer.</strong> The account provider ID.</td>
</tr>
<tr>
<td>providerName</td>
<td><strong>string.</strong> The account provider name.</td>
</tr>
<tr>
<td>depositTemplate</td>
<td><strong>object.</strong> A JSON object. The actual deposit template, fields are described below.</td>
</tr>
<tr>
<td>ProviderType</td>
<td><strong>string.</strong> The account provider type. There are several account provider types in APEX, some of there are: BitgoRPC, Fireblocks, InternalAccounting, EthereumRPC.</td>
</tr>
<tr>
<td>Template</td>
<td><strong>string.</strong> The stringtified template form, usually just an empty object if there are not custom fields defined for a specific account provider.</td>
</tr>
<tr>
<td>ProcessInfo</td>
<td><strong>string.</strong> Defaults to an empty string.</td>
</tr>
<tr>
<td>UseGetDepositWorkflow</td>
<td><strong>boolean.</strong> Either true or false.</td>
</tr>
<tr>
<td>DepositWorkflow</td>
<td><strong>string.</strong> The deposit workflow. There are a few of them: <strong>ManualDeposit, CryptoWallet, Custom</strong>.</td>
</tr>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns <em>true</em>; and unsuccessful request (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>statuscode</td>
<td><strong>integer.</strong> A successful request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
</tbody></table>
<h2 id='getdeposits'>GetDeposits</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a list of all FullyProcessed deposits of a specific account.</p>
<h3 id='request-34'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetDeposits</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetDeposits</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2c3a0675-1136-45c0-84a9-a9f40d07a290</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which you wish to retrieve <strong>FullyProcessed</strong> deposits. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-34'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DepositId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SubAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdateTimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">637828669390668587</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NationalCurrency"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TicketStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FullyProcessed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DepositInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">ProductSymbol</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">USD</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">fullname</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">sample</span><span class="se">\"</span><span class="s2">}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DepositCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e747d432-5ee6-4cc1-a6cc-525f5220b72d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DepositId"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SubAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0166333</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdateTimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">637830678103822635</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CryptoCurrency"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TicketStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FullyProcessed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DepositInfo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">AccountProviderId</span><span class="se">\"</span><span class="s2">:3,</span><span class="se">\"</span><span class="s2">AccountProviderName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">BitgoRPC-BTC</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">TXId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">e9b29c10e53d8a933c0a3a03efc2b30793c7e1924254a46947e50933c033ac5b</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">FromAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">tb1q86mtg9q4pn07c3jmwqm7dz3smckumh5xrfzu6u</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ToAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2MstbdDUxo57ysXvxnYVbgax9JETsXPs6rL</span><span class="se">\"</span><span class="s2">}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DepositCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cf066296-3dbc-4223-b0e3-b1d39f984e37"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0166333</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects, each object represents a FullyProcessed deposit. The last element in the array is the most recent deposit.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account belongs to.</td>
</tr>
<tr>
<td>DepositId</td>
<td><strong>integer.</strong> The ID of the deposit transaction.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account who owns the deposit transaction.</td>
</tr>
<tr>
<td>DepositId</td>
<td><strong>integer.</strong> The ID of the deposit transaction.</td>
</tr>
<tr>
<td>SubAccountId</td>
<td><strong>integer.</strong> Reserved for future use. Defaults to 0.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product the deposit is for.</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The actual amount of the product that was credited to the account.</td>
</tr>
<tr>
<td>LastUpdateTimeStamp</td>
<td><strong>long integer.</strong> The timestamp when the deposit ticket was last updated.</td>
</tr>
<tr>
<td>ProductType</td>
<td><strong>string.</strong> The type of the product for which the deposit was made, usually either <strong>NationalCurrency</strong> or <strong>CryptoCurrency</strong>.</td>
</tr>
<tr>
<td>TicketStatus</td>
<td><strong>string.</strong> <strong>GetDeposits</strong> will only return deposits in FullyProcessed status. If a ticket is in that status, it means that the deposit amount has been credited to the account already except if the operator manually marked the ticket as FullyProcessed.</td>
</tr>
<tr>
<td>DepositInfo</td>
<td><strong>string.</strong> A string that when parsed will be an object with fields containing the relevant info about the deposit transaction such as the TXID on chain, the FromAddress etc.</td>
</tr>
<tr>
<td>DepositCode</td>
<td><strong>string.</strong> The GUID that identifies the deposit transaction.</td>
</tr>
<tr>
<td>TicketNumber</td>
<td><strong>integer.</strong> The deposit ticket number, same value with <strong>DepositId</strong>.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The ID of the notional product, based on the account verification level.</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> The notional amount of the deposit amount.</td>
</tr>
<tr>
<td>FeeAmount</td>
<td><strong>decimal.</strong> The total fee incurred for the deposit transaction, this amount got debited from the account.</td>
</tr>
</tbody></table>
<h2 id='getdeposittemplatetypes'>GetDepositTemplateTypes</h2>
<p><strong>Permissions:</strong> Operator,Deposit<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets a list of deposit templates for a specific asset or product. Response for cryptocurrency product will usually be an empty array.</p>
<h3 id='request-35'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetDepositTemplateTypes</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetDepositTemplateTypes</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2c3a0675-1136-45c0-84a9-a9f40d07a290</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">40</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product for which deposit template types will be retrieved. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-35'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"TemplateTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TemplateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AccountProviderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD AP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TemplateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AccountProviderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TemplateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AccountProviderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD 3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Response</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">cryptocurrency</span><span class="w"> </span><span class="err">asset</span><span class="w"> </span><span class="err">with</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">functional</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">provider.</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"TemplateTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Responds with an object, one field is named <strong>TemplateTypes</strong> which is an array of objects, each object represents an account provider deposit template type whose fields are described below:</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the account provider of a specific deposit template type.</td>
</tr>
<tr>
<td>TemplateName</td>
<td><strong>string.</strong> The name of the specific template type.</td>
</tr>
<tr>
<td>AccountProviderName</td>
<td><strong>string.</strong> The name of the account provider for the specific deposit template type. An asset or a product can have multiple account providers.</td>
</tr>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns <em>true</em>; and unsuccessful request (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>statuscode</td>
<td><strong>integer.</strong> A successful request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
</tbody></table>
<h2 id='getaccountdeposittransactions'>GetAccountDepositTransactions</h2>
<p><strong>Permissions:</strong> Trading, AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets a list of account transactions which are of <strong>TransactionReferenceType Deposit</strong>.</p>

<p>Users with Trading and AccountReadOnly permission can get deposit transactions only for the account/s with which they are associated. Users with Operator permission can get deposit transactions for any account.</p>

<p>The owner of the trading venue determines how long to retain transaction history before archiving.</p>

<aside class="notice"><strong>Note: </strong>Depth in this call is a count of how many deposit transactions to report. It is not "depth of market."</aside>
<h3 id='request-36'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountDepositTransactions</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountDepositTransactions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c5f917b9-f173-4c29-a615-1503d2e78023 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the account transactions took place. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account whose transactions will be returned. <strong>required.</strong></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer.</strong> The count of deposit transactions to be returned. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-36'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">24214</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">294</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01247667</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Counterparty"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deposit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.138154399436</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678904016338</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">24021</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">293</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01247667</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Counterparty"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deposit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.125677729436</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678706804112</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects as a response, each object represents a deposit transaction.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>TransactionId</td>
<td><strong>Integer.</strong> The ID of the transaction.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>Integer.</strong> The ID of the OMS under which the requested transactions took place.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>Integer.</strong> The single account under which the transactions took place.</td>
</tr>
<tr>
<td>CR</td>
<td><strong>decimal.</strong> Credit entry for the account on the order book. Funds entering an account.</td>
</tr>
<tr>
<td>DR</td>
<td><strong>decimal.</strong> Debit entry for the account on the order book. Funds leaving an account.</td>
</tr>
<tr>
<td>Counterparty</td>
<td><strong>long integer.</strong> The corresponding party in a trade.</td>
</tr>
<tr>
<td>TransacitionType</td>
<td><strong>string.</strong> Can either be <strong>Other</strong> or <strong>Fee</strong>.</td>
</tr>
<tr>
<td>ReferenceId</td>
<td><strong>long integer.</strong> The ID of the action or event that triggered this transaction.</td>
</tr>
<tr>
<td>ReferenceType</td>
<td><strong>string.</strong> A deposit transaction is always a <strong>Deposit</strong> ReferenceType</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product in which the deposit was made. Use <strong>GetProduct</strong> to return information about a product based on its ID.</td>
</tr>
<tr>
<td>Balance</td>
<td><strong>decimal.</strong> The balance in the account after the deposit transaction.</td>
</tr>
<tr>
<td>Timestamp</td>
<td><strong>long integer.</strong> Time at which the transaction took place, in POSIX format.</td>
</tr>
</tbody></table>
<h1 id='fee'>Fee</h1><h2 id='getwithdrawfee'>GetWithdrawFee</h2>
<p><strong>Permissions:</strong> Operator, Trading, Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a fee estimate for a withdrawal.</p>

<p>Withdraw fee is something that can be set by an exchange operator in the AdminUI, it is set per product. It can also be set programmatically using <strong>SetOMSFee</strong>.</p>
<h3 id='request-37'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetWithdrawFee</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Amount</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetWithdrawFee</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">1287b2b0-76c8-4249-ad22-3204fe4f4028 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">82</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>All fields in the table below are required in order to the the correct withdraw fee estimate.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS trading the product. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account making the withdrawal. Not explicitly required but needs to be defined to get the accurate estimate of withdraw fee especially if there are fee overrides. Defaults to zero if not defined. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product intended to be withdrawn. Fees may vary with product. Not explicitly required but needs to be defined to get the accurate estimate of withdraw fee. Defaults to zero if not defined. <strong>required.</strong></td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount of product intended to be withdrawn, not explicitly required but needs to be defined to get the accurate estimate of withdraw fee. Defaults to zero if not defined. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> When there are multiple account providers, an operator may defined varying fees for each. Defining an ID here makes sure the fee is accurate according to the account provider used to withdraw. Defaults to zero if not defined. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-37'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"FeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TicketAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>FeeAmount</td>
<td><strong>decimal.</strong> The estimated amount of the fee for the indicated withdrawal.</td>
</tr>
<tr>
<td>TicketAmount</td>
<td><strong>decimal.</strong> The amount of product intended to be withdrawn.</td>
</tr>
</tbody></table>
<h2 id='getdepositfee'>GetDepositFee</h2>
<p><strong>Permissions:</strong> Operator, Trading, Deposit<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a fee estimate for a deposit.</p>

<p>Deposit fee is something that can be set by an exchange operator in the AdminUI, it is set per product. One reason for an exchange to charge a deposit fee is to cover the gas fee during sweeping process just like for ERC-20 tokens.</p>
<h3 id='request-38'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetDepositFee</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Amount</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="na">AccountProviderId</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetDepositFee</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">1287b2b0-76c8-4249-ad22-3204fe4f4028</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">111</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>All fields in the table below are required in order to the the correct deposit fee estimate.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account making the deposit. Not explicitly required but needs to be defined to get the accurate estimate of deposit fee especially if there is/are fee override/s. Defaults to zero if not defined. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product intended to be deposited. Fees may vary with product. Not explicitly required but needs to be defined to get the accurate estimate of deposit fee. Defaults to zero if not defined. <strong>required.</strong></td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount of product intended to be deposited. Not explicitly required but needs to be defined to get the accurate estimate of deposit fee. Defaults to zero if not defined. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> When there are multiple account providers, an operator may define varying fees for each. Defining an ID here makes sure the fee is accurate according to the account provider used to deposit. Defaults to zero if not defined. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-38'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"FeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TicketAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>FeeAmount</td>
<td><strong>decimal.</strong> The estimated amount of the fee for the indicated deposit.</td>
</tr>
<tr>
<td>TicketAmount</td>
<td><strong>decimal.</strong> The amount of product intended to be deposited.</td>
</tr>
</tbody></table>
<h2 id='getomswithdrawfees'>GetOMSWithdrawFees</h2>
<p><strong>Permissions:</strong> Operator,Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets a list of withdraw fees that are set for products in a specific OMS. Can be filtered per product and account provider.</p>

<p>It is possible to set a withdraw fee specifically for a product and an account provider. Additional feature has been added to withdraw fees starting APEX version 4.2: minimum withdraw fee can already be set.</p>
<h3 id='request-39'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOMSWithdrawFees</span><span class="dl">"</span><span class="p">)</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">OMSId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ProductId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">AccountProviderId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOMSWithdrawFees</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">93623083-2594-45ea-b5d3-5d60c92c66ab</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">70</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product in the OMS you wish to retrieve withdraw fees of. If not defined, all withdraw fees for all products will be returned, will depend if AccountProviderId is defined. <strong>optional.</strong></td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of account provider in the OMS you wish to retrieve withdraw fees of. If not defined, all withdraw fees for all account providers will be returned, will depend if ProductId is defined. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-39'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">47</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeCalcType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Percentage"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MinimalFeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MinimalFeeCalcType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Percentage"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account to which the fee will apply, if set to 0, fee will apply to any account doing a withdraw of the the specific product defined in the withdraw fee.</td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the account provider to which the fee will apply, if set to 0, fee will apply regardless of the account provider used for the withdraw transaction.</td>
</tr>
<tr>
<td>FeeId</td>
<td><strong>integer.</strong> The ID of the specific withdraw fee.</td>
</tr>
<tr>
<td>FeeAmt</td>
<td><strong>decimal.</strong> The standard withdraw fee amount.</td>
</tr>
<tr>
<td>FeeCalcType</td>
<td><strong>string.</strong> The way to calculate the standard fee amount, either <strong>Percentage</strong> or <strong>Flat</strong>.</td>
</tr>
<tr>
<td>IsActive</td>
<td><strong>boolean.</strong> If true, fee will apply, else it will not.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product for which the specific withdraw fee will apply.</td>
</tr>
<tr>
<td>MinimalFeeAmt</td>
<td><strong>decimal.</strong> The minimum withdraw fee amount.</td>
</tr>
<tr>
<td>MinimalFeeCalcType</td>
<td><strong>string.</strong> The way to calculate the minimum withdraw fee, either <strong>Percentage</strong> or <strong>Flat</strong>.</td>
</tr>
</tbody></table>
<h2 id='getomsdepositfees'>GetOMSDepositFees</h2>
<p><strong>Permissions:</strong> Operator,Deposit<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets a list of deposit fees that are set for products in a specific OMS. Can be filtered per product and account provider.</p>

<p>It is possible to set a deposit fee specifically for a product and an account provider.</p>
<h3 id='request-40'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOMSDepositFees</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountProviderId</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOMSDepositFees</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">431ea162-1c16-4401-9f34-110e18983cac</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">70</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product in the OMS you wish to retrieve deposit fees of. If not defined, all deposit fees for all products will be returned, will depend if AccountProviderId is defined. <strong>optional.</strong></td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of account provider in the OMS you wish to retrieve deposit fees of. If not defined, all deposit fees for all account providers will be returned, will depend if ProductId is defined. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-40'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeCalcType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FlatRate"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MinimalFeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MinimalFeeCalcType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FlatRate"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeCalcType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FlatRate"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MinimalFeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MinimalFeeCalcType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FlatRate"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account to which the fee will apply, if set to 0, fee will apply to any account doing a deposit of the the specific product defined in the deposit fee.</td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the account provider to which the fee will apply, if set to 0, fee will apply regardless of the account provider used for the deposit transaction.</td>
</tr>
<tr>
<td>FeeId</td>
<td><strong>integer.</strong> The ID of the specific deposit fee.</td>
</tr>
<tr>
<td>FeeAmt</td>
<td><strong>decimal.</strong> The standard deposit fee amount.</td>
</tr>
<tr>
<td>FeeCalcType</td>
<td><strong>string.</strong> The way to calculate the standard fee amount, either <strong>Percentage</strong> or <strong>Flat</strong>.</td>
</tr>
<tr>
<td>IsActive</td>
<td><strong>boolean.</strong> If true, fee will apply, else it will not.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product for which the specific deposit fee will apply.</td>
</tr>
<tr>
<td>MinimalFeeAmt</td>
<td><strong>decimal.</strong> Not yet supported in the current latest APEX version; for future provision. The minimum deposit fee amount. This will be the lowest amount of fee charged for each deposit.</td>
</tr>
<tr>
<td>MinimalFeeCalcType</td>
<td><strong>string.</strong> Not yet supported in the current latest APEX version; for future provision. he way to calculate the minimum withdraw fee, either <strong>Percentage</strong> or <strong>Flat</strong>.</td>
</tr>
</tbody></table>
<h2 id='getaccountfees'>GetAccountFees</h2>
<p><strong>Permissions:</strong> Operator,Trading,AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a list of Account Level Fee descriptors specified on an account. Basically, this API will respond a list of trading fees that are defined with fee tier the same as the fee tier of the account.</p>
<h3 id='request-41'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountFees</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountFees</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">7cb8f194-6ee6-4bf3-8e50-b11251eba458</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID whose fees will be retrieved. <strong>required.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-41'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"FeeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">296</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeTier"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.04</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeCalcType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Percentage"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flat"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LadderThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LadderSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PeggedProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"FeeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeTier"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeCalcType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Percentage"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FlatPegToProduct"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LadderThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LadderSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PeggedProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>FeeId</td>
<td><strong>integer.</strong> The ID of the fee.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID the OMS.</td>
</tr>
<tr>
<td>FeeTier</td>
<td><strong>integer.</strong> The feetier of the fee, the same with the fee tier of the account.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account to which the fee will apply, 0 means it will apply to all accounts with the same fee tier.</td>
</tr>
<tr>
<td>FeeAmt</td>
<td><strong>decimal.</strong> The actual fee amount if <strong>FeeCalcType</strong> is Flat, otherwise if <strong>Percentage</strong>, this represents the percentage of the trade value.</td>
</tr>
<tr>
<td>FeeCalcType</td>
<td><strong>string.</strong> Either <strong>Flat</strong> or <strong>Percentage</strong>.</td>
</tr>
<tr>
<td>FeeType</td>
<td><strong>string.</strong> Can be one of the following: <strong>Flat</strong>, <strong>MakerFee</strong>, <strong>TakerFee</strong>, <strong>PeggedProductFee</strong>, <strong>AffiliateFee</strong>.</td>
</tr>
<tr>
<td>LadderThreshold</td>
<td><strong>decimal.</strong> The ladder threshold of the fee.</td>
</tr>
<tr>
<td>LadderSeconds</td>
<td><strong>integer.</strong></td>
</tr>
<tr>
<td>IsActive</td>
<td><strong>boolean.</strong> If true, means can apply to a trade, else it will not even if criteria are met.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument to which the fee will apply.</td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>integer.</strong> The type of order where fee will only apply. Can be one of the following: <strong>Market</strong>, <strong>Limit</strong>, <strong>StopMarket</strong>, <strong>StopLimit</strong>,<strong>TrailingStopMarket</strong>, <strong>TrailingStopLimit</strong>, <strong>BlockTrade</strong>, <strong>Unknown</strong>. Unknown means all order types.</td>
</tr>
<tr>
<td>PeggedProductId</td>
<td><strong>integer.</strong> The ID of the pegged product if the FeeType is <strong>PeggedProductFee</strong>.</td>
</tr>
</tbody></table>
<h2 id='updateaccountloyaltysettings'>UpdateAccountLoyaltySettings</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Updates account loyalty enrollment information. A loyalty enabled account is eligible to fee discounts set by the exchange operator. The fee will also be in the denomination of the loyalty token set by the exchange operator.</p>
<h3 id='request-42'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">UpdateAccountLoyaltySettings</span><span class="dl">"</span><span class="p">,</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">OMSId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">114</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">LoyaltyProductId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">LoyaltyEnabled</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/UpdateAccountLoyaltySettings</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">efd9db59-c06c-46a7-b661-733b9d44ed1a</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic YWRtaW46MTIzNA==</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">100</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">114</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LoyaltyProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LoyaltyEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the specified account is assigned. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account whose Loyalty settings will be updated. <strong>required.</strong></td>
</tr>
<tr>
<td>LoyaltyProductId</td>
<td><strong>integer.</strong> The ID of the product that will serve as the loyalty token. Defaults to 0 if not defined. <strong>optional.</strong></td>
</tr>
<tr>
<td>LoyaltyEnabled</td>
<td><strong>boolean.</strong> Either true or false. Defaults to false if not defined. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-42'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns <em>true</em>; and unsuccessful request (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Additional message details sent by the system. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='getoperatorloyaltyfeeconfig'>GetOperatorLoyaltyFeeConfig</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves loyalty fee configuration information for the specified LoyaltyProductId</p>

<p>An exchange operator can promote activity on a specific cryptocurrency token by offering discounted transaction fees denominated in that token to customers who choose this fee structure. The Loyalty Token is a parallel fee structure that replaces the general set of transaction fees.</p>

<p>An OMS is not required to have a Loyalty Token or Fee, and a user may opt to use it but not required.</p>
<h3 id='request-43'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOperatorLoyaltyFeeConfig</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">LoyaltyProductId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOperatorLoyaltyFeeConfig</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">9c0faeb9-4d29-4eb8-aca7-b36a9b46923c</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">48</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LoyaltyProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where loyalty fee config is defined. <strong>required.</strong></td>
</tr>
<tr>
<td>LoyaltyProductId</td>
<td><strong>integer.</strong> The ID of the product set as the loyalty product or token in the OMS. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-43'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LoyaltyProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LoyaltyDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReferenceProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReferenceProductPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">100000.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-27T12:38:28.378Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UpdatedBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>LoyaltyProductId</td>
<td><strong>integer.</strong> The product ID of the loyalty product or token.</td>
</tr>
<tr>
<td>LoyaltyDiscount</td>
<td><strong>decimal.</strong> The discount from the standard fee that you are willing to apply, for example, 0.5 (denominated in the loyalty product). The amount is displayed in decimal format; that is 0.5 = 50%.</td>
</tr>
<tr>
<td>ReferenceProductId</td>
<td><strong>integer.</strong> The product ID of the default base currency to be used to calculate the exchange rate between regular fee products and the discount product. The basis is the last trade price of the product pairing, for example, loyalty product/reference product.</td>
</tr>
<tr>
<td>ReferenceProductPrice</td>
<td><strong>decimal.</strong> This is the default market value for XYZ (from the previous example) in a base currency to use in the event that there is no &quot;last&quot; traded price for the XYZ/Reference_Product market. This value is applicable only if no XYZUSD market exists on the exchange.</td>
</tr>
<tr>
<td>IsEnabled</td>
<td><strong>boolean.</strong> If true, allows transactions to use the Loyalty Token and Fee.</td>
</tr>
<tr>
<td>LastUpdated</td>
<td><strong>string.</strong> The exact date and time the loyalty fee configuration has been updated.</td>
</tr>
<tr>
<td>UpdatedBy</td>
<td><strong>integer.</strong> The ID of the user who updated the loyalty fee configuration.</td>
</tr>
</tbody></table>
<h2 id='getoperatorloyaltyfeeconfigsforoms'>GetOperatorLoyaltyFeeConfigsForOms</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves loyalty fee configurations information for the specified OMS.</p>

<p>An exchange operator can promote activity on a specific cryptocurrency token by offering discounted transaction fees denominated in that token to customers who choose this fee structure. The Loyalty Token is a parallel fee structure that replaces the general set of transaction fees.</p>

<p>An OMS is not required to have a Loyalty Token or Fee, and a user may opt to use it but not required.</p>
<h3 id='request-44'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOperatorLoyaltyFeeConfigsForOms</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOperatorLoyaltyFeeConfigsForOms</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">9c0faeb9-4d29-4eb8-aca7-b36a9b46923c</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">48</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where loyalty fee config is defined. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-44'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LoyaltyProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LoyaltyDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1000000000000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReferenceProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReferenceProductPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">100000.00000000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-10-30T16:23:04.064Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UpdatedBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LoyaltyProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LoyaltyDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1000000000000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReferenceProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReferenceProductPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">100000.00000000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-10-30T16:16:51.154Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UpdatedBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LoyaltyProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LoyaltyDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1000000000000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReferenceProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReferenceProductPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">100000.00000000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"IsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-10-30T16:16:58.435Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UpdatedBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Response is an array of objects, each object in the array represents a loyalty fee config.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>LoyaltyProductId</td>
<td><strong>integer.</strong> The product ID of the loyalty product or token.</td>
</tr>
<tr>
<td>LoyaltyDiscount</td>
<td><strong>decimal.</strong> The discount from the standard fee that you are willing to apply, for example, 0.5 (denominated in the loyalty product). The amount is displayed in decimal format; that is 0.5 = 50%.</td>
</tr>
<tr>
<td>ReferenceProductId</td>
<td><strong>integer.</strong> The product ID of the default base currency to be used to calculate the exchange rate between regular fee products and the discount product. The basis is the last trade price of the product pairing, for example, loyalty product/reference product.</td>
</tr>
<tr>
<td>ReferenceProductPrice</td>
<td><strong>decimal.</strong> This is the default market value for XYZ (from the previous example) in a base currency to use in the event that there is no &quot;last&quot; traded price for the XYZ/Reference_Product market. This value is applicable only if no XYZUSD market exists on the exchange.</td>
</tr>
<tr>
<td>IsEnabled</td>
<td><strong>boolean.</strong> If true, allows transactions to use the Loyalty Token and Fee.</td>
</tr>
<tr>
<td>LastUpdated</td>
<td><strong>string.</strong> The exact date and time the loyalty fee configuration has been updated.</td>
</tr>
<tr>
<td>UpdatedBy</td>
<td><strong>integer.</strong> The ID of the user who updated the loyalty fee configuration.</td>
</tr>
</tbody></table>
<h2 id='getalloperatorloyaltyfeeconfigs'>GetAllOperatorLoyaltyFeeConfigs</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves configuration information for a list of all operators loyalty fee configurations.</p>

<p>An exchange operator can promote activity on a specific cryptocurrency token by offering discounted transaction fees denominated in that token to customers who choose this fee structure. The Loyalty Token is a parallel fee structure that replaces the general set of transaction fees.</p>

<p>An OMS is not required to have a Loyalty Token or Fee, and a user may opt to use it but not required.</p>
<h3 id='request-45'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAllOperatorLoyaltyFeeConfigs</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAllOperatorLoyaltyFeeConfigs</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">e389bffc-e642-41aa-899b-a1afbb5ccb5a</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>No request payload required.</p>
<h3 id='response-45'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LoyaltyProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LoyaltyDiscount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceProductPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">100000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-27T10:41:47.310Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UpdatedBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>LoyaltyProductId</td>
<td><strong>integer.</strong> The product ID of the loyalty product or token.</td>
</tr>
<tr>
<td>LoyaltyDiscount</td>
<td><strong>decimal.</strong> The discount from the standard fee that you are willing to apply, for example, 0.5 (denominated in the loyalty product). The amount is displayed in decimal format; that is 0.5 = 50%.</td>
</tr>
<tr>
<td>ReferenceProductId</td>
<td><strong>integer.</strong> The product ID of the default base currency to be used to calculate the exchange rate between regular fee products and the discount product. The basis is the last trade price of the product pairing, for example, loyalty product/reference product.</td>
</tr>
<tr>
<td>ReferenceProductPrice</td>
<td><strong>decimal.</strong> This is the default market value for XYZ (from the previous example) in a base currency to use in the event that there is no &quot;last&quot; traded price for the XYZ/Reference_Product market. This value is applicable only if no XYZUSD market exists on the exchange.</td>
</tr>
<tr>
<td>IsEnabled</td>
<td><strong>boolean.</strong> If true, allows transactions to use the Loyalty Token and Fee.</td>
</tr>
<tr>
<td>LastUpdated</td>
<td><strong>string.</strong> The exact date and time the loyalty fee configuration has been updated.</td>
</tr>
<tr>
<td>UpdatedBy</td>
<td><strong>integer.</strong> The ID of the user who updated the loyalty fee configuration.</td>
</tr>
</tbody></table>
<h2 id='getorderfee'>GetOrderFee</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns an estimate of the transaction/trading fee for a specific order side, instrument, and order type. An exchange operator decides and sets the fees for each instrument.</p>

<p>The exchange generally deducts fees from the &quot;receiving&quot; side of the trade (although an operator can modify this). There are two products in every trade (and in every instrument); for example, the instrument BTCUSD comprises a BitCoin product and a US dollar product. Placing a buy order on the book causes fees to be deducted from Product 1, in this case, BitCoin; placing a sell order causes fees to be deducted from Product 2, in this case, US dollar.</p>

<p>A user with Trading permission can get fee estimates for any account that user is associated with and for any instrument or product that that account can trade; a user with Operator permission can get fee estimates for any account, instrument, or product.</p>

<p>If loyalty token is enabled and there is no market for the loyalty token, the system automatically uses 3rd party rates for the loyalty token market.</p>
<h3 id='request-46'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOrderFee</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Quantity</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
  <span class="na">Side</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">Price</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10000</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">OrderType</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="na">MakerTaker</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Maker</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOrderFee</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">f7e2c811-a9db-454e-9c9e-77533baf92d9 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">177</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MakerTaker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maker"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the trade would take place. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account requesting the fee estimate. There can be account overrides, the exchange operator can decide to apply very specific fees to specific accounts, such as a discounted price to a specific account. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument being or to be traded. <strong>required.</strong></td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The quantity or amount of the proposed trade for which the OMS would charge a fee. <strong>required.</strong></td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal.</strong> The price at which the proposed trade would take place. Supply your price for a limit order; the exact price is difficult to know before execution. <strong>required.</strong></td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>integer..</strong> The type of the proposed order. An operator can set fees per <strong>OrderType</strong>. <strong>required.</strong><br /> One of:<br />0 Unknown<br />1 Market<br />2 Limit<br />3 StopMarket<br />4 StopLimit<br />5 TrailingStopMarket<br />6 TrailingStopLimit<br />7 BlockTrade<br /></td>
</tr>
<tr>
<td>MakerTaker</td>
<td><strong>integer.</strong> Depending on the venue, there may be different fees for a maker (one who places the order on the books, either buy or sell) or taker (one who accepts the order, either buy or sell). If the user places a large order that is only partially filled, he is a partial maker. <strong>required.</strong><br />0 Unknown<br />1 Maker<br />2 Taker</td>
</tr>
<tr>
<td>Side</td>
<td><strong>integer.</strong> Side of the trade. It will decide at which product will the fee be donominated. In APEX, the fee is charged in the incoming product by default. <strong>required.</strong> One of:<br />0 Buy<br />1 Sell<br />2 Short<br />3 Unknown</td>
</tr>
</tbody></table>
<h3 id='response-46'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OrderFee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OrderFee</td>
<td><strong>decimal.</strong> The estimated fee for the trade as described.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product (currency) in which the fee is denominated.</td>
</tr>
</tbody></table>
<h1 id='instrument'>Instrument</h1><h2 id='getinstrument'>GetInstrument</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves the details of a specific instrument from the OMS of the trading venue. An instrument is something that can be traded in the exchange.</p>
<h3 id='request-47'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetInstrument</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetInstrument</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">44</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. The ID of the instrument. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-47'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Product1"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Product1Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Product2"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Product2Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InstrumentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"VenueInstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"VenueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SortIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SessionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Running"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PreviousSessionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SessionStatusDateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-17T03:51:12.373Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SelfTradePrevention"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"QuantityIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MinimumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MinimumPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
  </span><span class="nl">"VenueSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IsDisable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MasterDataId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceCollarThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceCollarPercent"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceCollarEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceFloorLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceFloorLimitEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceCeilingLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceCeilingLimitEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreateWithMarketRunning"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AllowOnlyMarketMakerCounterParty"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceCollarIndexDifference"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceCollarConvertToOtcEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceCollarConvertToOtcClientUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceCollarConvertToOtcAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceCollarConvertToOtcThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OtcConvertSizeThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OtcConvertSizeEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OtcTradesPublic"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PriceTier"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the instrument is traded.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument.</td>
</tr>
<tr>
<td>Symbol</td>
<td><strong>string.</strong> Trading symbol of the instrument, for example BTCUSD.</td>
</tr>
<tr>
<td>Product1</td>
<td><strong>integer.</strong> The ID of the first product comprising the instrument or the ID of the base product/currency of the instrument.</td>
</tr>
<tr>
<td>Product1Symbol</td>
<td><strong>string.</strong> The symbol of the first product comprising the instrument or the symbol of the base product/currency of the instrument.</td>
</tr>
<tr>
<td>Product2</td>
<td><strong>integer.</strong> The ID of the second product comprising the instrument or the ID of the quote product/currency of the instrument.</td>
</tr>
<tr>
<td>Product2Symbol</td>
<td><strong>string.</strong> The symbol of the second product comprising the instrument or the symbol of the quote product/currency of the instrument.</td>
</tr>
<tr>
<td>InstrumentType</td>
<td><strong>string.</strong> or <strong>integer.</strong> A number representing the type of the instrument. All instrument types currently are <em>standard</em>, an exchange of one product for another (or <em>unknown</em>, an error condition), but this may expand to new types in the future.<br />0 Unknown (an error condition)<br />1 Standard</td>
</tr>
<tr>
<td>VenueInstrumentId</td>
<td><strong>integer</strong> A venue instrument is created at the exchange level as an instrument &quot;template&quot; for adding new instruments to the exchange. This is the ID of the venue instrument behind the instrument being requested.</td>
</tr>
<tr>
<td>VenueId</td>
<td><strong>integer.</strong> The ID of the trading venue on which the instrument trades.</td>
</tr>
<tr>
<td>SortIndex</td>
<td><strong>integer.</strong> The numerical position in which to sort the returned list of instruments on a visual display. Since this call returns information about a single instrument, <em>SortIndex</em> should return 0.</td>
</tr>
<tr>
<td>SessionStatus</td>
<td><strong>string.</strong> or <strong>integer.</strong> Is the market for this instrument currently open and operational? Returns one of:<br />0 Unknown<br />1 Running<br />2 Paused<br />3 Stopped<br />4 Starting<br />5 RunningPostOnly</td>
</tr>
<tr>
<td>PreviousSessionStatus</td>
<td><strong>string.</strong> What was the previous session status for this instrument? One of:<br />0 Unknown<br />1 Running<br />2 Paused<br />3 Stopped<br />4 Starting<br />5 RunningPostOnly</td>
</tr>
<tr>
<td>SessionStatusDateTime</td>
<td><strong>string.</strong> The time and date at which the session status was reported, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>SelfTradePrevention</td>
<td><strong>boolean.</strong> An account that is trading with itself still incurs fees. If this instrument prevents an account from trading the instrument with itself, the value returns <em>true</em>; otherwise defaults to <em>false</em>.</td>
</tr>
<tr>
<td>QuantityIncrement</td>
<td><strong>decimal.</strong> The smallest tradeable increment of the instrument. For example, for BTCUSD, the quantity increment might be 0.0005, but for ETHUSD, the quantity increment might be 50.</td>
</tr>
<tr>
<td>PriceIncrement</td>
<td><strong>decimal.</strong> The smallest amount by which the instrument can rise or fall in the market.</td>
</tr>
<tr>
<td>MinimumQuantity</td>
<td><strong>decimal.</strong> The smallest quantity at which the instrument can be traded.</td>
</tr>
<tr>
<td>MinimumPrice</td>
<td><strong>decimal.</strong> The lowest price that the instrument can have.</td>
</tr>
<tr>
<td>VenueSymbol</td>
<td><strong>string.</strong> The symbol of the instrument in the trading venue or exchange.</td>
</tr>
<tr>
<td>IsDisable</td>
<td><strong>boolean.</strong> Identifies if the instrument is available to be traded or not, if true, instrument cannot be traded, else it can be traded but would still depend on the <strong>SessionStatus</strong>.</td>
</tr>
<tr>
<td>PriceCollarThreshold</td>
<td><strong>decimal.</strong> Determines the order quantity of the specific instrument that will not be subject to <strong>price collar</strong>. For example if threshold is set to 1, any order less with less than 1 quantity will not be subject to price collar checks.</td>
</tr>
<tr>
<td>PriceCollarPercent</td>
<td><strong>decimal.</strong> This sets the maximum allowable percentage with which one order (market or limit) may move the market from the initial execution price of the order, e.g., setting a price collar percent of 10% on BTC/USD will only allow one order to move the market price a maximum of +-10%.</td>
</tr>
<tr>
<td>PriceCollarEnabled</td>
<td><strong>boolean.</strong> Turns price collar on/off. If enabled, price collar will apply according to other price collar parameters such as <strong>PriceCollarThreshold</strong>.</td>
</tr>
<tr>
<td>PriceFloorLimit</td>
<td><strong>decimal.</strong> The lowest price that the instrument can be traded in a specific session; for instance, daily price floor limit of an instrument can change, it really depends on regulator requirements most of the time.</td>
</tr>
<tr>
<td>PriceFloorLimitEnabled</td>
<td><strong>boolean.</strong> Turns on/off price floor limit, if enabled price floor limit will apply.</td>
</tr>
<tr>
<td>PriceCeilingLimit</td>
<td><strong>decimal.</strong> The highest price that the instrument can be traded in a specific session; for instance, daily price ceiling limit of an instrument can change, it really depends on regulator requirements most of the time.</td>
</tr>
<tr>
<td>PriceCeilingLimitEnabled</td>
<td><strong>boolean.</strong> Turns on/off price ceiling limit, if enabled price ceiling limit will apply.</td>
</tr>
<tr>
<td>AllowOnlyMarketMakerCounterParty</td>
<td><strong>boolean.</strong> If true, all orders for the instrument will only match with orders of a market marker, orders of normal trading accounts will not appear in the orderbook. This can be used if the exchange will serve as a broker.</td>
</tr>
<tr>
<td>PriceCollarIndexDifference</td>
<td><strong>decimal.</strong> The percent difference from the index/real-market price that an order is allowed to execute at. Anything falling outside of the index price +/- (1 + PriceCollarIndexDifference) will be collared</td>
</tr>
<tr>
<td>PriceCollarConvertToOtcEnabled</td>
<td><strong>boolean.</strong> Turns on/off conversion of collared orders to block trades</td>
</tr>
<tr>
<td>PriceCollarConvertToOtcClientUserId</td>
<td><strong>int.</strong> Internal System UserId to assign the collared otc orders to. Should always be 1 in current implementation (default)</td>
</tr>
<tr>
<td>PriceCollarConvertToOtcAccountId</td>
<td><strong>int.</strong> Account Id to assign the collared orders to. This will effectively be a liability account that will need to have working block trades managed by operator.</td>
</tr>
<tr>
<td>PriceCollarConvertToOtcThreshold</td>
<td><strong>decimal.</strong> Threshold of remaining size of order to convert to block trade. If collared order does not have remaining quantity above this threshold the remainder will be cancelled.</td>
</tr>
<tr>
<td>OtcConvertSizeEnabled</td>
<td><strong>boolean.</strong> Turns on/off auto conversion of &#39;large&#39; limit orders converted to block trade orders upon receipt by the matching engine</td>
</tr>
<tr>
<td>OtcConvertSizeThreshold</td>
<td><strong>decimal.</strong> Threshold to convert limit order quantity to block trade automatically for discovery by block trade market participants</td>
</tr>
<tr>
<td>OtcTradesPublic</td>
<td><strong>boolean</strong> If set to true, OTC trades will affect instrument Level1 data(price, volume), will reflect in the chart.</td>
</tr>
<tr>
<td>PriceTier</td>
<td><strong>integer.</strong> The price tier the instrument.</td>
</tr>
</tbody></table>
<h2 id='getinstruments'>GetInstruments</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a list of instruments available on the exchange. An instrument is something that can be traded in the exchange.</p>
<h3 id='request-48'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//Get all enabled instruments only</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">GetInstruments</span><span class="dl">'</span><span class="p">,{</span>
<span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>

<span class="c1">//Get all instruments including the disabled ones</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">GetInstruments</span><span class="dl">'</span><span class="p">,{</span>
<span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="na">InstrumentState</span><span class="p">:</span> <span class="dl">"</span><span class="s2">both</span><span class="dl">"</span>
<span class="p">})</span>

<span class="c1">//Get all disabled/inactive instruments only</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">GetInstruments</span><span class="dl">'</span><span class="p">,{</span>
<span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span>
<span class="na">InstrumentState</span><span class="p">:</span> <span class="dl">"</span><span class="s2">inactive</span><span class="dl">"</span>
<span class="p">})</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetInstruments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">20</span>
<span class="s">//Get all enabled instruments only</span>
<span class="s">{</span>
<span class="s">    "OMSId": 1</span>
<span class="s">}</span>

<span class="err">//Get</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">instruments</span><span class="w"> </span><span class="err">including</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">disabled</span><span class="w"> </span><span class="err">ones</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="nl">"InstrumentState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"both"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Get</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">disabled/inactive</span><span class="w"> </span><span class="err">instruments</span><span class="w"> </span><span class="err">only</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="nl">"InstrumentState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inactive"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS on which the instruments are available. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentState</td>
<td><strong>string</strong>. Filters the results, you can include disabled instruments in the results, or you can just get disabled instruments if you want. Value can only be either <strong>Both</strong> or <strong>Inactive</strong>. If set to <strong>Both</strong>, response will include all the instruments even the disabled instruments, if set to <strong>Inactive</strong>, response will only include all the <strong>disabled</strong> instruments, if not set, response will only return <strong>enabled or active</strong> instruments. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-48'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETHUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product1"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product1Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product2"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product2Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VenueInstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VenueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SortIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SessionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Running"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PreviousSessionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stopped"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SessionStatusDateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-23T04:49:21.699Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SelfTradePrevention"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MinimumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MinimumPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VenueSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETHUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsDisable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MasterDataId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarPercent"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceFloorLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceFloorLimitEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCeilingLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCeilingLimitEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreateWithMarketRunning"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AllowOnlyMarketMakerCounterParty"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarIndexDifference"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarConvertToOtcEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarConvertToOtcClientUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarConvertToOtcAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarConvertToOtcThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OtcConvertSizeThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OtcConvertSizeEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OtcTradesPublic"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceTier"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TBTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product1"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product1Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TBTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product2"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product2Symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VenueInstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VenueId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SortIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SessionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stopped"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PreviousSessionStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paused"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SessionStatusDateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-25T17:56:32.218Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SelfTradePrevention"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MinimumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MinimumPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VenueSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TBTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsDisable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MasterDataId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarPercent"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceFloorLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceFloorLimitEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCeilingLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCeilingLimitEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreateWithMarketRunning"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AllowOnlyMarketMakerCounterParty"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarIndexDifference"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarConvertToOtcEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarConvertToOtcClientUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarConvertToOtcAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceCollarConvertToOtcThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OtcConvertSizeThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OtcConvertSizeEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OtcTradesPublic"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PriceTier"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>The response for <strong>GetInstruments</strong> is an array of objects, each object represents an instrument.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the instrument is traded.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument.</td>
</tr>
<tr>
<td>Symbol</td>
<td><strong>string.</strong> Trading symbol of the instrument, for example BTCUSD.</td>
</tr>
<tr>
<td>Product1</td>
<td><strong>integer.</strong> The ID of the first product comprising the instrument or the ID of the base product/currency of the instrument.</td>
</tr>
<tr>
<td>Product1Symbol</td>
<td><strong>string.</strong> The symbol of the first product comprising the instrument or the symbol of the base product/currency of the instrument.</td>
</tr>
<tr>
<td>Product2</td>
<td><strong>integer.</strong> The ID of the second product comprising the instrument or the ID of the quote product/currency of the instrument.</td>
</tr>
<tr>
<td>Product2Symbol</td>
<td><strong>string.</strong> The symbol of the second product comprising the instrument or the symbol of the quote product/currency of the instrument.</td>
</tr>
<tr>
<td>InstrumentType</td>
<td><strong>string.</strong> or <strong>integer.</strong> A number representing the type of the instrument. All instrument types currently are <em>standard</em>, an exchange of one product for another (or <em>unknown</em>, an error condition), but this may expand to new types in the future.<br />0 Unknown (an error condition)<br />1 Standard</td>
</tr>
<tr>
<td>VenueInstrumentId</td>
<td><strong>integer</strong> A venue instrument is created at the exchange level as an instrument &quot;template&quot; for adding new instruments to the exchange. This is the ID of the venue instrument behind the instrument being requested.</td>
</tr>
<tr>
<td>VenueId</td>
<td><strong>integer.</strong> The ID of the trading venue on which the instrument trades.</td>
</tr>
<tr>
<td>SortIndex</td>
<td><strong>integer.</strong> The numerical position in which to sort the returned list of instruments on a visual display. Since this call returns information about a single instrument, <em>SortIndex</em> should return 0.</td>
</tr>
<tr>
<td>SessionStatus</td>
<td><strong>string.</strong> or <strong>integer.</strong> Is the market for this instrument currently open and operational? Returns one of:<br />0 Unknown<br />1 Running<br />2 Paused<br />3 Stopped<br />4 Starting<br />5 RunningPostOnly</td>
</tr>
<tr>
<td>PreviousSessionStatus</td>
<td><strong>string.</strong> What was the previous session status for this instrument? One of:<br />0 Unknown<br />1 Running<br />2 Paused<br />3 Stopped<br />4 Starting<br />5 RunningPostOnly</td>
</tr>
<tr>
<td>SessionStatusDateTime</td>
<td><strong>string.</strong> The time and date at which the session status was reported, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>SelfTradePrevention</td>
<td><strong>boolean.</strong> An account that is trading with itself still incurs fees. If this instrument prevents an account from trading the instrument with itself, the value returns <em>true</em>; otherwise defaults to <em>false</em>.</td>
</tr>
<tr>
<td>QuantityIncrement</td>
<td><strong>decimal.</strong> The smallest tradeable increment of the instrument. For example, for BTCUSD, the quantity increment might be 0.0005, but for ETHUSD, the quantity increment might be 50.</td>
</tr>
<tr>
<td>PriceIncrement</td>
<td><strong>decimal.</strong> The smallest amount by which the instrument can rise or fall in the market.</td>
</tr>
<tr>
<td>MinimumQuantity</td>
<td><strong>decimal.</strong> The smallest quantity at which the instrument can be traded.</td>
</tr>
<tr>
<td>MinimumPrice</td>
<td><strong>decimal.</strong> The lowest price that the instrument can have.</td>
</tr>
<tr>
<td>VenueSymbol</td>
<td><strong>string.</strong> The symbol of the instrument in the trading venue or exchange.</td>
</tr>
<tr>
<td>IsDisable</td>
<td><strong>boolean.</strong> Identifies if the instrument is available to be traded or not, if true, instrument cannot be traded, else it can be traded but would still depend on the <strong>SessionStatus</strong>.</td>
</tr>
<tr>
<td>PriceCollarThreshold</td>
<td><strong>decimal.</strong> Determines the order quantity of the specific instrument that will not be subject to <strong>price collar</strong>. For example if threshold is set to 1, any order less with less than 1 quantity will not be subject to price collar checks.</td>
</tr>
<tr>
<td>PriceCollarPercent</td>
<td><strong>decimal.</strong> This sets the maximum allowable percentage with which one order (market or limit) may move the market from the initial execution price of the order, e.g., setting a price collar percent of 10% on BTC/USD will only allow one order to move the market price a maximum of +-10%.</td>
</tr>
<tr>
<td>PriceCollarEnabled</td>
<td><strong>boolean.</strong> Turns price collar on/off. If enabled, price collar will apply according to other price collar parameters such as <strong>PriceCollarThreshold</strong>.</td>
</tr>
<tr>
<td>PriceFloorLimit</td>
<td><strong>decimal.</strong> The lowest price that the instrument can be traded in a specific session; for instance, daily price floor limit of an instrument can change, it really depends on regulator requirements most of the time.</td>
</tr>
<tr>
<td>PriceFloorLimitEnabled</td>
<td><strong>boolean.</strong> Turns on/off price floor limit, if enabled price floor limit will apply.</td>
</tr>
<tr>
<td>PriceCeilingLimit</td>
<td><strong>decimal.</strong> The highest price that the instrument can be traded in a specific session; for instance, daily price ceiling limit of an instrument can change, it really depends on regulator requirements most of the time.</td>
</tr>
<tr>
<td>PriceCeilingLimitEnabled</td>
<td><strong>boolean.</strong> Turns on/off price ceiling limit, if enabled price ceiling limit will apply.</td>
</tr>
<tr>
<td>AllowOnlyMarketMakerCounterParty</td>
<td><strong>boolean.</strong> If true, all orders for the instrument will only match with orders of a market marker, orders of normal trading accounts will not appear in the orderbook. This can be used if the exchange will serve as a broker.</td>
</tr>
<tr>
<td>PriceCollarIndexDifference</td>
<td><strong>decimal.</strong> The percent difference from the index/real-market price that an order is allowed to execute at. Anything falling outside of the index price +/- (1 + PriceCollarIndexDifference) will be collared</td>
</tr>
<tr>
<td>PriceCollarConvertToOtcEnabled</td>
<td><strong>boolean.</strong> Turns on/off conversion of collared orders to block trades</td>
</tr>
<tr>
<td>PriceCollarConvertToOtcClientUserId</td>
<td><strong>int.</strong> Internal System UserId to assign the collared otc orders to. Should always be 1 in current implementation (default)</td>
</tr>
<tr>
<td>PriceCollarConvertToOtcAccountId</td>
<td><strong>int.</strong> Account Id to assign the collared orders to. This will effectively be a liability account that will need to have working block trades managed by operator.</td>
</tr>
<tr>
<td>PriceCollarConvertToOtcThreshold</td>
<td><strong>decimal.</strong> Threshold of remaining size of order to convert to block trade. If collared order does not have remaining quantity above this threshold the remainder will be cancelled.</td>
</tr>
<tr>
<td>OtcConvertSizeEnabled</td>
<td><strong>boolean.</strong> Turns on/off auto conversion of &#39;large&#39; limit orders converted to block trade orders upon receipt by the matching engine</td>
</tr>
<tr>
<td>OtcConvertSizeThreshold</td>
<td><strong>decimal.</strong> Threshold to convert limit order quantity to block trade automatically for discovery by block trade market participants</td>
</tr>
<tr>
<td>OtcTradesPublic</td>
<td><strong>boolean</strong> If set to true, OTC trades will affect instrument Level1 data(price, volume), will reflect in the chart.</td>
</tr>
<tr>
<td>PriceTier</td>
<td><strong>integer.</strong> The price tier the instrument.</td>
</tr>
</tbody></table>
<h2 id='getinstrumentattributes'>GetInstrumentAttributes</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get attributes of a specific instrument.</p>
<h3 id='request-49'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetInstrumentAttributes</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetInstrumentAttributes</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">d0260e4b-bf6e-4fcd-a8cd-ad1cb01f2235 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">44</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong> The Id of the OMS where the instrument belongs. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. The Id of the instrument which you want to get attributes of. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-49'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"KeyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Crypto"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"KeyValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>The response is an array of objects, each object represents an instrument attribute in key-value pair.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. Id of the OMS where the instrument belongs.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. Id of the instrument whose attribute/s were returned.</td>
</tr>
<tr>
<td>KeyName</td>
<td><strong>string</strong>. The instrument attribute keyname.</td>
</tr>
<tr>
<td>KeyValue</td>
<td><strong>string</strong>. The instrument attribute keyvalue.</td>
</tr>
</tbody></table>
<h2 id='getinstrumentverificationlevelconfig'>GetInstrumentVerificationLevelConfig</h2>
<p><strong>Permissions:</strong> Operator,Trading,Deposit,Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets an Instrument Verification Level Configurations for the requested account.</p>

<p>In APEX, a verification level determines the limits of an account in terms of deposits, withdrawals, transfers and trading. The verification level config response of this API only applies to trades or trading, or is only about an instrument. Each instrument will have separate and possibly unique limits than other instruments.</p>

<p>A limit value of -1 means infinite or no limit.</p>
<h3 id='request-50'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetInstrumentVerificationLevelConfig</span><span class="dl">"</span><span class="p">,</span>
<span class="p">{</span>
     <span class="dl">"</span><span class="s2">OMSId</span><span class="dl">"</span><span class="p">:</span>  <span class="mi">1</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">:</span>  <span class="mi">7</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetInstrumentVerificationLevelConfig</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">8908ed6d-3bd7-472e-ab70-58c2efef6cab</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccoundId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which you wish to get instrument verification level config for. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-50'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Level"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LevelName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Instruments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"VerificationLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
      </span><span class="nl">"VerificationLevelName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"InstrumentName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyBuyLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailySellLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyBuyLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlySellLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"YearlyNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"VerificationLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
      </span><span class="nl">"VerificationLevelName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"InstrumentName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETHUSD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyBuyLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailySellLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyBuyLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlySellLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"YearlyNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Level</td>
<td><strong>integer.</strong> The verification level the account specified is currently on.</td>
</tr>
<tr>
<td>LevelName</td>
<td><strong>string.</strong> The of the verification level the account specified is currently on.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account specified belongs to.</td>
</tr>
<tr>
<td>Instruments</td>
<td><strong>array.</strong> An array of objects, each object will contain the limits of a specific instrument.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the of the instrument for which the limits apply to.</td>
</tr>
<tr>
<td>InstrumentName</td>
<td><strong>string.</strong> The name of the instrument for which the limits apply to.</td>
</tr>
<tr>
<td>DailyBuyLimit</td>
<td><strong>decimal.</strong> The maximum amount of the specific instrument that the specified account can buy within a day.</td>
</tr>
<tr>
<td>DailySellLimit</td>
<td><strong>decimal.</strong> The maximum amount of the specific instrument that the specified account can sell within a day.</td>
</tr>
<tr>
<td>MonthlyBuyLimit</td>
<td><strong>decimal.</strong> The maximum amount of the specific instrument that the specified account can buy within a month.</td>
</tr>
<tr>
<td>MonthlySellLimit</td>
<td><strong>decimal.</strong> The maximum amount of the specific instrument that the specified account can sell within a month.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The Id of the notional product for the instrument.</td>
</tr>
<tr>
<td>DailyNotionalLimit</td>
<td><strong>decimal.</strong> The maximum notional amount of the specific instrument that the specified account can buy and sell within a day. Buy and Sell trade amount are combined.</td>
</tr>
<tr>
<td>MonthlyNotionalLimit</td>
<td><strong>decimal.</strong> The maximum notional amount of the specific instrument that the specified account can buy and sell within a month. Buy and Sell trade amount are combined.</td>
</tr>
<tr>
<td>YearlyNotionalLimit</td>
<td><strong>decimal.</strong> The maximum notional amount of the specific instrument that the specified account can buy and sell within a year. Buy and Sell trade amount are combined.</td>
</tr>
</tbody></table>
<h1 id='product'>Product</h1><h2 id='getproduct'>GetProduct</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves the details about a specific product on the exchange. A product is an asset that can be deposited and withdrawn but cannot be traded.</p>
<h3 id='request-51'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetProduct</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetProduct</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product on the specified OMS. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-51'>Response</h3>
<p>Returns an object with fields named as to what they mean.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProductFullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US Dollar"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MasterDataUniqueProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProductType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NationalCurrency"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"DecimalPlaces"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TickSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
  </span><span class="nl">"DepositEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"WithdrawEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"NoFees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IsDisabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MarginEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the product belongs.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product.</td>
</tr>
<tr>
<td>Product</td>
<td><strong>string.</strong> The symbol of the product.</td>
</tr>
<tr>
<td>ProductFullName</td>
<td><strong>string.</strong> The full name of the product.</td>
</tr>
<tr>
<td>MasterDataUniqueProductSymbol</td>
<td><strong>string.</strong> <strong>Still not sure about this one, needs additional input.</strong></td>
</tr>
<tr>
<td>ProductType</td>
<td><strong>string</strong> The nature of the product. One of:<br />0 Unknown (an error condition)<br />1 - NationalCurrency<br />2 - CryptoCurrency<br />3 - Contract.</td>
</tr>
<tr>
<td>DecimalPlaces</td>
<td><strong>integer.</strong> The maximum number of decimal places allowed for the amount of product that an account may have.</td>
</tr>
<tr>
<td>TickSize</td>
<td><strong>decimal.</strong> The smallest increment of the amount of the specific product that an account may have.</td>
</tr>
<tr>
<td>DepositEnabled</td>
<td><strong>boolean.</strong> Either true or false. This field turns on/off the deposit for the product.</td>
</tr>
<tr>
<td>WithdrawEnabled</td>
<td><strong>boolean.</strong> Either true or false. This field turns on/off the withdrawal for the product.</td>
</tr>
<tr>
<td>NoFees</td>
<td><strong>boolean.</strong> Either true or false. If <em>false</em>, fees incurred by the account can be charged in the denomination of the specific product. If <em>NoFees</em> is <em>true</em>, fees incurred by the account will never be charged in the denomination of the specific product.</td>
</tr>
<tr>
<td>IsDisabled</td>
<td><strong>boolean.</strong> Either true or false. If true, product is disabled and cannot be used, no deposits and withdrawals can be done.</td>
</tr>
<tr>
<td>MarginEnabled</td>
<td><strong>boolean.</strong> Either true or false. Margin is something not yet supported so value is default to false; for future provisions.</td>
</tr>
</tbody></table>
<h2 id='getproducts'>GetProducts</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns an array of products available on the exchange. A product is an asset that can be deposited and withdrawn but cannot be traded.</p>
<h3 id='request-52'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//Get all enabled products</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">GetProducts</span><span class="dl">'</span><span class="p">,{</span>
<span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">})</span>

<span class="c1">//Get all products including disabled products</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">GetProducts</span><span class="dl">'</span><span class="p">,{</span>
<span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="na">GetDisabled</span><span class="p">:</span> <span class="kc">true</span> <span class="c1">//or</span>
<span class="na">GetDisabled</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>

<span class="c1">//Get all products that matches an attribute and its value</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">GetProducts</span><span class="dl">'</span><span class="p">,{</span>
<span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="na">Attribute</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Pegged</span><span class="dl">"</span>
<span class="na">AttributeValue</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">})</span>

<span class="c1">//Starting APEX version 4.4, Depth and StartIndex fields are already supported</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">GetProducts</span><span class="dl">'</span><span class="p">,{</span>
<span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="na">GetDisabled</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="na">Depth</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="c1">//will only return max 10 results</span>
<span class="na">StartIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="c1">//will return products starting from Productd 1, a StartIndex of 10 will return products starting from ProductId 11(means that ProductsId 1 - 10 will not be in he results)</span>
<span class="p">})</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetProducts</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">20</span>
<span class="s">//Get all enabled products</span>
<span class="s">{</span>
<span class="s">    "OMSId": 1</span>
<span class="s">}</span>
<span class="s">//Get all products including disabled products</span>
<span class="s">{</span>
<span class="s">    "OMSId": 1,</span>
<span class="s">    "GetDisabled": true</span>
<span class="s">}</span>
<span class="s">//Get all products that matches an attribute and its value</span>
<span class="s">{</span>
<span class="s">    "OMSId": 1,</span>
<span class="s">    "Attribute": "Pegged",</span>
<span class="s">    "AttributeValue": true</span>
<span class="s">}</span>

<span class="err">//Starting</span><span class="w"> </span><span class="err">APEX</span><span class="w"> </span><span class="err">version</span><span class="w"> </span><span class="mf">4.4</span><span class="w"> </span><span class="err">Depth</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">StartIndex</span><span class="w"> </span><span class="err">fields</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">already</span><span class="w"> </span><span class="err">supported</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"GetDisabled"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Depth"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="err">//will</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">return</span><span class="w"> </span><span class="err">max</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="err">results</span><span class="w">
  </span><span class="nl">"StartIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//will</span><span class="w"> </span><span class="err">return</span><span class="w"> </span><span class="err">products</span><span class="w"> </span><span class="err">starting</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">Productd</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">StartIndex</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">return</span><span class="w"> </span><span class="err">products</span><span class="w"> </span><span class="err">starting</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">ProductId</span><span class="w"> </span><span class="mi">11</span><span class="err">(means</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">ProductsId</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">he</span><span class="w"> </span><span class="err">results)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>Attribute</td>
<td><strong>string.</strong> The attribute key or name for which you want to filter the results with. <strong>optional.</strong></td>
</tr>
<tr>
<td>AttributeValue</td>
<td><strong>string.</strong> Used to filter the results further, only products whose attribute value will match the one set will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>GetDisabled</td>
<td><strong>boolean or integer.</strong> Used to filter disabled products, setting this to true will return all products including the disabled ones. <strong>optional.</strong></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer.</strong> Used for pagination. Indicates the maximum number of results/products to be returned. Defaults to 50 if not defined. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer.</strong> Used for pagination. ProductId 1 represents index 0. A value of 2 for this field will not include ProductId 1 and 2 in the results. Defaults to 0 if not defined. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-52'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductFullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US Dollar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MasterDataUniqueProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NationalCurrency"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DecimalPlaces"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TickSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DepositEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"WithdrawEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NoFees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsDisabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MarginEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductFullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MasterDataUniqueProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CryptoCurrency"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DecimalPlaces"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TickSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DepositEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"WithdrawEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NoFees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsDisabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MarginEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects as a response, one object for each product available on the OMS.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the product belongs.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product.</td>
</tr>
<tr>
<td>Product</td>
<td><strong>string.</strong> The symbol of the product.</td>
</tr>
<tr>
<td>ProductFullName</td>
<td><strong>string.</strong> The full name of the product.</td>
</tr>
<tr>
<td>MasterDataUniqueProductSymbol</td>
<td><strong>string.</strong> <strong>Still not sure about this one, needs additional input.</strong></td>
</tr>
<tr>
<td>ProductType</td>
<td><strong>string</strong> The nature of the product. One of:<br />0 Unknown (an error condition)<br />1 - NationalCurrency<br />2 - CryptoCurrency<br />3 - Contract.</td>
</tr>
<tr>
<td>DecimalPlaces</td>
<td><strong>integer.</strong> The maximum number of decimal places allowed for the amount of product that an account may have.</td>
</tr>
<tr>
<td>TickSize</td>
<td><strong>decimal.</strong> The smallest increment of the amount of the specific product that an account may have.</td>
</tr>
<tr>
<td>DepositEnabled</td>
<td><strong>boolean.</strong> Either true or false. This field turns on/off the deposit for the product.</td>
</tr>
<tr>
<td>WithdrawEnabled</td>
<td><strong>boolean.</strong> Either true or false. This field turns on/off the withdrawal for the product.</td>
</tr>
<tr>
<td>NoFees</td>
<td><strong>boolean.</strong> Either true or false. If <em>false</em>, fees incurred by the account can be charged in the denomination of the specific product. If <em>NoFees</em> is <em>true</em>, fees incurred by the account will never be charged in the denomination of the specific product.</td>
</tr>
<tr>
<td>IsDisabled</td>
<td><strong>boolean.</strong> Either true or false. If true, product is disabled and cannot be used, no deposits and withdrawals can be done.</td>
</tr>
<tr>
<td>MarginEnabled</td>
<td><strong>boolean.</strong> Either true or false. Margin is something not yet supported so value is default to false; for future provisions.</td>
</tr>
</tbody></table>
<h2 id='getproductattributes'>GetProductAttributes</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get attributes of a specific product.</p>
<h3 id='request-53'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetProductAttributes</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetProductAttributes</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">d0260e4b-bf6e-4fcd-a8cd-ad1cb01f2235 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">44</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong> The Id of the OMS where the product belongs. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer</strong>. The Id of the product which you want to get attributes of. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-53'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"KeyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pegged"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"KeyValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>The response is an array of objects, each object represents an product attribute in key-value pair.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. Id of the OMS where the product belongs.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer</strong>. Id of the product whose attribute/s were returned.</td>
</tr>
<tr>
<td>KeyName</td>
<td><strong>string</strong>. The product attribute keyname.</td>
</tr>
<tr>
<td>KeyValue</td>
<td><strong>string</strong>. The product attribute keyvalue.</td>
</tr>
</tbody></table>
<h2 id='getverificationlevelconfig'>GetVerificationLevelConfig</h2>
<p><strong>Permissions:</strong> Operator,Trading,Deposit,Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets the verification level configuration of the requested account.</p>

<p>In APEX, a verification level determines the limits of an account in terms of deposits, withdrawals, transfers and trading. This verification level config response of this API only applies to deposits, withdrawals and transfers and is only about a product or asset. Each product or asset will have separate and possibly unique limits than other products.</p>

<p>A limit value of -1 means infinite or no limit.</p>
<h3 id='request-54'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetVerificationLevelConfig</span><span class="dl">"</span><span class="p">,</span>
<span class="p">{</span>
     <span class="dl">"</span><span class="s2">OMSId</span><span class="dl">"</span><span class="p">:</span>  <span class="mi">1</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">:</span>  <span class="mi">7</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetVerificationLevelConfig</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">8908ed6d-3bd7-472e-ab70-58c2efef6cab</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccoundId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which you wish to get product verification level config for. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-54'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Level"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LevelName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Products"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"VerificationLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
      </span><span class="nl">"VerificationLevelName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProductName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AutoWithdrawThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyDepositLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyDepositNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyDepositLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyDepositNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"YearlyDepositLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"YearlyDepositNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000000.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyWithdrawLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyWithdrawNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyWithdrawLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyWithdrawNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"YearlyWithdrawLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"YearlyWithdrawNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000000.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyTransferNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OverLimitRejected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WithdrawProcessingDelaySec"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DepositTicketWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Internal"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WithdrawTicketWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Internal"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"RequireWhitelistedAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AutoAcceptWhitelistedAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"VerificationLevel"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
      </span><span class="nl">"VerificationLevelName"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ProductName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AutoWithdrawThreshold"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyDepositLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyDepositNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyDepositLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyDepositNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"YearlyDepositLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"YearlyDepositNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000000.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyWithdrawLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyWithdrawNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyWithdrawLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"MonthlyWithdrawNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"YearlyWithdrawLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"YearlyWithdrawNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000000.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DailyTransferNotionalLimit"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OverLimitRejected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WithdrawProcessingDelaySec"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DepositTicketWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Internal"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WithdrawTicketWorkflow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Internal"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"RequireWhitelistedAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"AutoAcceptWhitelistedAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Level</td>
<td><strong>integer.</strong> The verification level the account specified is currently on.</td>
</tr>
<tr>
<td>LevelName</td>
<td><strong>string.</strong> The of name the verification level the account specified is currently on.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account specified belongs to.</td>
</tr>
<tr>
<td>Products</td>
<td><strong>array.</strong> An array of objects, each object will contain the limits of a specific product.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product to which the specific verification level limits applies.</td>
</tr>
<tr>
<td>ProductName</td>
<td><strong>string.</strong> The name of the product to which the specific verification level limits applies.</td>
</tr>
<tr>
<td>AutoWithdrawThreshold</td>
<td><strong>decimal.</strong> The maximum withdraw amount which can be autoaccepted. If set to zero, all withdraw tickets needs to be accepted manually by the operator.</td>
</tr>
<tr>
<td>DailyDepositLimit</td>
<td><strong>decimal.</strong> The maximum amount of the product that can be deposited daily.</td>
</tr>
<tr>
<td>DailyDepositNotionalLimit</td>
<td><strong>decimal.</strong> The maximum notional amount of the product that can be deposited daily.</td>
</tr>
<tr>
<td>MonthlyDepositLimit</td>
<td><strong>decimal.</strong> The maximum amount of the product that can be deposited monthly.</td>
</tr>
<tr>
<td>MonthlyDepositNotionalLimit</td>
<td><strong>decimal.</strong> The maximum notional amount of the product that can be deposited monthly.</td>
</tr>
<tr>
<td>YearlyDepositLimit</td>
<td><strong>decimal.</strong> The maximum amount of the product that can be deposited annually.</td>
</tr>
<tr>
<td>YearlyDepositNotionalLimit</td>
<td><strong>decimal.</strong> The maximum notional amount of the product that can be deposited annually.</td>
</tr>
<tr>
<td>DailyWithdrawLimit</td>
<td><strong>decimal.</strong> The maximum amount of the product that can be withdrawn daily.</td>
</tr>
<tr>
<td>DailyWithdrawNotionalLimit</td>
<td><strong>decimal.</strong> The maximum notional amount of the product that can be withdrawn daily.</td>
</tr>
<tr>
<td>MonthlyWithdrawLimit</td>
<td><strong>decimal.</strong> The maximum amount of the product that can be withdrawn monthly.</td>
</tr>
<tr>
<td>MonthlyWithdrawNotionalLimit</td>
<td><strong>decimal.</strong> The maximum notional amount of the product that can be withdrawn monthly.</td>
</tr>
<tr>
<td>YearlyWithdrawLimit</td>
<td><strong>decimal.</strong> The maximum amount of the product that can be withdrawn annually.</td>
</tr>
<tr>
<td>YearlyWithdrawNotionalLimit</td>
<td><strong>decimal.</strong> The maximum notional amount of the product that can be withdrawn annually.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The ID of the notional product.</td>
</tr>
<tr>
<td>OverLimitRejected</td>
<td><strong>boolean.</strong> If true, all deposit and withdrawals which exceeds limits will be automatically rejected, else those tickets will stay at the status New.</td>
</tr>
<tr>
<td>WithdrawProcessingDelaySec</td>
<td><strong>integer.</strong> The delay, in minutes, before a withdraw request will be Submitted onchain after getting accepted.</td>
</tr>
<tr>
<td>DepositTicketWorkflow</td>
<td><strong>string.</strong> The deposit workflow.</td>
</tr>
<tr>
<td>WithdrawTicketWorkflow</td>
<td><strong>string.</strong> The withdraw workflow.</td>
</tr>
<tr>
<td>RequireWhitelistedAddress</td>
<td><strong>boolean.</strong> If true, users can only withdraw to whitelisted withdraw address, if the user does not have a verified withdraw address, he/she will not be able to submit a withdraw request.</td>
</tr>
<tr>
<td>AutoAcceptWhitelistedAddress</td>
<td><strong>boolean.</strong> If true, withdrawal to whitelisted address will be auto-accepted.</td>
</tr>
</tbody></table>
<h2 id='assets'>Assets</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>The assets endpoint is to provide a detailed summary for each currency available on the exchange for CMC Integration</p>
<h3 id='request-55'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">Assets</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/Assets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>

</code></pre></div>
<p>No field is required in the request payload.</p>
<h3 id='response-55'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unified_cryptoasset_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_withdraw"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TBTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unified_cryptoasset_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5776</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_withdraw"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ethereum Kovan"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unified_cryptoasset_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1027</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_withdraw"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chainlink"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unified_cryptoasset_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1975</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_withdraw"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ICON"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unified_cryptoasset_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2099</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_withdraw"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dogecoin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unified_cryptoasset_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">74</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_withdraw"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tether"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unified_cryptoasset_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">825</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_withdraw"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD  Coin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unified_cryptoasset_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3408</span><span class="p">,</span><span class="w">
    </span><span class="nl">"min_withdraw"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects as a response, each object represents a specific asset in the exchange.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><strong>string.</strong> The asset/product name.</td>
</tr>
<tr>
<td>unified_cryptoasset_id</td>
<td><strong>integer.</strong> The unified cryptoasset id of the product based on CMC.</td>
</tr>
<tr>
<td>min_withdraw</td>
<td><strong>decimal.</strong> The maximum number of decimal places allowed.</td>
</tr>
</tbody></table>
<h1 id='report'>Report</h1><h2 id='generatetradeactivityreport'>GenerateTradeActivityReport</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Creates an immediate report on historical trade activity on a specific OMS for a list of accounts during a specified time interval.</p>

<p>A user with Trading permission can only generate trade reports for accounts with which he/she is associated to; a user with Operator permission can generate trade reports for any account.</p>

<p>The actual Trade Activity Report will be generated as a comma-separated (CSV) file. It can be downloaded using the API call <a href="https://trading.alphapointuniversity.com/#downloaddocument"><strong>DownloadDocument</strong></a></p>
<h3 id='request-56'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GenerateTradeActivityReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">startTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-01T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">endTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-02T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accountIdList</span><span class="p">:</span> <span class="p">[</span><span class="mi">185</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="c1">//1 or more accounts</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GenerateTradeActivityReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2bf2e45b-42aa-4448-9d6f-bb0a8fd020e4 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">142</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">185</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>accountIdList</td>
<td><strong>integer array.</strong> A comma-delimited array of one ore more account IDs, each valid on a single OMS for the authenticated user. The account user may not be the only user of the account. <strong>required.</strong></td>
</tr>
<tr>
<td>omsId</td>
<td><strong>integer.</strong> The ID of the OMS on which the array of account IDs exist. <strong>required.</strong></td>
</tr>
<tr>
<td>startTime</td>
<td><strong>string.</strong> <em>startTime</em> identifies the time and date for the historic beginning of the trade activity report. <strong>required.</strong></td>
</tr>
<tr>
<td>endTime</td>
<td><strong>string.</strong> <em>endTime</em> identifies the time and date for the historic end of the trade activity report. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-56'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TradeActivity"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-29T09:23:48.919Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-29T09:23:48.919Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"onDemand"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">864000000000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f99dfd7b-138a-451f-8eca-7dd9916198f7"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">185</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the trade activity report. This confirms the ID of the authenticated user who made the request by returning it as part of the response.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the trade activity report will be run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report to be generated. In the case of GenerateTradeActivityReport, report flavor will always be <strong>TradeActivity</strong></td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date on which the request for the trade activity report was made.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the trade activity report was first run.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>string.</strong> The status of the request for the trade activity report. A Generate~Report request will always return <em>Submitted</em>. Each request returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelled<br />Pending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>string.</strong> When the report runs. For a <strong>Generate~Report</strong> call, this is always OnDemand. One of:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report covers relative to the run date. The <strong>Generate~Report</strong> call requires a start time and an end time. The AlphaPoint software calculates the difference between them as <em>intervalDuration</em>.<br /><br />For example, say that you specify a 90-day start-date-to-end-date window for a report. The <em>intervalDuration</em> value returns a value equivalent to 90 days. If you have called <strong>Generate~Report</strong>, that value simply confirms the length of time that the on-demand report covers.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report. Will be <em>null</em> for a <strong>Generate~Report</strong> call, because generated reports are on-demand.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose trades are reported in the trade activity report.</td>
</tr>
</tbody></table>
<h2 id='generatetreasuryactivityreport'>GenerateTreasuryActivityReport</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates the generation of a Treasury Activity report for the specified accounts over a specified time interval.</p>

<p>A user with Trading permission can only generate treasury reports for accounts with which he/she is associated to; a user with Operator permission can generate treasury reports for any account.</p>

<p>The actual Treasury Activity Report will be generated as a comma-separated (CSV) file. It can be downloaded using the API call <a href="https://trading.alphapointuniversity.com/#downloaddocument"><strong>DownloadDocument</strong></a></p>
<h3 id='request-57'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GenerateTreasuryActivityReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">startTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-01T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">endTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-02T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accountIdList</span><span class="p">:</span> <span class="p">[</span><span class="mi">185</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="c1">//1 or more accounts</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GenerateTreasuryActivityReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2bf2e45b-42aa-4448-9d6f-bb0a8fd020e4 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">142</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">185</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>accountIdList</td>
<td><strong>integer array.</strong> A comma-delimited array of one ore more account IDs, each valid on a single OMS for the authenticated user. The account user may not be the only user of the account. <strong>required.</strong></td>
</tr>
<tr>
<td>omsId</td>
<td><strong>integer.</strong> The ID of the OMS on which the array of account IDs exist. <strong>required.</strong></td>
</tr>
<tr>
<td>startTime</td>
<td><strong>string.</strong> <em>startTime</em> identifies the time and date for the historic beginning of the treasury activity report. <strong>required.</strong></td>
</tr>
<tr>
<td>endTime</td>
<td><strong>string.</strong> <em>endTime</em> identifies the time and date for the historic end of the treasury activity report. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-57'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Actual</span><span class="w"> </span><span class="err">response</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Treasury"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-29T09:27:08.352Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-29T09:27:08.352Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"onDemand"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">864000000000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"125e3f2e-0f19-47ba-9248-dfb8b98a1fac"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Similar objects are returned for <strong>Generate~Report</strong> and <strong>Schedule~Report</strong> calls. As a result, for an on-demand <strong>Generate~Report</strong> call, some string-value pairs such as <em>initialRunTime</em> may return the current time and <em>ReportFrequency</em> will always return <em>OnDemand</em> because the report is only generated once and on demand.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the treasury activity report. This confirms the ID of the authenticated user who made the request by returning it as part of the response.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the treasury activity report will be run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report to be generated. In the case of GenerateTreasuryActivityReport, report flavor will always be <strong>Treasury</strong></td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date on which the request for the treasury activity report was made.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the treasury activity report was first run.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>string.</strong> The status of the request for the treasury activity report. A Generate~Report request will always return <em>Submitted</em>. Each request returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelled<br />Pending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>string.</strong> When the report runs. For a <strong>Generate~Report</strong> call, this is always OnDemand. One of:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report covers relative to the run date. The <strong>Generate~Report</strong> call requires a start time and an end time. The AlphaPoint software calculates the difference between them as <em>intervalDuration</em>.<br /><br />For example, say that you specify a 90-day start-date-to-end-date window for a report. The <em>intervalDuration</em> value returns a value equivalent to 90 days. If you have called <strong>Generate~Report</strong>, that value simply confirms the length of time that the on-demand report covers.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report. Will be <em>null</em> for a <strong>Generate~Report</strong> call, because generated reports are on-demand.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose treasury activities are reported in the treasury activity report.</td>
</tr>
</tbody></table>
<h2 id='gettreasuryproductsforaccount'>GetTreasuryProductsForAccount</h2>
<p><strong>Permissions:</strong> Operator, Trading, Withdraw, Deposit<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns a list of products upon which the account id is allowed to execute treasury operations. Technically, the products returned are those products with a configured and enabled <strong>AccountProvider</strong>.</p>

<p>Users with Trading, Withdraw, and Deposit permissions can call this API only for the accounts associated to them. Users with Operator permission can request the list of treasury products for any account.</p>
<h3 id='request-58'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetTreasuryProductsForAccount</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetTreasuryProductsForAccount</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">b031b607-818d-4799-9f5f-b07c7a28dd58 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account whose permitted treasury products will be returned. <strong>required.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account operates. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-58'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"LINK"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ICX"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"TXRP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"APU"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"OTC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"test2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
</span><span class="p">]</span><span class="err">;</span><span class="w">
</span></code></pre></div>
<p>Returns an array as a response. Each element in the array is a symbol of a product.</p>
<h2 id='generatetransactionactivityreport'>GenerateTransactionActivityReport</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Creates an immediate report on historical transaction activity on a specific OMS for a list of accounts during a specified time interval.</p>

<p>A user with Trading permission can only generate transaction reports for accounts with which he/she is associated to; a user with Operator permission can generate transaction reports for any account.</p>

<p>The actual Transaction Activity Report will be generated as a comma-separated (CSV) file. It can be downloaded using the API call <a href="https://trading.alphapointuniversity.com/#downloaddocument"><strong>DownloadDocument</strong></a></p>
<h3 id='request-59'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GenerateTransactionActivityReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">startTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-01T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">endTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-02T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accountIdList</span><span class="p">:</span> <span class="p">[</span><span class="mi">185</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="c1">//1 or more accounts</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GenerateTransactionActivityReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2bf2e45b-42aa-4448-9d6f-bb0a8fd020e4 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">142</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">185</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>accountIdList</td>
<td><strong>integer array.</strong> A comma-delimited array of one ore more account IDs, each valid on a single OMS for the authenticated user. The account user may not be the only user of the account. <strong>required.</strong></td>
</tr>
<tr>
<td>omsId</td>
<td><strong>integer.</strong> The ID of the OMS on which the array of account IDs exist. <strong>required.</strong></td>
</tr>
<tr>
<td>startTime</td>
<td><strong>string.</strong> <em>startTime</em> identifies the time and date for the historic beginning of the transaction activity report. <strong>required.</strong></td>
</tr>
<tr>
<td>endTime</td>
<td><strong>string.</strong> <em>endTime</em> identifies the time and date for the historic end of the transaction activity report. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-59'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Actual</span><span class="w"> </span><span class="err">response</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transaction"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-29T09:23:30.245Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-29T09:23:30.245Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"onDemand"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">864000000000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a864c139-5395-4fbe-8627-6aa164a2180d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">185</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Similar objects are returned for <strong>Generate~Report</strong> and <strong>Schedule~Report</strong> calls. As a result, for an on-demand <strong>Generate~Report</strong> call, some string-value pairs such as <em>initialRunTime</em> may return the current time and <em>ReportFrequency</em> will always return <em>OnDemand</em> because the report is only generated once and on demand.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the transaction activity report. This confirms the ID of the authenticated user who made the request by returning it as part of the response.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the transaction activity report will be run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report to be generated. In the case of GenerateTransactionActivityReport, report flavor will always be <strong>TransactionActivity</strong></td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date on which the request for the transaction activity report was made.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the transaction activity report was first run.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>string.</strong> The status of the request for the transaction activity report. A Generate~Report request will always return <em>Submitted</em>. Each request returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelled<br />Pending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>string.</strong> When the report runs. For a <strong>Generate~Report</strong> call, this is always OnDemand. One of:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report covers relative to the run date. The <strong>Generate~Report</strong> call requires a start time and an end time. The AlphaPoint software calculates the difference between them as <em>intervalDuration</em>.<br /><br />For example, say that you specify a 90-day start-date-to-end-date window for a report. The <em>intervalDuration</em> value returns a value equivalent to 90 days. If you have called <strong>Generate~Report</strong>, that value simply confirms the length of time that the on-demand report covers.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report. Will be <em>null</em> for a <strong>Generate~Report</strong> call, because generated reports are on-demand.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose transactions are reported in the transaction activity report.</td>
</tr>
</tbody></table>
<h2 id='generateproductdeltaactivityreport'>GenerateProductDeltaActivityReport</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates the generation of a Product Delta Activity report for the specified accounts over a specified time interval.</p>
<h3 id='request-60'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GenerateProductDeltaActivityReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">startTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-01T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">endTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-02T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accountIdList</span><span class="p">:</span> <span class="p">[</span><span class="mi">185</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GenerateProductDeltaActivityReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">8587842a-072b-46be-a589-fd4c3a706a7d</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">142</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">185</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>accountIdList</td>
<td><strong>integer array.</strong> A comma-delimited array of one ore more account IDs, each valid on a single OMS for the authenticated user. The account user may not be the only user of the account. <strong>required.</strong></td>
</tr>
<tr>
<td>omsId</td>
<td><strong>integer.</strong> The ID of the OMS on which the array of account IDs exist. <strong>required.</strong></td>
</tr>
<tr>
<td>startTime</td>
<td><strong>string.</strong> <em>startTime</em> identifies the time and date for the historic beginning of the product delta activity report. <strong>required.</strong></td>
</tr>
<tr>
<td>endTime</td>
<td><strong>string.</strong> <em>endTime</em> identifies the time and date for the historic end of the product delta activity report. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-60'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductDelta"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-06T08:44:41.721Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-06T08:44:41.721Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"onDemand"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">864000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00117ffc-239d-4d37-804f-738b8250c1d9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="mi">185</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the product delta activity report. This confirms the ID of the authenticated user who made the request by returning it as part of the response.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the product delta activity report will be run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report to be generated. In the case of GenerateProductDeltaActivityReport, report flavor will always be <strong>ProductDelta</strong></td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date on which the request for the product delta activity report was made.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the product delta activity report was first run.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>string.</strong> The status of the request for the product delta activity report. A Generate~Report request will always return <em>Submitted</em>. Each request returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelled<br />Pending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>string.</strong> When the report runs. For a <strong>Generate~Report</strong> call, this is always OnDemand. One of:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report covers relative to the run date. The <strong>Generate~Report</strong> call requires a start time and an end time. The AlphaPoint software calculates the difference between them as <em>intervalDuration</em>.<br /><br />For example, say that you specify a 90-day start-date-to-end-date window for a report. The <em>intervalDuration</em> value returns a value equivalent to 90 days. If you have called <strong>Generate~Report</strong>, that value simply confirms the length of time that the on-demand report covers.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report. Will be <em>null</em> for a <strong>Generate~Report</strong> call, because generated reports are on-demand.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose transactions are reported in the product delta activity report.</td>
</tr>
</tbody></table>
<h2 id='generatepnlactivityreport'>GeneratePnLActivityReport</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates the generation of a Profit and Loss Activity report for the specified accounts over a specified time interval.</p>
<h3 id='request-61'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GeneratePnLActivityReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">startTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-01T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">endTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-02T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accountIdList</span><span class="p">:</span> <span class="p">[</span><span class="mi">185</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GeneratePnLActivityReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">8587842a-072b-46be-a589-fd4c3a706a7d</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">142</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">185</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>accountIdList</td>
<td><strong>integer array.</strong> A comma-delimited array of one ore more account IDs, each valid on a single OMS for the authenticated user. The account user may not be the only user of the account. <strong>required.</strong></td>
</tr>
<tr>
<td>omsId</td>
<td><strong>integer.</strong> The ID of the OMS on which the array of account IDs exist. <strong>required.</strong></td>
</tr>
<tr>
<td>startTime</td>
<td><strong>string.</strong> <em>startTime</em> identifies the time and date for the historic beginning of the profit and loss activity report. <strong>required.</strong></td>
</tr>
<tr>
<td>endTime</td>
<td><strong>string.</strong> <em>endTime</em> identifies the time and date for the historic end of the profit and loss activity report. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-61'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProfitAndLoss"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-06T08:50:54.313Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-06T08:50:54.313Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"onDemand"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">864000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41696500-45e5-4609-b233-9b60389d7abc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="mi">185</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the profit and loss activity report. This confirms the ID of the authenticated user who made the request by returning it as part of the response.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the profit and loss activity report will be run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report to be generated. In the case of GeneratePnLActivityReport, report flavor will always be <strong>ProfitAndLoss</strong></td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date on which the request for the profit and loss activity report was made.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the profit and loss activity report was first run.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>string.</strong> The status of the request for the profit and loss activity report. A Generate~Report request will always return <em>Submitted</em>. Each request returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelled<br />Pending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>string.</strong> When the report runs. For a <strong>Generate~Report</strong> call, this is always OnDemand. One of:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report covers relative to the run date. The <strong>Generate~Report</strong> call requires a start time and an end time. The AlphaPoint software calculates the difference between them as <em>intervalDuration</em>.<br /><br />For example, say that you specify a 90-day start-date-to-end-date window for a report. The <em>intervalDuration</em> value returns a value equivalent to 90 days. If you have called <strong>Generate~Report</strong>, that value simply confirms the length of time that the on-demand report covers.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report. Will be <em>null</em> for a <strong>Generate~Report</strong> call, because generated reports are on-demand.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose transactions are reported in the profit and loss activity report.</td>
</tr>
</tbody></table>
<h2 id='scheduletradeactivityreport'>ScheduleTradeActivityReport</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates the generation of an series of Trade Activity reports for the specified accounts over a regular periodic time interval.</p>

<p>A user with Trading permission can only schedule generation of trade reports for accounts with which he/she is associated to; a user with Operator permission can schedule generation of trade reports for any account.</p>

<p>The actual Trade Activity Report will be generated as a comma-separated (CSV) file according to the interval, if interval set is daily, a trade report will be generated daily unless cancelled using the API <a href="https://trading.alphapointuniversity.com/#cancelreport"><strong>CancelReport</strong></a>. It can be downloaded using the API call <a href="https://trading.alphapointuniversity.com/#downloaddocument"><strong>DownloadDocument</strong></a></p>
<h3 id='request-62'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ScheduleTradeActivityReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">beginTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-30T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Frequency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Weekly</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accountIdList</span><span class="p">:</span> <span class="p">[</span><span class="mi">185</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ScheduleTradeActivityReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2bf2e45b-42aa-4448-9d6f-bb0a8fd020e4 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">142</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"beginTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Frequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">185</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>frequency</td>
<td><strong>integer or string.</strong> How often the report will run and a trade report get generated. One of the following:<br />0 Hourly<br />1 Daily<br />2 Weekly<br />3 Monthly<br />4 Annually<br />5 onDemand. If not defined, the default is 0 which means <strong>Hourly</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>accountIdList</td>
<td><strong>integer array.</strong> Comma-separated integers; each element an account ID on the OMS whose trade activity will be reported on. All accounts must be from the same OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>omsId</td>
<td><strong>integer.</strong> The ID of the OMS on which the accounts named in the list reside. <strong>required.</strong></td>
</tr>
<tr>
<td>beginTime</td>
<td><strong>string.</strong> The time at which the periodic reports begin; the day and time when you want reporting to start, in Microsoft Ticks format. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-62'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Actual</span><span class="w"> </span><span class="err">response</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TradeActivity"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-29T16:11:13.093Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-06T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">6048000000000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eb7f18bb-1978-47ba-aae1-b74c3a8acb2d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">185</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the trade activity report. This confirms the ID of the authenticated user who made the request by returning it as part of the response.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the trade activity report will be run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report to be generated. In the case of ScheduleTradeActivityReport, report flavor will always be <strong>TradeActivity</strong></td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date on which the request for the trade activity report was made, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the trade activity report was first run, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>enumerated string.</strong> The status of the request for the trade activity report. Each request returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelledPending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>enumerated string.</strong> When the report runs:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report covers relative to the run date, in POSIX format. The call specifies a start time and an <em>intervalDuration</em>.<br /><br />In scheduled a scheduled report, the interval duration depends on the frequency, if the frequency is <strong>Weekly</strong>, the interval duration will be 1 week.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose trades are reported in the trade activity report.</td>
</tr>
</tbody></table>
<h2 id='scheduletreasuryactivityreport'>ScheduleTreasuryActivityReport</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates the generation of an series of treasury Activity reports for the specified accounts over a regular periodic time interval.</p>

<p>A user with Trading permission can only schedule generation of treasury reports for accounts with which he/she is associated to; a user with Operator permission can schedule generation of treasury reports for any account.</p>

<p>The actual treasury Activity Report will be generated as a comma-separated (CSV) file according to the interval, if interval set is daily, a treasury report will be generated daily unless cancelled using the API <a href="https://trading.alphapointuniversity.com/#cancelreport"><strong>CancelReport</strong></a>. It can be downloaded using the API call <a href="https://trading.alphapointuniversity.com/#downloaddocument"><strong>DownloadDocument</strong></a></p>
<h3 id='request-63'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ScheduleTreasuryActivityReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">beginTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-30T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Frequency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Weekly</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accountIdList</span><span class="p">:</span> <span class="p">[</span><span class="mi">185</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ScheduleTreasuryActivityReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2bf2e45b-42aa-4448-9d6f-bb0a8fd020e4 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">142</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"beginTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Frequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">185</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>frequency</td>
<td><strong>integer or string.</strong> How often the report will run and a trade report get generated. One of the following:<br />0 Hourly<br />1 Daily<br />2 Weekly<br />3 Monthly<br />4 Annually<br />5 onDemand. If not defined, the default is 0 which means <strong>Hourly</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>accountIdList</td>
<td><strong>integer array.</strong> Comma-separated integers; each element an account ID on the OMS whose treasury activity will be reported on. All accounts must be from the same OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>omsId</td>
<td><strong>integer.</strong> The ID of the OMS on which the accounts named in the list reside. <strong>required.</strong></td>
</tr>
<tr>
<td>beginTime</td>
<td><strong>string.</strong> The time at which the periodic reports begin; the day and time when you want reporting to start, in Microsoft Ticks format. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-63'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Actual</span><span class="w"> </span><span class="err">response</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Treasury"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-29T16:19:49.606Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-06T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">6048000000000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36622dd9-55bd-4e3c-90ab-93385c752695"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">185</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the treasury activity report. This confirms the ID of the authenticated user who made the request by returning it as part of the response.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the treasury activity report will be run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report to be generated. In the case of ScheduleTreasuryActivityReport, report flavor will always be <strong>Treasury</strong></td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date on which the request for the treasury activity report was made, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the treasury activity report was first run, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>enumerated string.</strong> The status of the request for the treasury activity report. Each request returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelledPending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>enumerated string.</strong> When the report runs:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report covers relative to the run date, in POSIX format. The call specifies a start time and an <em>intervalDuration</em>.<br /><br />In scheduled a scheduled report, the interval duration depends on the frequency, if the frequency is <strong>Weekly</strong>, the interval duration will be 1 week.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose treasury activities are reported in the treasury activity report.</td>
</tr>
</tbody></table>
<h2 id='scheduletransactionactivityreport'>ScheduleTransactionActivityReport</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates the generation of an series of Transaction Activity reports for the specified accounts over a regular periodic time interval.</p>

<p>A user with Trading permission can only schedule generation of transaction reports for accounts with which he/she is associated to; a user with Operator permission can schedule generation of transaction reports for any account.</p>

<p>The actual Transaction Activity Report will be generated as a comma-separated (CSV) file according to the interval, if interval set is daily, a transaction report will be generated daily unless cancelled using the API <a href="https://trading.alphapointuniversity.com/#cancelreport"><strong>CancelReport</strong></a>. It can be downloaded using the API call <a href="https://trading.alphapointuniversity.com/#downloaddocument"><strong>DownloadDocument</strong></a></p>
<h3 id='request-64'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ScheduleTransactionActivityReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">beginTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-30T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Frequency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Weekly</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accountIdList</span><span class="p">:</span> <span class="p">[</span><span class="mi">185</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ScheduleTransactionActivityReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2bf2e45b-42aa-4448-9d6f-bb0a8fd020e4 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">142</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"beginTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Frequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">185</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>frequency</td>
<td><strong>integer or string.</strong> How often the report will run and a trade report get generated. One of the following:<br />0 Hourly<br />1 Daily<br />2 Weekly<br />3 Monthly<br />4 Annually<br />5 onDemand. If not defined, the default is 0 which means <strong>Hourly</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>accountIdList</td>
<td><strong>integer array.</strong> Comma-separated integers; each element an account ID on the OMS whose transaction activity will be reported on. All accounts must be from the same OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>omsId</td>
<td><strong>integer.</strong> The ID of the OMS on which the accounts named in the list reside. <strong>required.</strong></td>
</tr>
<tr>
<td>beginTime</td>
<td><strong>string.</strong> The time at which the periodic reports begin; the day and time when you want reporting to start, in Microsoft Ticks format. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-64'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Actual</span><span class="w"> </span><span class="err">response</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transaction"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-29T16:24:35.923Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-06T16:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">6048000000000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ba20a1d1-7acb-48b9-89eb-df2787e65934"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">185</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the transaction activity report. This confirms the ID of the authenticated user who made the request by returning it as part of the response.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the transaction activity report will be run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report to be generated. In the case of ScheduleTransactionActivityReport, report flavor will always be <strong>Transaction</strong></td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date on which the request for the transaction activity report was made, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the transaction activity report was first run, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>enumerated string.</strong> The status of the request for the transaction activity report. Each request returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelledPending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>enumerated string.</strong> When the report runs:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report covers relative to the run date, in POSIX format. The call specifies a start time and an <em>intervalDuration</em>.<br /><br />In scheduled a scheduled report, the interval duration depends on the frequency, if the frequency is <strong>Weekly</strong>, the interval duration will be 1 week.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose transactions are reported in the transaction activity report.</td>
</tr>
</tbody></table>
<h2 id='scheduleproductdeltaactivityreport'>ScheduleProductDeltaActivityReport</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates the generation of an series of Product Delta Activity reports for the specified accounts over a regular periodic time interval.</p>
<h3 id='request-65'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ScheduleProductDeltaActivityReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">beginTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-30T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Frequency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Weekly</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accountIdList</span><span class="p">:</span> <span class="p">[</span><span class="mi">185</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ScheduleProductDeltaActivityReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">8587842a-072b-46be-a589-fd4c3a706a7d</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">126</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"beginTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Frequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">185</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>frequency</td>
<td><strong>integer or string.</strong> How often the report will run and a product delta activity report get generated. One of the following:<br />0 Hourly<br />1 Daily<br />2 Weekly<br />3 Monthly<br />4 Annually<br />5 onDemand. If not defined, the default is 0 which means <strong>Hourly</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>accountIdList</td>
<td><strong>integer array.</strong> Comma-separated integers; each element an account ID on the OMS whose product delta activity will be reported on. All accounts must be from the same OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>omsId</td>
<td><strong>integer.</strong> The ID of the OMS on which the accounts named in the list reside. <strong>required.</strong></td>
</tr>
<tr>
<td>beginTime</td>
<td><strong>string.</strong> The time at which the periodic reports begin; the day and time when you want reporting to start, in Microsoft Ticks format. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-65'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProductDelta"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-06T08:57:25.933Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-06T08:57:25.933Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-06T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">6048000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8dd8c68d-b724-d3f7-cc8a-f303c1c428af"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="mi">185</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the product delta activity report. This confirms the ID of the authenticated user who made the request by returning it as part of the response.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the product delta activity report will be run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report to be generated. In the case of ScheduleProductDeltaActivityReport, report flavor will always be <strong>ProductDelta</strong></td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date on which the request for the product delta activity report was made, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the product delta activity report was first run, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>enumerated string.</strong> The status of the request for the product delta activity report. Each request returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelledPending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>enumerated string.</strong> When the report runs:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report covers relative to the run date, in POSIX format. The call specifies a start time and an <em>intervalDuration</em>.<br /><br />In scheduled a scheduled report, the interval duration depends on the frequency, if the frequency is <strong>Weekly</strong>, the interval duration will be 1 week.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose transactions are reported in the product delta activity report.</td>
</tr>
</tbody></table>
<h2 id='scheduleprofitandlossactivityreport'>ScheduleProfitAndLossActivityReport</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates the generation of an series of Profit and Loss Activity reports for the specified accounts over a regular periodic time interval.</p>
<h3 id='request-66'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ScheduleProfitandLossActivityReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">beginTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-03-30T16:00:00.000Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Frequency</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Weekly</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">accountIdList</span><span class="p">:</span> <span class="p">[</span><span class="mi">185</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ScheduleProfitAndLossActivityReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">8587842a-072b-46be-a589-fd4c3a706a7d</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">126</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"beginTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Frequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIdList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">185</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>frequency</td>
<td><strong>integer or string.</strong> How often the report will run and a profit and lost activity report get generated. One of the following:<br />0 Hourly<br />1 Daily<br />2 Weekly<br />3 Monthly<br />4 Annually<br />5 onDemand. If not defined, the default is 0 which means <strong>Hourly</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>accountIdList</td>
<td><strong>integer array.</strong> Comma-separated integers; each element an account ID on the OMS whose profit and loss activity will be reported on. All accounts must be from the same OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>omsId</td>
<td><strong>integer.</strong> The ID of the OMS on which the accounts named in the list reside. <strong>required.</strong></td>
</tr>
<tr>
<td>beginTime</td>
<td><strong>string.</strong> The time at which the periodic reports begin; the day and time when you want reporting to start, in Microsoft Ticks format. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-66'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ProfitAndLoss"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-06T09:04:05.944Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-06T09:04:05.944Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-06T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">6048000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36197677-d103-e143-3b9c-a5ae8f17e093"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="mi">185</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the profit and loss activity report. This confirms the ID of the authenticated user who made the request by returning it as part of the response.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the profit and loss activity report will be run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report to be generated. In the case of ScheduleProfitandLossActivityReport, report flavor will always be <strong>ProfitAndLoss</strong></td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date on which the request for the profit and loss activity report was made, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the profit and loss activity report was first run, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>enumerated string.</strong> The status of the request for the profit and loss activity report. Each request returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelledPending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>enumerated string.</strong> When the report runs:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report covers relative to the run date, in POSIX format. The call specifies a start time and an <em>intervalDuration</em>.<br /><br />In scheduled a scheduled report, the interval duration depends on the frequency, if the frequency is <strong>Weekly</strong>, the interval duration will be 1 week.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose transactions are reported in the profit and loss activity report.</td>
</tr>
</tbody></table>
<h2 id='canceluserreport'>CancelUserReport</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Sends a request to DataService to Remove a User Report. If successful, changes the state of a UserReportTicket to <strong>UserCancelled</strong>. To get list of user reports that can be possibly cancelled, you can use the API <a href="https://trading.alphapointuniversity.com/#getuserreporttickets"><strong>GetUserReportTickets</strong></a>.</p>
<h3 id='request-67'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CancelUserReport</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserReportId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">389f244a-b958-4545-a4a7-61a73205b59e</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CancelUserReport</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">250c3ff1-cfb2-488f-be88-dfaf12e4f975 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">63</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserReportId"</span><span class="p">:</span><span class="s2">"389f244a-b958-4545-a4a7-61a73205b59e"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserReportId</td>
<td><strong>string</strong>. The GUID is a globally unique ID string that identifies the user report to be canceled. The OMS provides this ID when you create a report. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-67'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The response to <strong>CancelUserReport</strong> verifies that the call was received, not that the user report has been canceled successfully. Individual event updates sent to the user show cancellations. To verify that a report has been canceled, call <strong>GetUserReportTickets</strong> or <strong>GetUserReportWriterResultRecords</strong>.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful receipt of the cancellation returns true; and unsuccessful receipt of the cancellation (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful receipt of the cancellation returns null; the <em>errormsg</em> parameter for an unsuccessful receipt returns one of the following messages: Not Authorized (errorcode 20, Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful receipt of the cancellation returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='getuserreportwriterresultrecords'>GetUserReportWriterResultRecords</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Queries the database for ReportWriterResultRecords that result from the execution of reports requested by the session User.</p>

<p>Users with Trading permission can request user report writer result records only for their own; users with Operator permission can request any user&#39;s report writer result records.</p>

<aside class="notice"><strong>Note: </strong>"Depth" in this call is the count of records to be returned, not market depth.</aside>
<h3 id='request-68'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserReportWriterResultRecords</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserReportWriterResultRecords</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">d0260e4b-bf6e-4fcd-a8cd-ad1cb01f2235</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">21</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose report writer result records will be returned. <strong>required.</strong></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer.</strong> The count of records to be returned, beginning at <em>startIndex</em> and working backwards into the past. If not defined, all report writer result records will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer.</strong> The record number at which the call starts returning records; from there, record return moves into the past. The most recent record is record is at startindex 0. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-68'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"urtTicketId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c2186954-3549-4214-99de-17281b0b7b02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"descriptorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0d24a8bd-1017-4f5a-acbb-eb41316411ca"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"resultStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SuccessComplete"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportExecutionStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T07:16:30.949Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportExecutionCompleteTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-30T07:16:30.954Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportOutputFilePathname"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportDescriptiveHeader"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TradeActivity|onDemand|2023-03-03T16:00:00.000Z|2023-03-04T16:00:00.000Z|2023-03-30T06:16:26.381Z|2023-03-30T07:16:30.949Z|0.00535 seconds"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>Integer</strong>. ID of the user requesting the report writer result records.</td>
</tr>
<tr>
<td>urtTicketId</td>
<td><strong>string</strong>. An alphanumeric string containing the unique report ID of the report.</td>
</tr>
<tr>
<td>descriptorId</td>
<td><strong>string</strong>. A GUID (globally-unique identifier) that describes the report separately from the report ticket.</td>
</tr>
<tr>
<td>resultStatus</td>
<td><strong>string</strong>. The status of each run of the reports. One of:<br />0 NotStarted<br />1 NotComplete<br />2 ErrorComplete<br />3 SuccessComplete<br />4 Cancelled</td>
</tr>
<tr>
<td>reportExecutionStartTime</td>
<td><strong>string.</strong> The time that the report writer began execution, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>reportExecutionCompleteTime</td>
<td><strong>string.</strong> The time that the report writer completed the report, in Microsoft Ticks format.</td>
</tr>
<tr>
<td>reportOutputFilePathname</td>
<td><strong>string.</strong> The pathname (location) of the report output file.</td>
</tr>
<tr>
<td>reportDescriptiveHeader</td>
<td><strong>string</strong>. A string describing the report.</td>
</tr>
</tbody></table>
<h2 id='getuserreporttickets'>GetUserReportTickets</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns an array of user report tickets for a specific user ID. A user report ticket identifies a report requested or scheduled by a user. Reports can run once or periodically.</p>
<h3 id='request-69'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserReportTickets</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserReportTickets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">250c3ff1-cfb2-488f-be88-dfaf12e4f975 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">20</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer</strong>. The ID of the user whose user report tickets will be returned. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-69'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Actual</span><span class="w"> </span><span class="err">response</span><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TradeActivity"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-16T02:18:27.597Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-16T02:18:27.596Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-03T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"onDemand"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1728000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0e3b96ac-c72c-4821-b124-b1d5c653e89f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TradeActivity"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-16T02:42:48.647Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-16T02:42:48.646Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"onDemand"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">864000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0f14b67b-8e80-43c3-b1ce-7c9146e645f8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects as a response, each object represents a report.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the report.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the report was run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report. One of<br />Tradeactivity<br />Transaction<br />Treasury</td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date at which the request for the report was made, Microsoft Ticks format.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the report was first run, Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover, Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover, Microsoft Ticks format.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>string.</strong> The status of the request for the report. Each status returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelPending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>string.</strong> When the report runs:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report looks backward relative to the run date, in POSIX format. The system calculates <em>intervalDuration</em> between <em>intervalStartTime</em> and <em>intervalEndTime</em> and reports it in POSIX format. For example, say that you specify a 90-day start-to-end-date window for a report. The <em>intervalDuration</em> value returns a value equivalent to 90 days and represents the backward-looking period of the report. Say that you have set up a weekly report to look back 90 days. When the report runs again in a week&#39;s time, it again looks back 90 days -- but now those 90 days are offset by a week from the first report.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report. This will be <em>null</em> for a Generate~Report call, because generated reports are all on-demand.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose trades are reported in the trade activity report.</td>
</tr>
</tbody></table>
<h2 id='removeuserreportticket'>RemoveUserReportTicket</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Removes the specified user report ticket from processing.</p>
<h3 id='request-70'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">//Request should be using the standard WebSocket frame</span>
<span class="p">{</span>
  <span class="nl">m</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">i</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">n</span><span class="p">:</span> <span class="dl">'</span><span class="s1">RemoveUserReportTicket</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">o</span><span class="p">:</span> <span class="dl">'</span><span class="s1">{fb9bbe89-5263-d8dd-3115-4dd33b21cee7}</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/RemoveUserReportTicket</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">a5b478f1-89d3-c60a-c43a-724f457ab235</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Basic aGFyb2xkczoxMjM0</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">38</span>

<span class="p">{</span><span class="err">e</span><span class="mi">27e5268</span><span class="err">-db</span><span class="mi">50-70</span><span class="err">fa-de</span><span class="mi">84</span><span class="err">-ee</span><span class="mi">0</span><span class="err">b</span><span class="mi">6</span><span class="err">ae</span><span class="mi">16093</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The request payload doesn&#39;t have a fieldname, assigning the value to a field name will result to <strong>Operation Failed</strong> error. The only value that should be passed in the payload is the <strong>UserReportTicketId</strong> value.</p>
<h3 id='response-70'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns <em>true</em>; and unsuccessful request (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Additional message details sent by the system. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='getuserreportticketsbystatus'>GetUserReportTicketsByStatus</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a list of user report tickets included in the list of statuses.</p>
<h3 id='request-71'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserReportTicketsByStatus</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span>
  <span class="p">{</span> <span class="na">RequestStatus</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Submitted</span><span class="dl">"</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">RequestStatus</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Scheduled</span><span class="dl">"</span> <span class="p">},</span>
<span class="p">]);</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/ap/GetUserReportTicketsByStatus</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">57881420-0eb0-4161-3a2c-34f605da789d</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">117</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
            </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
            </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>The request payload should be an array with object/s as its elements. The object field name should be <strong>RequestStatus</strong>.</p>

<p>Valid <strong>RequestStatus</strong> values are:</p>

<ul>
<li>Submitted<br /></li>
<li>Validating<br /></li>
<li>Scheduled<br /></li>
<li>InProgress<br /></li>
<li>Completed<br /></li>
<li>Aborting<br /></li>
<li>Aborted<br /></li>
<li>UserCancelled<br /></li>
<li>SysRetired<br /></li>
<li>UserCancelledPending<br /></li>
</ul>

<p><strong>Specifying any other value than the mentioned ones above will result to an error.</strong></p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestStatus</td>
<td><strong>string</strong>. The status of user report tickets you wish to retrieve. Multiple statuses can be specified. If no Request status is defined, the default status that the backend will look for is <strong>Submitted</strong>. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-71'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TradeActivity"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-02T05:11:10.733Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-02T05:11:10.732Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-01T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-02T16:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Submitted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">864000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11464174-60cd-afcc-29e8-00fab6e7d129"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"RequestingUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reportFlavor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TradeActivity"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-13T15:00:04.794Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"initialRunTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-12-13T15:00:04.792Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalStartTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-01T22:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalEndTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-02T22:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReportFrequency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"intervalDuration"</span><span class="p">:</span><span class="w"> </span><span class="mi">864000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8f4e3a95-fed3-3823-d950-86c60550e816"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000-0000-0000-0000-000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">32</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects as a response, each object represents a user report ticket whose status matches the specificied status/es in the request.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>RequestingUser</td>
<td><strong>integer.</strong> The User ID of the person requesting the report.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the report was run.</td>
</tr>
<tr>
<td>reportFlavor</td>
<td><strong>string.</strong> The type of report. One of<br />Tradeactivity<br />Transaction<br />Treasury</td>
</tr>
<tr>
<td>createTime</td>
<td><strong>string.</strong> The time and date at which the request for the report was made, Microsoft Ticks format.</td>
</tr>
<tr>
<td>initialRunTime</td>
<td><strong>string.</strong> The time and date at which the report was first run, Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td><strong>string.</strong> The start of the period that the report will cover, Microsoft Ticks format.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td><strong>string.</strong> The end of the period that the report will cover, Microsoft Ticks format.</td>
</tr>
<tr>
<td>RequestStatus</td>
<td><strong>string.</strong> The status of the request, will be the specificied status/es in the request. Each status returns one of:<br />Submitted<br />Validating<br />Scheduled<br />InProgress<br />Completed<br />Aborting<br />Aborted<br />UserCancelled<br />SysRetired<br />UserCancelPending</td>
</tr>
<tr>
<td>ReportFrequency</td>
<td><strong>string.</strong> When the report runs:<br />OnDemand<br />Hourly<br />Daily<br />Weekly<br />Monthly<br />Annually</td>
</tr>
<tr>
<td>intervalDuration</td>
<td><strong>long integer.</strong> The period that the report looks backward relative to the run date, in POSIX format. The system calculates <em>intervalDuration</em> between <em>intervalStartTime</em> and <em>intervalEndTime</em> and reports it in POSIX format. For example, say that you specify a 90-day start-to-end-date window for a report. The <em>intervalDuration</em> value returns a value equivalent to 90 days and represents the backward-looking period of the report. Say that you have set up a weekly report to look back 90 days. When the report runs again in a week&#39;s time, it again looks back 90 days -- but now those 90 days are offset by a week from the first report.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>string.</strong> The ID of the original request. Request IDs are long strings unique within the OMS.</td>
</tr>
<tr>
<td>lastInstanceId</td>
<td><strong>string.</strong> For scheduled reports, the report ID of the most recent previously run report. This will be <em>null</em> for a Generate~Report call, because generated reports are all on-demand.</td>
</tr>
<tr>
<td>accountIds</td>
<td><strong>integer array.</strong> A comma-delimited array of account IDs whose trades are reported in the trade activity report.</td>
</tr>
</tbody></table>
<h2 id='downloaddocument'>DownloadDocument</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Download Document</p>
<h3 id='request-72'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">DownloadDocument</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">DescriptorId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">66769552-cacd-471b-bb53-04b1ed1c87f9</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/DownloadDocument</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">a241cfbd-ccb3-4f71-9b04-3416549bba6f</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">63</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"DescriptorId"</span><span class="p">:</span><span class="s2">"66769552-cacd-471b-bb53-04b1ed1c87f9"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>DescriptorId</td>
<td><strong>string.</strong> The GUID that uniquely identifies a report that can be downloaded. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-72'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"descriptorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66769552-cacd-471b-bb53-04b1ed1c87f9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"docName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URM.6.onDemand.TradeActivity.9.2023-04-01T15.2023-04-17T15.66769552-cacd-471b-bb53-04b1ed1c87f9.csv"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"numSlices"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"statusMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>DescriptorId</td>
<td><strong>string.</strong> The GUID that uniquely identifies a report that can be downloaded.</td>
</tr>
<tr>
<td>DocName</td>
<td><strong>string.</strong> The actual filename of the document stored in the server.</td>
</tr>
<tr>
<td>NumSlices</td>
<td><strong>integer.</strong> The number of slices.</td>
</tr>
<tr>
<td>statusCode</td>
<td><strong>string.</strong> Either <strong>Success</strong>(if request is success) or <strong>Error</strong>.</td>
</tr>
<tr>
<td>statusMessage</td>
<td><strong>string.</strong> Either <strong>success</strong>(if request is success) or <strong>error</strong> .</td>
</tr>
</tbody></table>
<h2 id='downloaddocumentslice'>DownloadDocumentSlice</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Download Document Slice.</p>
<h3 id='request-73'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">DownloadDocumentSlice</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">DescriptorId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">66769552-cacd-471b-bb53-04b1ed1c87f9</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">sliceNum</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/DownloadDocumentSlice</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">a241cfbd-ccb3-4f71-9b04-3416549bba6f</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">83</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"DescriptorId"</span><span class="p">:</span><span class="s2">"66769552-cacd-471b-bb53-04b1ed1c87f9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sliceNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>DescriptorId</td>
<td><strong>string.</strong> The GUID that uniquely identifies a report that can be downloaded. <strong>required.</strong></td>
</tr>
<tr>
<td>sliceNum</td>
<td><strong>integer.</strong> Defaults to zero. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-73'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"descriptorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66769552-cacd-471b-bb53-04b1ed1c87f9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"base64Bytes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IlJlZ2lzdGVyZWRFbnRpdHlJZCIsIlRyYW5zUmVwb3J0SWQiLCJUcmFuc1JlcG9ydFJldmlzaW9uIiwiVHJhbnNSZXBvcnRUeXBlIiwiT3JkZXJJZCIsIkNsaWVudE9yZGVySWQiLCJRdW90ZUlkIiwiRXh0VHJhZGVSZXBvcnRJZCIsIlRyYWRlSWQiLCJUcmFuc1JlcG9ydERhdGV0aW1lIiwiU2lkZSIsIlNpemUiLCJJbnN0cnVtZW50IiwiUHJpY2UiLCJJbnNpZGVCaWQiLCJJbnNpZGVCaWRTaXplIiwiSW5zaWRlT2ZmZXIiLCJJbnNpZGVPZmZlclNpemUiLCJMZWF2ZXNTaXplIiwiTWFrZXJUYWtlciIsIlRyYWRlciIsIkFjY291bnRJZCIsIkFjY291bnRIYW5kbGUiLCJGZWUiLCJGZWVQcm9kdWN0IiwiTm90aW9uYWwiLCJCYXNlU2V0dGxlbWVudEFtb3VudCIsIkNvdW50ZXJwYXJ0eVNldHRsZW1lbnRBbW91bnQiLCJPTVNJZCINCiIiLCIxODA2IiwiMSIsIk9yZGVyRXhlY3V0aW9uIiwiNjYwMCIsIjAiLCIiLCIiLCI5MDMiLCIyMDIzLTA0LTEwVDA4OjQyOjM1LjA4MVoiLCJTZWxsIiwiMS4wMDAwMDAwMDAiLCJCVENVU0QiLCIyNTAwMC4wMDAwMDAwMDAiLCIyNTAwMC4wMDAwMDAwMDAiLCIxLjAwMDAwMDAwMCIsIjI2MDAwLjAwMDAwMDAwMCIsIjEuMDAwMDAwMDAwIiwiMS4wMDAwMDAwMDAiLCJUYWtlciIsIjYiLCI5IiwiQW5vdGhlck5hbWUiLCIwLjAwMDAxNzYzOCIsIjIiLCIyNTAwMC4wMDAwMDAwMDAiLCItMS4wMDAwMDAwMDAiLCIyNDk5OS45OTk5ODIzNjIiLCIxIg0KIiIsIjE4MDgiLCIxIiwiT3JkZXJFeGVjdXRpb24iLCI2NjAwIiwiMCIsIiIsIiIsIjkwNCIsIjIwMjMtMDQtMTBUMDg6NDI6MzUuMDgxWiIsIlNlbGwiLCIxLjAwMDAwMDAwMCIsIkJUQ1VTRCIsIjI0MDAwLjAwMDAwMDAwMCIsIjI1MDAwLjAwMDAwMDAwMCIsIjEuMDAwMDAwMDAwIiwiMjYwMDAuMDAwMDAwMDAwIiwiMS4wMDAwMDAwMDAiLCIwLjAwMDAwMDAwMCIsIlRha2VyIiwiNiIsIjkiLCJBbm90aGVyTmFtZSIsIjAuMDAwMDE2OTMyIiwiMiIsIjI0MDAwLjAwMDAwMDAwMCIsIi0xLjAwMDAwMDAwMCIsIjIzOTk5Ljk5OTk4MzA2OCIsIjEiDQoiIiwiMTgxMCIsIjEiLCJPcmRlckV4ZWN1dGlvbiIsIjY2MDMiLCIwIiwiIiwiIiwiOTA1IiwiMjAyMy0wNC0xMFQwODo0NDo1NC4wNThaIiwiQnV5IiwiMC4xMDAwMDAwMDAiLCJCVENVU0QiLCIyNTUwMC4wMDAwMDAwMDAiLCIiLCIwLjAwMDAwMDAwMCIsIjI1NTAwLjAwMDAwMDAwMCIsIjAuMTAwMDAwMDAwIiwiMC4yMDAwMDAwMDAiLCJUYWtlciIsIjYiLCI5IiwiQW5vdGhlck5hbWUiLCIwLjAwMDAwMjAwMCIsIjIiLCIyNTUwLjAwMDAwMDAwMCIsIjAuMDk5OTk4MDAwIiwiLTI1NTAuMDAwMDAwMDAwIiwiMSINCiIiLCIxODEyIiwiMSIsIk9yZGVyRXhlY3V0aW9uIiwiNjYwMyIsIjAiLCIiLCIiLCI5MDYiLCIyMDIzLTA0LTEwVDA4OjQ0OjU0LjA1OVoiLCJCdXkiLCIwLjIwMDAwMDAwMCIsIkJUQ1VTRCIsIjI1OTAwLjAwMDAwMDAwMCIsIiIsIjAuMDAwMDAwMDAwIiwiMjU1MDAuMDAwMDAwMDAwIiwiMC4xMDAwMDAwMDAiLCIwLjAwMDAwMDAwMCIsIlRha2VyIiwiNiIsIjkiLCJBbm90aGVyTmFtZSIsIjAuMDAwMDA0MDAwIiwiMiIsIjUxODAuMDAwMDAwMDAwIiwiMC4xOTk5OTYwMDAiLCItNTE4MC4wMDAwMDAwMDAiLCIxIg0KIiIsIjE4MTMiLCIxIiwiUXVvdGVFeGVjdXRpb24iLCIiLCIiLCI2NjA0IiwiIiwiOTA3IiwiMjAyMy0wNC0xMVQwODo1MDoyMy43NDBaIiwiQnV5IiwiMC4wMDAxMDAwMDAiLCJCVENVU0QiLCIyNTAwMC4wMDAwMDAwMDAiLCIyNTAwMC4wMDAwMDAwMDAiLCIxLjAwMDAwMDAwMCIsIjI2MDAwLjAwMDAwMDAwMCIsIjEuMDAwMDAwMDAwIiwiMC45OTk5MDAwMDAiLCJNYWtlciIsIjYiLCI5IiwiQW5vdGhlck5hbWUiLCIwLjAwMDAwMDAwMiIsIjIiLCIyLjUwMDAwMDAwMCIsIjAuMDAwMDk5OTk4IiwiLTIuNTAwMDAwMDAwIiwiMSINCiIiLCIxODE1IiwiMSIsIlF1b3RlRXhlY3V0aW9uIiwiIiwiIiwiNjYwNCIsIiIsIjkwOCIsIjIwMjMtMDQtMTFUMDg6NTI6NDQuNTcxWiIsIkJ1eSIsIjAuMDAwMTAwMDAwIiwiQlRDVVNEIiwiMjUwMDAuMDAwMDAwMDAwIiwiMjUwMDAuMDAwMDAwMDAwIiwiMS4wMDAwMDAwMDAiLCIyNjAwMC4wMDAwMDAwMDAiLCIxLjAwMDAwMDAwMCIsIjAuOTk5ODAwMDAwIiwiTWFrZXIiLCI2IiwiOSIsIkFub3RoZXJOYW1lIiwiMC4wMDAwMDAwMDIiLCIyIiwiMi41MDAwMDAwMDAiLCIwLjAwMDA5OTk5OCIsIi0yLjUwMDAwMDAwMCIsIjEiDQoiIiwiMTgyMiIsIjEiLCJPcmRlckV4ZWN1dGlvbiIsIjY2MTYiLCIwIiwiIiwiIiwiOTExIiwiMjAyMy0wNC0xMVQwODo1NzozNS45NDRaIiwiU2VsbCIsIjAuMDEwMDAwMDAwIiwiRVRIVVNEIiwiMjM0MzYuMDAwMDAwMDAwIiwiIiwiMC4wMDAwMDAwMDAiLCIiLCIwLjAwMDAwMDAwMCIsIjAuMDAwMDAwMDAwIiwiVGFrZXIiLCI2IiwiOSIsIkFub3RoZXJOYW1lIiwiMC4wOTM3NDQwMDAiLCIxIiwiMjM0LjM2MDAwMDAwMCIsIi0wLjAxMDAwMDAwMCIsIjIzNC4yNjYyNTYwMDAiLCIxIg0KIiIsIjE4MjQiLCIxIiwiT3JkZXJFeGVjdXRpb24iLCI2NjE3IiwiMCIsIiIsIiIsIjkxMiIsIjIwMjMtMDQtMTFUMDk6MDM6MzEuMjAzWiIsIlNlbGwiLCIwLjAwMDEwMDAwMCIsIkVUSFVTRCIsIjIzNDM2LjAwMDAwMDAwMCIsIiIsIjAuMDAwMDAwMDAwIiwiIiwiMC4wMDAwMDAwMDAiLCIwLjAwMDAwMDAwMCIsIlRha2VyIiwiNiIsIjkiLCJBbm90aGVyTmFtZSIsIjAuMDAwOTM3NDQwIiwiMSIsIjIuMzQzNjAwMDAwIiwiLTAuMDAwMTAwMDAwIiwiMi4zNDI2NjI1NjAiLCIxIg0KIiIsIjE4MjYiLCIxIiwiT3JkZXJFeGVjdXRpb24iLCI2NjE4IiwiMCIsIiIsIiIsIjkxMyIsIjIwMjMtMDQtMTFUMDk6MDY6MjguMjk2WiIsIlNlbGwiLCIwLjAwOTkwMDAwMCIsIkVUSFVTRCIsIjIzNDM2LjAwMDAwMDAwMCIsIiIsIjAuMDAwMDAwMDAwIiwiIiwiMC4wMDAwMDAwMDAiLCIwLjk5MDEwMDAwMCIsIlRha2VyIiwiNiIsIjkiLCJBbm90aGVyTmFtZSIsIjAuMDkyODA2NTYwIiwiMSIsIjIzMi4wMTY0MDAwMDAiLCItMC4wMDk5MDAwMDAiLCIyMzEuOTIzNTkzNDQwIiwiMSINCiIiLCIxODI4IiwiMSIsIk9yZGVyRXhlY3V0aW9uIiwiNjYxOCIsIjAiLCIiLCIiLCI5MTQiLCIyMDIzLTA0LTExVDA5OjA2OjI4LjI5NloiLCJTZWxsIiwiMC4wMjAwMDAwMDAiLCJFVEhVU0QiLCIyMzQzNi4wMDAwMDAwMDAiLCIiLCIwLjAwMDAwMDAwMCIsIiIsIjAuMDAwMDAwMDAwIiwiMC45NzAxMDAwMDAiLCJUYWtlciIsIjYiLCI5IiwiQW5vdGhlck5hbWUiLCIwLjE4NzQ4ODAwMCIsIjEiLCI0NjguNzIwMDAwMDAwIiwiLTAuMDIwMDAwMDAwIiwiNDY4LjUzMjUxMjAwMCIsIjEiDQoiIiwiMTgzMCIsIjEiLCJPcmRlckV4ZWN1dGlvbiIsIjY2MTgiLCIwIiwiIiwiIiwiOTE1IiwiMjAyMy0wNC0xMVQwOTowNjoyOC4yOTZaIiwiU2VsbCIsIjAuMDIwMDAwMDAwIiwiRVRIVVNEIiwiMjM0MzYuMDAwMDAwMDAwIiwiIiwiMC4wMDAwMDAwMDAiLCIiLCIwLjAwMDAwMDAwMCIsIjAuOTUwMTAwMDAwIiwiVGFrZXIiLCI2IiwiOSIsIkFub3RoZXJOYW1lIiwiMC4xODc0ODgwMDAiLCIxIiwiNDY4LjcyMDAwMDAwMCIsIi0wLjAyMDAwMDAwMCIsIjQ2OC41MzI1MTIwMDAiLCIxIg0KIiIsIjE4MzIiLCIxIiwiT3JkZXJFeGVjdXRpb24iLCI2NjE4IiwiMCIsIiIsIiIsIjkxNiIsIjIwMjMtMDQtMTFUMDk6MDY6MjguMjk2WiIsIlNlbGwiLCIwLjAyMDAwMDAwMCIsIkVUSFVTRCIsIjIzNDM2LjAwMDAwMDAwMCIsIiIsIjAuMDAwMDAwMDAwIiwiIiwiMC4wMDAwMDAwMDAiLCIwLjkzMDEwMDAwMCIsIlRha2VyIiwiNiIsIjkiLCJBbm90aGVyTmFtZSIsIjAuMTg3NDg4MDAwIiwiMSIsIjQ2OC43MjAwMDAwMDAiLCItMC4wMjAwMDAwMDAiLCI0NjguNTMyNTEyMDAwIiwiMSINCiIiLCIxODM0IiwiMSIsIk9yZGVyRXhlY3V0aW9uIiwiNjYxOCIsIjAiLCIiLCIiLCI5MTciLCIyMDIzLTA0LTExVDA5OjA2OjI4LjI5NloiLCJTZWxsIiwiMC45MzAxMDAwMDAiLCJFVEhVU0QiLCIxOTkwLjAwMDAwMDAwMCIsIiIsIjAuMDAwMDAwMDAwIiwiIiwiMC4wMDAwMDAwMDAiLCIwLjAwMDAwMDAwMCIsIlRha2VyIiwiNiIsIjkiLCJBbm90aGVyTmFtZSIsIjAuNzQwMzU5NjAwIiwiMSIsIjE4NTAuODk5MDAwMDAwIiwiLTAuOTMwMTAwMDAwIiwiMTg1MC4xNTg2NDA0MDAiLCIxIg0KIiIsIjE4MzYiLCIxIiwiT3JkZXJFeGVjdXRpb24iLCI2NjE5IiwiMCIsIiIsIiIsIjkxOCIsIjIwMjMtMDQtMTFUMDk6MDY6NTIuMzkzWiIsIlNlbGwiLCIwLjAwMTAwMDAwMCIsIkVUSFVTRCIsIjE5OTAuMDAwMDAwMDAwIiwiMTk5MC4wMDAwMDAwMDAiLCIxLjAwMDAwMDAwMCIsIiIsIjAuMDAwMDAwMDAwIiwiMC4wMDAwMDAwMDAiLCJUYWtlciIsIjYiLCI5IiwiQW5vdGhlck5hbWUiLCIwLjAwMDc5NjAwMCIsIjEiLCIxLjk5MDAwMDAwMCIsIi0wLjAwMTAwMDAwMCIsIjEuOTg5MjA0MDAwIiwiMSINCiIiLCIxODM3IiwiMSIsIlF1b3RlRXhlY3V0aW9uIiwiIiwiIiwiNjYwNCIsIiIsIjkxOSIsIjIwMjMtMDQtMTFUMDk6NTg6MDMuMTAwWiIsIkJ1eSIsIjAuMDk5ODAwMDAwIiwiQlRDVVNEIiwiMjUwMDAuMDAwMDAwMDAwIiwiMjUwMDAuMDAwMDAwMDAwIiwiMS4wMDAwMDAwMDAiLCIyNjAwMC4wMDAwMDAwMDAiLCIxLjAwMDAwMDAwMCIsIjAuOTAwMDAwMDAwIiwiTWFrZXIiLCI2IiwiOSIsIkFub3RoZXJOYW1lIiwiMC4wMDAwMDE5OTYiLCIyIiwiMjQ5NS4wMDAwMDAwMDAiLCIwLjA5OTc5ODAwNCIsIi0yNDk1LjAwMDAwMDAwMCIsIjEiDQoiIiwiMTgzOSIsIjEiLCJRdW90ZUV4ZWN1dGlvbiIsIiIsIiIsIjY2MDQiLCIiLCI5MjAiLCIyMDIzLTA0LTExVDA5OjU5OjEwLjQwOVoiLCJCdXkiLCIwLjkwMDAwMDAwMCIsIkJUQ1VTRCIsIjI1MDAwLjAwMDAwMDAwMCIsIjI1MDAwLjAwMDAwMDAwMCIsIjEuMDAwMDAwMDAwIiwiMjYwMDAuMDAwMDAwMDAwIiwiMS4wMDAwMDAwMDAiLCIwLjAwMDAwMDAwMCIsIk1ha2VyIiwiNiIsIjkiLCJBbm90aGVyTmFtZSIsIjAuMDAwMDE4MDAwIiwiMiIsIjIyNTAwLjAwMDAwMDAwMCIsIjAuODk5OTgyMDAwIiwiLTIyNTAwLjAwMDAwMDAwMCIsIjEiDQoiIiwiMTg0MiIsIjEiLCJPcmRlckV4ZWN1dGlvbiIsIjY2MjgiLCIwIiwiIiwiIiwiOTIxIiwiMjAyMy0wNC0xMVQxMDoxMzozMy4yMjlaIiwiQnV5IiwiMC45OTk4MDAwMDAiLCJCVENVU0QiLCIyNjAwMC4wMDAwMDAwMDAiLCIyLjAwMDAwMDAwMCIsIjEuMDAwMDAwMDAwIiwiMjYwMDAuMDAwMDAwMDAwIiwiMS4wMDAwMDAwMDAiLCIwLjAwMDAwMDAwMCIsIlRha2VyIiwiNiIsIjkiLCJBbm90aGVyTmFtZSIsIjAuMDAwMDE5OTk2IiwiMiIsIjI1OTk0LjgwMDAwMDAwMCIsIjAuOTk5NzgwMDA0IiwiLTI1OTk0LjgwMDAwMDAwMCIsIjEiDQoiIiwiMTg0NCIsIjEiLCJPcmRlckV4ZWN1dGlvbiIsIjY2MjkiLCIwIiwiIiwiIiwiOTIyIiwiMjAyMy0wNC0xMVQxMDoxMzozOC41NThaIiwiQnV5IiwiMC45OTk4MDAwMDAiLCJCVENVU0QiLCIyNjUwMC4wMDAwMDAwMDAiLCIyLjAwMDAwMDAwMCIsIjEuMDAwMDAwMDAwIiwiMjY1MDAuMDAwMDAwMDAwIiwiMS4wMDAwMDAwMDAiLCIwLjAwMDAwMDAwMCIsIlRha2VyIiwiNiIsIjkiLCJBbm90aGVyTmFtZSIsIjAuMDAwMDE5OTk2IiwiMiIsIjI2NDk0LjcwMDAwMDAwMCIsIjAuOTk5NzgwMDA0IiwiLTI2NDk0LjcwMDAwMDAwMCIsIjEiDQoiIiwiMTg0NiIsIjEiLCJPcmRlckV4ZWN1dGlvbiIsIjY2MzAiLCIwIiwiIiwiIiwiOTIzIiwiMjAyMy0wNC0xMVQxMDoxMzo1MS41NTZaIiwiQnV5IiwiMC4wMDAyMDAwMDAiLCJCVENVU0QiLCIyNjUwMC4wMDAwMDAwMDAiLCIyLjAwMDAwMDAwMCIsIjEuMDAwMDAwMDAwIiwiMjY1MDAuMDAwMDAwMDAwIiwiMS4wMDAwMDAwMDAiLCIwLjk5OTYwMDAwMCIsIlRha2VyIiwiNiIsIjkiLCJBbm90aGVyTmFtZSIsIjAuMDAwMDAwMDA0IiwiMiIsIjUuMzAwMDAwMDAwIiwiMC4wMDAxOTk5OTYiLCItNS4zMDAwMDAwMDAiLCIxIg0KIiIsIjE4NDgiLCIxIiwiT3JkZXJFeGVjdXRpb24iLCI2NjMwIiwiMCIsIiIsIiIsIjkyNCIsIjIwMjMtMDQtMTFUMTA6MTM6NTEuNTU2WiIsIkJ1eSIsIjAuMDEwMDAwMDAwIiwiQlRDVVNEIiwiMzYwMDAuMDAwMDAwMDAwIiwiMi4wMDAwMDAwMDAiLCIxLjAwMDAwMDAwMCIsIjI2NTAwLjAwMDAwMDAwMCIsIjEuMDAwMDAwMDAwIiwiMC45ODk2MDAwMDAiLCJUYWtlciIsIjYiLCI5IiwiQW5vdGhlck5hbWUiLCIwLjAwMDAwMDIwMCIsIjIiLCIzNjAuMDAwMDAwMDAwIiwiMC4wMDk5OTk4MDAiLCItMzYwLjAwMDAwMDAwMCIsIjEiDQoiIiwiMTg1MCIsIjEiLCJPcmRlckV4ZWN1dGlvbiIsIjY2MzAiLCIwIiwiIiwiIiwiOTI1IiwiMjAyMy0wNC0xMVQxMDoxMzo1MS41NTZaIiwiQnV5IiwiMC45ODk2MDAwMDAiLCJCVENVU0QiLCIzNzAwMC4wMDAwMDAwMDAiLCIyLjAwMDAwMDAwMCIsIjEuMDAwMDAwMDAwIiwiMjY1MDAuMDAwMDAwMDAwIiwiMS4wMDAwMDAwMDAiLCIwLjAwMDAwMDAwMCIsIlRha2VyIiwiNiIsIjkiLCJBbm90aGVyTmFtZSIsIjAuMDAwMDE5NzkyIiwiMiIsIjM2NjE1LjIwMDAwMDAwMCIsIjAuOTg5NTgwMjA4IiwiLTM2NjE1LjIwMDAwMDAwMCIsIjEiDQo="</span><span class="p">,</span><span class="w">
  </span><span class="nl">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"statusMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>DescriptorId</td>
<td><strong>string.</strong> The GUID that uniquely identifies a report that can be downloaded.</td>
</tr>
<tr>
<td>base64Bytes</td>
<td><strong>string.</strong> The actual contents of the document in base64 format.</td>
</tr>
<tr>
<td>statusCode</td>
<td><strong>string.</strong> Either <strong>Success</strong>(if request is success) or <strong>Error</strong>.</td>
</tr>
<tr>
<td>statusMessage</td>
<td><strong>string.</strong> Either <strong>success</strong>(if request is success) or <strong>error</strong> .</td>
</tr>
</tbody></table>
<h1 id='subscription'>Subscription</h1><h2 id='unsubscribelevel2'>UnsubscribeLevel2</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Unsubscribes the user from a Level 2 Market Data Feed subscription.</p>
<h3 id='request-74'>Request</h3>
<blockquote>
<p><b>UnSubscribeLevel2 is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">UnSubscribeLevel2</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//Instrument can also be identified via its symbol e.g. BTCUSD</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">UnSubscribeLevel2</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Symbol</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument being tracked by the Level 2 market data feed. <strong>required.</strong></td>
</tr>
<tr>
<td>Symbol</td>
<td><strong>string</strong>. Can be used instead of the InstrumentId. The symbol of the instrument you are unsubscribing level2 data from. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-74'>Response</h3>
<blockquote>
<p><b>UnSubscribeLevel2 is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">errormsg</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">errorcode</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">detail</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful receipt of the unsubscribe request returns <em>true</em>; and unsuccessful receipt (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of the unsubscribe request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful receipt of the unsubscribe request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='subscribelevel2'>SubscribeLevel2</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves the latest Level 2 Ticker information and then subscribes the user to Level 2 market data event updates for one specific instrument. Level 2 allows the user to specify the level of market depth information on either side of the bid and ask. The <strong>SubscribeLevel2</strong> call responds with the Level 2 response shown below. The OMS then periodically sends <em>Level2UpdateEvent</em> information in the same format as this response until you send the <strong>UnsubscribeLevel2</strong> call.</p>

<p>Only a user with Operator permission can issue a Level2MarketData permission using the call <strong>AddUserMarketDataPermission.</strong></p>

<aside class="notice"><strong>Note:</strong> <em>Depth</em> in this call is "depth of market," the number of buyers and sellers at greater or lesser prices in the order book for the instrument.</aside>
<h3 id='request-75'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">SubscribeLevel2</span><span class="p">({</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Depth</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//Instrument can also be identified via its symbol e.g. BTCUSD</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">SubscribeLevel2</span><span class="p">({</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Symbol</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Depth</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeLevel2 is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument you’re tracking. <strong>required.</strong></td>
</tr>
<tr>
<td>Symbol</td>
<td><strong>string</strong>. Can be used instead of the InstrumentId. The symbol of the instrument you are subscribing to. <strong>required.</strong></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer.</strong> The depth of the order book. The example request returns 10 price levels on each side of the market. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-75'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span> <span class="c1">// MDUpdateId</span>
    <span class="mi">1</span><span class="p">,</span> <span class="c1">// Number of Accounts</span>
    <span class="mi">123</span><span class="p">,</span> <span class="c1">// ActionDateTime in Posix format X 1000</span>
    <span class="mi">0</span><span class="p">,</span> <span class="c1">// ActionType 0 (New), 1 (Update), 2(Delete)</span>
    <span class="mf">0.0</span><span class="p">,</span> <span class="c1">// LastTradePrice</span>
    <span class="mi">0</span><span class="p">,</span> <span class="c1">// Number of Orders</span>
    <span class="mf">0.0</span><span class="p">,</span> <span class="c1">//Price</span>
    <span class="mi">0</span><span class="p">,</span> <span class="c1">// ProductPairCode</span>
    <span class="mf">0.0</span><span class="p">,</span> <span class="c1">// Quantity</span>
    <span class="mi">0</span><span class="p">,</span> <span class="c1">// Side</span>
  <span class="p">],</span>
<span class="p">];</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeLevel2 is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<p>The response is an array of elements for one specific instrument, the number of elements correspons to the depth specified in the Request. It is sent as an uncommented, comma-delimited list of numbers. The example is commented.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>MDUpdateID</td>
<td><strong>long integer</strong>. Market Data Update ID. This sequential ID identifies the order in which the update was created.</td>
</tr>
<tr>
<td>Number of Accounts</td>
<td><strong>integer</strong>. Number of accounts</td>
</tr>
<tr>
<td>ActionDateTime</td>
<td><strong>long integer.</strong>. <em>ActionDateTime</em> identifies the time and date that the snapshot was taken or the event occurred, in POSIX format X 1000 (milliseconds since 1 January 1970).</td>
</tr>
<tr>
<td>ActionType</td>
<td><strong>integer</strong>. L2 information provides price data. This value shows whether this data is:<br /><strong>0</strong> new<br /><strong>1</strong> update<br /><strong>2</strong> deletion</td>
</tr>
<tr>
<td>LastTradePrice</td>
<td><strong>decimal</strong>. The price at which the instrument was last traded.</td>
</tr>
<tr>
<td>Number of Orders</td>
<td><strong>decimal</strong>. Number of orders</td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal</strong>. Bid or Ask price for the Quantity (see <em>Quantity</em> below).</td>
</tr>
<tr>
<td>ProductPairCode</td>
<td><strong>integer</strong>. <em>ProductPairCode</em> is the same value and used for the same purpose as <em>InstrumentID</em>. The two are completely equivalent. <em>InstrumentId</em> 47 = <em>ProductPairCode</em> 47.</td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal</strong>. Quantity available at a given Bid or Ask price (see <em>Price</em> above).</td>
</tr>
<tr>
<td>Side</td>
<td><strong>integer</strong>. One of:<br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /><strong>2</strong> Short (reserved for future use)<br /><strong>3</strong> Unknown (error condition)</td>
</tr>
</tbody></table>
<h2 id='subscribelevel1'>SubscribeLevel1</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves the latest Level 1 Ticker information and then subscribes the user to ongoing Level 1 market data event updates for one specific instrument.</p>

<p>The <strong>SubscribeLevel1</strong> call responds with the Level 1 response shown below. The OMS then periodically sends in the same format as this response <em>Leve1UpdateEvent</em> information when best-bid/best-offer issue, until you send the <strong>UnsubscribeLevel1</strong> call.</p>

<p>Only a user with Operator permission can issue Level1MarketData permission using the call <strong>AddUserMarketDataPermission.</strong></p>
<h3 id='request-76'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">SubscribeLevel1</span><span class="p">({</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//Instrument can also be identified via its symbol e.g. BTCUSD</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">SubscribeLevel1</span><span class="p">({</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Symbol</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeLevel1 is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. The ID of the instrument you’re tracking. <strong>required.</strong></td>
</tr>
<tr>
<td>Symbol</td>
<td><strong>string</strong>. Can be used instead of the InstrumentId. The symbol of the instrument you are subscribing to. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-76'>Response</h3>
<p>The <strong>SubscribeLevel1</strong> response and <em>Level1UpdateEvent</em> both provide the same information.</p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">OMSId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">InstrumentId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">BestBid</span><span class="dl">"</span><span class="p">:</span> <span class="mf">6423.57</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">BestOffer</span><span class="dl">"</span><span class="p">:</span> <span class="mf">6436.53</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">LastTradedPx</span><span class="dl">"</span><span class="p">:</span> <span class="mf">6423.57</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">LastTradedQty</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.96183964</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">LastTradeTime</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1534862990343</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">SessionOpen</span><span class="dl">"</span><span class="p">:</span> <span class="mf">6249.64</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">SessionHigh</span><span class="dl">"</span><span class="p">:</span> <span class="mi">11111</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">SessionLow</span><span class="dl">"</span><span class="p">:</span> <span class="mi">4433</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">SessionClose</span><span class="dl">"</span><span class="p">:</span> <span class="mf">6249.64</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">Volume</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.96183964</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">CurrentDayVolume</span><span class="dl">"</span><span class="p">:</span> <span class="mf">3516.31668185</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">CurrentDayNumTrades</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8529</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">CurrentDayPxChange</span><span class="dl">"</span><span class="p">:</span> <span class="mf">173.93</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">CurrentNotional</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">Rolling24HrNotional</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">Rolling24HrVolume</span><span class="dl">"</span><span class="p">:</span> <span class="mf">4319.63870783</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">Rolling24NumTrades</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10585</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">Rolling24HrPxChange</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.4165607307408487</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">TimeStamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1534862990358</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeLevel1 is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. The ID of the instrument being tracked.</td>
</tr>
<tr>
<td>BestBid</td>
<td><strong>decimal</strong>. The current best bid for the instrument.</td>
</tr>
<tr>
<td>BestOffer</td>
<td><strong>decimal</strong>. The current best offer for the instrument.</td>
</tr>
<tr>
<td>LastTradedPx</td>
<td><strong>decimal</strong>. The last-traded price for the instrument.</td>
</tr>
<tr>
<td>LastTradedQty</td>
<td><strong>decimal</strong>. The last-traded quantity for the instrument.</td>
</tr>
<tr>
<td>LastTradeTime</td>
<td><strong>long integer</strong>. The time of the last trade, in POSIX format.</td>
</tr>
<tr>
<td>SessionOpen</td>
<td><strong>decimal</strong>. Opening price. In markets with openings and closings, this is the opening price for the current session; in 24-hour markets, it is the price as of UTC Midnight.</td>
</tr>
<tr>
<td>SessionHigh</td>
<td><strong>decimal</strong>. Highest price during the trading day, either during a session with opening and closing prices or UTC midnight to UTC midnight.</td>
</tr>
<tr>
<td>SessionLow</td>
<td><strong>decimal</strong>. Lowest price during the trading day, either during a session with opening and closing prices or UTC midnight to UTC midnight.</td>
</tr>
<tr>
<td>SessionClose</td>
<td><strong>decimal</strong>. The closing price. In markets with openings and closings, this is the closing price for the current session; in 24-hour markets, it is the price as of UTC Midnight.</td>
</tr>
<tr>
<td>Volume</td>
<td><strong>decimal</strong>. The last-traded quantity for the instrument, same value as LastTradedQty</td>
</tr>
<tr>
<td>CurrentDayVolume</td>
<td><strong>decimal</strong>. The unit volume of the instrument traded either during a session with openings and closings or in 24-hour markets, the period from UTC Midnight to UTC Midnight.</td>
</tr>
<tr>
<td>CurrentDayNumTrades</td>
<td><strong>integer</strong>. The number of trades during the current day, either during a session with openings and closings or in 24-hour markets, the period from UTC Midnight to UTC Midnight.</td>
</tr>
<tr>
<td>CurrentDayPxChange</td>
<td><strong>decimal</strong>. Current day price change, either during a trading session or UTC Midnight to UTC midnight.</td>
</tr>
<tr>
<td>CurrentNotional</td>
<td><strong>decimal.</strong> Current day quote volume - resets at UTC Midnight.</td>
</tr>
<tr>
<td>Rolling24HrNotional</td>
<td><strong>decimal.</strong> Rolling 24 hours quote volume.</td>
</tr>
<tr>
<td>Rolling24HrVolume</td>
<td><strong>decimal</strong>. Unit volume of the instrument during the past 24 hours, regardless of time zone. Recalculates continuously.</td>
</tr>
<tr>
<td>Rolling24HrNumTrades</td>
<td><strong>integer</strong>. Number of trades during the past 24 hours, regardless of time zone. Recalculates continuously.</td>
</tr>
<tr>
<td>Rolling24HrPxChange</td>
<td><strong>decimal</strong>. Price change during the past 24 hours, regardless of time zone. Recalculates continuously.</td>
</tr>
<tr>
<td>TimeStamp</td>
<td><strong>long integer</strong>. The time this information was provided, in POSIX format.</td>
</tr>
</tbody></table>
<h2 id='unsubscribelevel1'>UnsubscribeLevel1</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Unsubscribes the user from a Level 1 Market Data Feed subscription.</p>
<h3 id='request-77'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">UnSubscribeLevel1</span><span class="p">({</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//Instrument can also be identified via its symbol e.g. BTCUSD</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">UnSubscribeLevel1</span><span class="p">({</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Symbol</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p><b>UnSubscribeLevel1 is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. The ID of the instrument you’re unsubscribing level1 updates from. <strong>required.</strong></td>
</tr>
<tr>
<td>Symbol</td>
<td><strong>string</strong>. Can be used instead of the InstrumentId. The symbol of the instrument you’re unsubscribing level1 updates from. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-77'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">errormsg</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">errorcode</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">detail</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><b>UnSubscribeLevel1 is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful receipt of the unsubscribe request returns <em>true</em>; and unsuccessful receipt (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of the unsubscribe request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful receipt of the unsubscribe request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>

<!---Needs clarification

## SubscribePrices
Subscribes User to Price Data.

### Request

```javascript
const { APEX } = require("alphapoint-apex-api");
const apex = new APEX("websocket url goes here...");
{
     "OMSId":  1,
     "InstrumentId":  1
}
````

### Response

```javascript
{
    "OMSId":  1,
     "InstrumentId":  1,
     "BestBid":  6423.57,
     "BestOffer":  6436.53,
     "LastTradedPx":  6423.57,
     "LastTradedQty":  0.96183964,
     "LastTradeTime":  1534862990343,
     "SessionOpen": float6249.64 "SessionHigh":  11111 "SessionLow":  4433 "SessionClose":  6249.64 "Volume":  0.96183964 "CurrentDayVolume":  3516.31668185 "CurrentDayNumTrades":  8529 "CurrentDayPxChange":  173.93 "Rolling24HrVolume":  4319.63870783 "Rolling24NumTrades":  10585 "Rolling24HrPxChange":  -0.4165607307408487 "TimeStamp":  "1534862990358"
}
```

-->

<!---Needs clarification
## UnsubscribePrices

Unsubscribes from Prices Market Data Feed.

### Request

```javascript
const { APEX } = require("alphapoint-apex-api");
const apex = new APEX("websocket url goes here...");
{
     "OMSId": 1,
     "InstrumentId": 1
}
```

### Response

```javascript
{
     "result":  "true",
     "errormsg":  "",
     "errorcode":  0,
     "detail":  ""
}
```
-->
<h2 id='subscribetrades'>SubscribeTrades</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Subscribes an authenticated user to the Trades Market Data Feed for a specific instrument.</p>
<h3 id='request-78'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">SubscribeTrades</span><span class="p">({</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">IncludeLastCount</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeTrades is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS on which the instrument is traded. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. The ID of the instrument whose trades will be reported. <strong>required.</strong></td>
</tr>
<tr>
<td>IncludeLastCount</td>
<td><strong>integer</strong>. Specifies the number of previous trades to retrieve in the immediate snapshot. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-78'>Response</h3>
<blockquote>
<p>Numerical keys reduce package transmission load. See Response table for an explanation.</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="mi">0</span><span class="p">:</span> <span class="mi">1713390</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">:</span> <span class="mf">0.25643269</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">:</span> <span class="mf">6419.77</span><span class="p">,</span>
    <span class="mi">4</span><span class="p">:</span> <span class="mi">203100209</span><span class="p">,</span>
    <span class="mi">5</span><span class="p">:</span> <span class="mi">203101083</span><span class="p">,</span>
    <span class="mi">6</span><span class="p">:</span> <span class="mi">1534863265752</span><span class="p">,</span>
    <span class="mi">7</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="mi">8</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="mi">9</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="mi">10</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">];</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeTrades is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<p>The response returns an array of trades. The keys of each trade are numbers to reduce payload traffic.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>0 (TradeId)</td>
<td><strong>integer.</strong> The ID of this trade.</td>
</tr>
<tr>
<td>1 (InstrumentId)</td>
<td><strong>integer.</strong> The ID of the instrument.</td>
</tr>
<tr>
<td>2 (Quantity)</td>
<td><strong>decimal.</strong> The quantity of the instrument traded.</td>
</tr>
<tr>
<td>3 (Price)</td>
<td><strong>decimal.</strong> The price at which the instrument was traded.</td>
</tr>
<tr>
<td>4 (Order1)</td>
<td><strong>integer.</strong> The ID of the first order that resulted in the trade, either Buy or Sell.</td>
</tr>
<tr>
<td>5 (Order2)</td>
<td><strong>integer.</strong> The ID of the second order that resulted in the trade, either Buy or Sell.</td>
</tr>
<tr>
<td>6 (Tradetime)</td>
<td><strong>long integer.</strong> UTC trade time in Total Milliseconds. POSIX format.</td>
</tr>
<tr>
<td>7 (Direction)</td>
<td><strong>integer.</strong> Effect of the trade on the instrument’s market price. One of:<br />0 NoChange<br />1 UpTick<br />2 DownTick</td>
</tr>
<tr>
<td>8 (TakerSide)</td>
<td><strong>integer.</strong> Which side of the trade took liquidity? One of:<br />0 Buy<br />1 Sell<br /><br />The maker side of the trade provides liquidity by placing the order on the book (this can be a buy or a sell order). The other, taker, side takes the liquidity. It, too, can be buy-side or sell-side.</td>
</tr>
<tr>
<td>9 (BlockTrade)</td>
<td><strong>boolean.</strong> Was this a privately negotiated trade that was reported to the OMS? A private trade returns 1 (<em>true</em>); otherwise 0 (<em>false</em>). Default is <em>false</em>. Block trades are not supported in exchange version 3.1</td>
</tr>
<tr>
<td>10 (order1ClientId or order2ClientId)</td>
<td><strong>integer.</strong> The client-supplied order ID for the trade. Internal logic determines whether the program reports the <em>order1ClientId</em> or the <em>order2ClientId</em>.</td>
</tr>
</tbody></table>
<h2 id='unsubscribetrades'>UnsubscribeTrades</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Unsubscribes the user from a Trades Market Data Feed</p>
<h3 id='request-79'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">UnSubscribeTrades</span><span class="p">({</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p><b>UnsubscribeTrades is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the user has subscribed to a trades market data feed. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument being tracked by the trades market data feed. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-79'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">errormsg</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">errorcode</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">detail</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><b>UnsubscribeTrades is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful receipt of the unsubscribe request returns <em>true</em>; and unsuccessful receipt (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of the unsubscribe request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful receipt of the unsubscribe request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='subscribeticker'>SubscribeTicker</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Subscribes User to Ticker Market Data Feed of a specific instrument. Interval is number of seconds for each bar. IncludeLastCount field specifies the number of previous bars to retrieve as a snapshot.</p>
<h3 id='request-80'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">SubscribeTicker</span><span class="p">({</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Interval</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
  <span class="na">IncludeLastCount</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeTicker is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<p>Supported Intervals are:<br/>
<strong>60, 300, 900, 1800, 3600, 7200, 14400, 21600, 43200, 86400, 604800, 2419200, 9676800, 125798400</strong></p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument whose ticker data you want to track. <strong>required.</strong></td>
</tr>
<tr>
<td>Interval</td>
<td><strong>integer.</strong> The number of seconds for each bar. <strong>required.</strong></td>
</tr>
<tr>
<td>IncludeLastCount</td>
<td><strong>integer.</strong> The number of previous bars to retrieve as a snapshot. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-80'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">[</span>
    <span class="mi">1692926460000</span><span class="p">,</span> <span class="c1">//EndDateTime</span>
    <span class="mf">28432.44</span><span class="p">,</span> <span class="c1">//High</span>
    <span class="mf">28432.44</span><span class="p">,</span> <span class="c1">//Low</span>
    <span class="mf">28432.44</span><span class="p">,</span> <span class="c1">//Open</span>
    <span class="mf">28432.44</span><span class="p">,</span> <span class="c1">//Close</span>
    <span class="mi">0</span><span class="p">,</span> <span class="c1">//Volume</span>
    <span class="mi">0</span><span class="p">,</span> <span class="c1">//Best Bid</span>
    <span class="mi">0</span><span class="p">,</span> <span class="c1">//Best Ask</span>
    <span class="mi">1</span><span class="p">,</span> <span class="c1">//InstrumentId</span>
    <span class="mi">1692926400000</span><span class="p">,</span> <span class="c1">//BeginDateTime</span>
  <span class="p">],</span>
<span class="p">];</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeTicker is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<p>The response returns an array of objects , each object an unlabeled, comma-delimited array of numbers. The Open price and Close price are those at the beginning of the tick — the Interval time subscribed to in the request. For 24-hour exchanges, the trading day runs from UTC midnight to UTC midnight; highs, lows, opens, closes, and volumes consider that midnight-to-midnight period to be the trading day.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>EndDateTime</td>
<td><strong>long integer.</strong> The end/closing date and time of the ticker, in UTC and POSIX format.</td>
</tr>
<tr>
<td>High</td>
<td><strong>decimal.</strong> The Highest Trade Price for the Time-Period ( 0 if no trades ).</td>
</tr>
<tr>
<td>Low</td>
<td><strong>decimal.</strong> The Lowest Trade Price for the Time-Period ( 0 if no trades ).</td>
</tr>
<tr>
<td>Open</td>
<td><strong>decimal.</strong> The Opening Trade Price for the Time-Period ( 0 if no trades ).</td>
</tr>
<tr>
<td>Close</td>
<td><strong>decimal.</strong> The Last Trade Price for the Time-Period ( 0 if no trades ).</td>
</tr>
<tr>
<td>Volume</td>
<td><strong>decimal.</strong> The Total Trade Volume since the last Tick.</td>
</tr>
<tr>
<td>Bid</td>
<td><strong>decimal.</strong> The best bid price at the time of the Tick.</td>
</tr>
<tr>
<td>Ask</td>
<td><strong>decimal.</strong> The best ask price at the time of the Tick.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument.</td>
</tr>
<tr>
<td>BeginDateTime</td>
<td><strong>long integer.</strong> The start/opening date and time of the ticker, in UTC and POSIX format.</td>
</tr>
</tbody></table>
<h2 id='unsubscribeticker'>UnsubscribeTicker</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Unsubscribes the user from a Ticker Market Data Feed.</p>
<h3 id='request-81'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">UnSubscribeTicker</span><span class="p">({</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p><b>UnsubscribeTicker is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument being tracked by the ticker market data feed. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-81'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">errormsg</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">errorcode</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">detail</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><b>UnsubscribeTicker is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful receipt of the unsubscribe request returns <em>true</em>; and unsuccessful receipt (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of the unsubscribe request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful receipt of the unsubscribe request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='subscribeaccountevents'>SubscribeAccountEvents</h2>
<p><strong>Permissions:</strong> Operator,Trading,AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Subscribe to account-level events, such as orders, trades, deposits and withdraws. Can be used to monitor account transactions real-time.</p>
<h3 id='request-82'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SubscribeAccountEvents</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeAccountEvents is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account to subscribe with. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-82'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="nl">Subscribed</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="c1">//Example account event that can be received</span>
<span class="p">{</span>
  <span class="na">m</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">i</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="na">n</span><span class="p">:</span> <span class="dl">'</span><span class="s1">WithdrawTicketUpdateEvent</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">o</span><span class="p">:</span> <span class="dl">'</span><span class="s1">{"AssetManagerId":1,"AccountProviderId":0,"AccountId":7,"AccountName":"sample","AssetId":3,"AssetName":"TBTC","Amount":0.0010000000000000000000000000,"NotionalValue":0.0010000000000000000000000000,"NotionalProductId":1,"TemplateForm":"{</span><span class="se">\\</span><span class="s1">"Fullname</span><span class="se">\\</span><span class="s1">":</span><span class="se">\\</span><span class="s1">"sample</span><span class="se">\\</span><span class="s1">"}","TemplateFormType":null,"OMSId":1,"RequestCode":"ef0ec64d-953b-477d-80b7-c3b0bf4cad64","RequestIP":null,"RequestUserId":1,"RequestUserName":"admin","OperatorId":1,"Status":"Pending2Fa","FeeAmt":0.0000000000000000000000000000,"UpdatedByUser":0,"UpdatedByUserName":null,"TicketNumber":292,"WithdrawTransactionDetails":"{</span><span class="se">\\</span><span class="s1">"TxId</span><span class="se">\\</span><span class="s1">":null,</span><span class="se">\\</span><span class="s1">"ExternalAddress</span><span class="se">\\</span><span class="s1">":null,</span><span class="se">\\</span><span class="s1">"Amount</span><span class="se">\\</span><span class="s1">":0,</span><span class="se">\\</span><span class="s1">"Confirmed</span><span class="se">\\</span><span class="s1">":false,</span><span class="se">\\</span><span class="s1">"LastUpdated</span><span class="se">\\</span><span class="s1">":</span><span class="se">\\</span><span class="s1">"0001-01-01T00:00:00.000Z</span><span class="se">\\</span><span class="s1">",</span><span class="se">\\</span><span class="s1">"TimeSubmitted</span><span class="se">\\</span><span class="s1">":</span><span class="se">\\</span><span class="s1">"0001-01-01T00:00:00.000Z</span><span class="se">\\</span><span class="s1">",</span><span class="se">\\</span><span class="s1">"AccountProviderName</span><span class="se">\\</span><span class="s1">":null,</span><span class="se">\\</span><span class="s1">"AccountProviderId</span><span class="se">\\</span><span class="s1">":0}","RejectReason":null,"CreatedTimestamp":"2023-03-23T12:48:31.067Z","LastUpdateTimestamp":"2023-03-23T12:48:31.067Z","CreatedTimestampTick":638151725110676052,"LastUpdateTimestampTick":638151725110676052,"Comments":[],"Attachments":[],"AuditLog":[]}</span><span class="dl">'</span>
<span class="p">}</span>
<span class="p">{</span>
  <span class="na">m</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">i</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
  <span class="na">n</span><span class="p">:</span> <span class="dl">'</span><span class="s1">AccountPositionEvent</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">o</span><span class="p">:</span> <span class="dl">'</span><span class="s1">{"OMSId":1,"AccountId":7,"ProductSymbol":"TBTC","ProductId":3,"Amount":1.1381543994360000000000000000,"Hold":1.1256211000000000000000000000,"PendingDeposits":0,"PendingWithdraws":0,"TotalDayDeposits":0,"TotalMonthDeposits":0,"TotalYearDeposits":0,"TotalDayDepositNotional":0,"TotalMonthDepositNotional":0,"TotalYearDepositNotional":0,"TotalDayWithdraws":0,"TotalMonthWithdraws":0,"TotalYearWithdraws":0,"TotalDayWithdrawNotional":0,"TotalMonthWithdrawNotional":0,"TotalYearWithdrawNotional":0,"NotionalProductId":1,"NotionalProductSymbol":"USD","NotionalValue":1.1381543994360000000000000000,"NotionalHoldAmount":1.1256211000000000000000000000,"NotionalRate":1,"TotalDayTransferNotional":0}</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeAccountEvents is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<p>Returns either Subscribed: true or false. If false, it means that you were not able to subscribe to events of the account. After successfully subscribing to account events, you will receive the events message for transactions that involves the account such as a withdraw transaction, the specific event name will be <strong>WithdrawTicketUpdateEvent</strong></p>
<h2 id='unsubscribeaccountevents'>UnSubscribeAccountEvents</h2>
<p><strong>Permissions:</strong> Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>UnSubscribe from account-level events. After being unsubscribed, you will stop receiving real-time events about transactions that concerns the specific account you unsubscribed to.</p>
<h3 id='request-83'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">UnSubscribeAccountEvents</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p><b>UnSubscribeAccountEvents is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account to subscribe with. This to make sure you will be unsubscribed to the correct account. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-83'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="nl">UnSubscribed</span><span class="p">:</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><b>UnSubscribeAccountEvents is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>
<h2 id='subscribeorderstateevents'>SubscribeOrderStateEvents</h2>
<p><strong>Permissions:</strong> Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Subscribe to order state events of a specific account&#39;s orders. Optional parameter to filter by instrument.</p>
<h3 id='request-84'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SubscribeOrderStateEvents</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="c1">//optional to filter for a specific instrument</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeOrderStateEvents is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account to subscribe with. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument to subscribe orderstateevents with. This field serves as the filter parameter. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-84'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="nl">Subscribed</span><span class="p">:</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><b>SubscribeOrderStateEvents is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<p>Returns either Subscribed: true or false. If false, it means that you were not able to subscribe to orderstateevents of the account. After successfully subscribing to orderstatevents of the account, you will receive the events message for any change of state of the account&#39;s order/s.</p>
<h2 id='unsubscribeorderstateevents'>UnSubscribeOrderStateEvents</h2>
<p><strong>Permissions:</strong> Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>UnSubscribe from account-level events. After being unsubscribed, you will stop receiving real-time events about transactions that concerns the specific account you unsubscribed to.</p>
<h3 id='request-85'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">UnSubscribeOrderStateEvents</span><span class="dl">'</span><span class="p">,{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">AccountId</span><span class="p">:</span> <span class="mi">1</span>
    <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span> <span class="c1">//Optional to unsubscribe to a specific instrument only</span>
<span class="p">})</span>
</code></pre></div>
<blockquote>
<p><b>UnSubscribeOrderStateEvents is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account to subscribe with. This is to make sure you will be unsubscribed to the correct account. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument to unsubscribe orderstateevents with. This field serves as the filter parameter. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-85'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="nl">UnSubscribed</span><span class="p">:</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><b>UnSubscribeOrderStateEvents is not available in http. Subscription APIs are only supported in websockets.</b></p>
</blockquote>
<h1 id='system'>System</h1><h2 id='ping'>Ping</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Keepalive, can be used to avoid getting session timeout.</p>
<h3 id='request-86'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ping</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/Ping</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">52</span>

<span class="err">//No</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">payload</span><span class="w"> </span><span class="err">needed</span><span class="w">
</span><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>No request payload required.</p>
<h3 id='response-86'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PONG"</span><span class="err">;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>msg</td>
<td>PONG means Ping request was successful and the gateway has responded.</td>
</tr>
</tbody></table>
<h2 id='getomsversion'>GetOMSVersion</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets Exchange&#39;s OMS Version</p>
<h3 id='request-87'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOMSVersion</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOMSVersion</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>No request payload required.</p>
<h3 id='response-87'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.3.65.1063"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. The OMS version.</td>
</tr>
</tbody></table>
<h2 id='healthcheck'>HealthCheck</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets Exchange&#39;s services overall health.</p>
<h3 id='request-88'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">HealthCheck</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/HealthCheck</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<p>No request payload required.</p>
<h3 id='response-88'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running: {</span><span class="se">\"</span><span class="s2">ExchangeId</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">Data1</span><span class="se">\"</span><span class="s2">:638169552829684050,</span><span class="se">\"</span><span class="s2">Data2</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">OmsId</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">GatewayIn</span><span class="se">\"</span><span class="s2">:638169552829684082,</span><span class="se">\"</span><span class="s2">OmsIn</span><span class="se">\"</span><span class="s2">:638169552829719513,</span><span class="se">\"</span><span class="s2">MatchingEngineIn</span><span class="se">\"</span><span class="s2">:638169552829860044,</span><span class="se">\"</span><span class="s2">OmsOut</span><span class="se">\"</span><span class="s2">:638169552829872324,</span><span class="se">\"</span><span class="s2">GatewayOut</span><span class="se">\"</span><span class="s2">:638169552829928412,</span><span class="se">\"</span><span class="s2">RoundTripTimeMic</span><span class="se">\"</span><span class="s2">:24436}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Shows whether the exchange services are running, running mean services are up.<br><strong><em>ExchangeId</em></strong> <strong>integer.</strong> - the ID of the Exchange.<br><strong><em>Data1</em></strong> <strong>long integer.</strong> - the timestamp when the request was first processed, in UTC.<br> <strong><em>Data2</em></strong> <strong>long integer.</strong> - Always defaults to 1. <br><strong><em>OmsId</em></strong> <strong>long integer.</strong> - always defaults to 0.<br><strong><em>GatewayIn</em></strong> <strong>long integer.</strong> - the timestamp when the request was first processed, in UTC.<br><strong><em>OmsIn</em></strong> <strong>long integer.</strong> - the timestamp when the request was first processed, in UTC.<br><strong><em>MatchingEngineIn</em></strong> <strong>long integer.</strong> - the timestamp when the request was first processed, in UTC.<br><strong><em>OmsOut</em></strong> <strong>long integer.</strong> - the timestamp when the check on OMS finished, in UTC.<br><strong><em>GatewayOut</em></strong> <strong>long integer.</strong> - the timestamp when the check on Gateway finished.<br><strong><em>RoundTripTimeMic</em></strong> - the duration of all the checks, in milliseconds.</td>
</tr>
</tbody></table>
<h2 id='getgeneralkvp'>GetGeneralKVP</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets general KVPs(Key-Value-Pair); key value pairs extends some system functionality. For instance, the <strong>UIConfig</strong> key can have values that can then affect the behavior of the <strong>AdminUI</strong>.</p>

<p>New API in APEX version 4.4.</p>
<h3 id='request-89'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetGeneralKVP</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">Key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">UIConfig</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/ap/GetGeneralKVP</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">27</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UIConfig"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td><strong>string</strong>. Name of the key to get value for. Not explicitly required but if not defined, the response will always be <strong><em>Resource Not Found</em></strong>. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-89'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UIConfig"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">navLogoUrl</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">String</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">navTaglineText</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">The Engine of Exchange</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">String</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">transfersHistoryEnabled</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">False</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ticketAmountAllowEdit</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">True</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">useWithdrawFees</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">False</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">interestBearingAccountsEnabled</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">False</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">locale</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">False</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ui.snackbar.autoHideDuration</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:3000,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Int32</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">OperatorId</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Int32</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">enableCreateUser</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">True</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">permissionedCreateUser</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">False</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">DateTimeFormat</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">YYYY/MM/DD HH:mm:ss.SSS</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">String</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UsersInfoRequestedKeys</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">[</span><span class="se">\\\"</span><span class="s2">2FAType</span><span class="se">\\\"</span><span class="s2">]</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Array</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">AccountsInfoRequestedKeys</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">[</span><span class="se">\\\"</span><span class="s2">fsRegAcctId</span><span class="se">\\\"</span><span class="s2">]</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Array</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">useAMLConfigurations</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">True</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">manualKYCEnabled</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">True</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">lockedUsersEnabled</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">True</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">custodyFeesEnabled</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">False</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">custodyFeesServiceURL</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">https://hostname goes here.../AssetCustodyService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">String</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">useNewVerificationLevelLimits</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">True</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">usePriceIncrementFloorCeilingSettings</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">True</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">showResendVerificationEmailLink</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">True</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">disableAddOperator</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">True</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">availableFeeTypes</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">[</span><span class="se">\\\"</span><span class="s2">Flat</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">MakerFee</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">TakerFee</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">FlatPegToProduct</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">AffiliateFee</span><span class="se">\\\"</span><span class="s2">]</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Array</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">showContractProduct</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">False</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">templatesFromFile</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">False</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">boolean</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">emailTemplateLanguages</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">[</span><span class="se">\\\"</span><span class="s2">EN</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">SP</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">test1</span><span class="se">\\\"</span><span class="s2">]</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Array</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">primarySettlementProducts</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">[</span><span class="se">\\\"</span><span class="s2">USD</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">BTC</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">ETH</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">XRP</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">GBP</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">EUR</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">CAD</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">FFF</span><span class="se">\\\"</span><span class="s2">]</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Array</span><span class="se">\"</span><span class="s2">},{</span><span class="se">\"</span><span class="s2">ServiceName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UiConfigService</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigKey</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">paginationLimit</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ConfigValue</span><span class="se">\"</span><span class="s2">:150,</span><span class="se">\"</span><span class="s2">ConfigValueType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Int32</span><span class="se">\"</span><span class="s2">}]"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Response is a JSON object which contains the Key and the Value as fields.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td><strong>string</strong>. The name of the key.</td>
</tr>
<tr>
<td>Value</td>
<td><strong>string</strong>. The corresponding value of the key. Stringtified array of objects, each object is also a key-value-pair.</td>
</tr>
<tr>
<td>Permissions</td>
<td><strong>array</strong>. The list of permissions that a specific user should have(at least 1 if there are many) so he/she can view the KVP.</td>
</tr>
</tbody></table>
<h2 id='getomss'>GetOMSs</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a list of Order Management Systems available.</p>
<h3 id='request-90'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOMSs</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OperatorId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOMSs</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2c262ce0-aebf-4dcb-8a70-cd60506a9ac8</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">25</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OperatorId</td>
<td><strong>integer</strong>. The Id of the operator. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-90'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">OMSName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">AlphapointUniversity</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">];</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="err">[
  {
    OMSId: 1,
    OMSName: "AlphapointUniversity",
  },
]
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the specific OMS.</td>
</tr>
<tr>
<td>OMSName</td>
<td><strong>integer</strong>. The name of the specific OMS.</td>
</tr>
</tbody></table>
<h2 id='getoms'>GetOMS</h2>
<p><strong>Permissions:</strong> Operator<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves details for a logical OMS.</p>
<h3 id='request-91'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOMS</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOMS</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">d0d93fa5-e899-45a4-b08e-b539ec597796</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">14</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS that you wish to retrieve details for. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-91'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OwnerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AlphapointUniversity"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InstanceGUID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetManagerCoreId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetManagerCoreUser"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetManagerCorePassword"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetManagerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSRiskMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SystemMarginEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PermissionedMarketData"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PermissionedInstrument"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PermissionedProduct"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"FeeAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"DepositContraAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LendingAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"VenueTimeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dateline Standard Time"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BaseNotionalProductSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OmsVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.3.65.1063"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"StandardAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TradeSettlementAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LendingInterestAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Id</td>
<td><strong>integer.</strong> The numerical ID of the OMS.</td>
</tr>
<tr>
<td>OwnerId</td>
<td><strong>integer.</strong> The identifier assigned to the creator of the OMS.</td>
</tr>
<tr>
<td>OMSName</td>
<td><strong>string.</strong> The name of the OMS.</td>
</tr>
<tr>
<td>InstanceGUID</td>
<td><strong>integer.</strong> A unique identifier for a particular instance of the Alphapoint trading system</td>
</tr>
<tr>
<td>AssetManagerCoreId</td>
<td><strong>integer.</strong> The identifier of the core asset management system used to manage the assets traded on the platform.</td>
</tr>
<tr>
<td>AssetManagerCoreUser</td>
<td><strong>integer.</strong> The user of the core asset management system used to manage the assets traded on the platform.</td>
</tr>
<tr>
<td>AssetManagerCorePassword</td>
<td><strong>string.</strong> The password of the core asset management system user.</td>
</tr>
<tr>
<td>AssetManagerId</td>
<td><strong>integer.</strong> The numerical id of the Asset Manager.</td>
</tr>
<tr>
<td>OMSRiskMode</td>
<td><strong>string.</strong> The risk mode of the OMS, can be used to set different risk limits for different trading scenarios.</td>
</tr>
<tr>
<td>SystemMarginEnabled</td>
<td><strong>boolean.</strong> A flag that indicates whether or not margin trading is enabled for the OMS.</td>
</tr>
<tr>
<td>PermissionedMarketData</td>
<td><strong>boolean.</strong> This specifies the level of market data access that is allowed for the OMS.</td>
</tr>
<tr>
<td>PermissionedInstrument</td>
<td><strong>boolean.</strong> This specifies the level of access that is allowed for the OMS with respect to the instruments that it can trade.</td>
</tr>
<tr>
<td>PermissionedProduct</td>
<td><strong>boolean.</strong> This specifies the level of access that is allowed for the OMS with respect to the products that it can trade.</td>
</tr>
<tr>
<td>FeeAccountId</td>
<td><strong>integer.</strong> The ID of the account that is used to collect fees associated with trading on the OMS.</td>
</tr>
<tr>
<td>DepositContraAccountId</td>
<td><strong>integer.</strong> the id of the account used to receive deposits from clients who wish to trade on the platform.</td>
</tr>
<tr>
<td>LendingAccountId</td>
<td><strong>integer.</strong> The ID of the account that is used for lending activities associated with the OMS.</td>
</tr>
<tr>
<td>VenueTimeZone</td>
<td><strong>string.</strong> The time zone in which the trading venue is located.</td>
</tr>
<tr>
<td>BaseNotionalProductSymbol</td>
<td><strong>string.</strong> The symbol of the base notional product that is set on the OMS. An example would be USD.</td>
</tr>
<tr>
<td>OmsVersion</td>
<td><strong>string.</strong> The current version of the OMS.</td>
</tr>
<tr>
<td>StandardAccountId</td>
<td><strong>integer.</strong> The identifier of the specific trading account that is used for standard trading activities on the platform.</td>
</tr>
<tr>
<td>TradeSettlementAccountId</td>
<td><strong>integer.</strong> the account that is used for settlement of trades executed on the platform.</td>
</tr>
<tr>
<td>LendingInterestAccountId</td>
<td><strong>integer.</strong> The account that is used for managing the interest payments associated with lending activities.</td>
</tr>
</tbody></table>
<h2 id='gatewaystats'>GatewayStats</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets Gateway Stats</p>
<h3 id='request-92'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GatewayStats</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div>
<p>No request payload required.</p>
<h3 id='response-92'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="nl">result</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">errormsg</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">errorcode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">detail</span><span class="p">:</span> <span class="dl">'</span><span class="s1">{"ConnectedClients":29,"UserSessions":26,"UptimeMs":2147483648}</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>GatewayStats is only applicable in WebSockets.</p>
</blockquote>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns <em>true</em>; and unsuccessful request (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Contains the actual stats of the Gateway<br /><strong>ConnectedClients</strong>: the total number of clients connected to the websocket gateway. Connected does not mean authenticated.<br/><strong>UserSessions</strong>: the total number of users with active sessions.<br/><strong>UptimeMs</strong>: the uptime of the websocket gateway in milliseconds.</td>
</tr>
</tbody></table>
<h1 id='trading'>Trading</h1><h2 id='sendorderlist'>SendOrderList</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Sends or creates a list of orders. Payload is an array containing JSON object/s, each JSON object represents a single order which is exactly the same as the payload of a <a href="#">SendOrder</a> request. The orders can be assorted, means that it can be for different instruments and different accounts.</p>

<p>Anyone submitting an order should also subscribe to the various market data and event feeds, or call <a href="#">GetOpenOrders</a> or <a href="#">GetOrderStatus</a> to monitor the status of the order. If the order is not in a state to be executed, <strong>GetOpenOrders</strong> will not return it.</p>

<p>A user with Trading permission can create an order only for those accounts and instruments with which the user is associated; a user with Operator permissions can create an order for any account and instrument.</p>
<h3 id='request-93'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SendOrderList</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">AccountId</span><span class="p">:</span> <span class="mi">185</span><span class="p">,</span>
    <span class="na">TimeInForce</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">ClientOrderId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">OrderIdOCO</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">UseDisplayQuantity</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">Side</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">Quantity</span><span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span>
    <span class="na">OrderType</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">PegPriceType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">LimitPrice</span><span class="p">:</span> <span class="mi">23436</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">AccountId</span><span class="p">:</span> <span class="mi">185</span><span class="p">,</span>
    <span class="na">TimeInForce</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">ClientOrderId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">OrderIdOCO</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">UseDisplayQuantity</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">Side</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">Quantity</span><span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span>
    <span class="na">OrderType</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">PegPriceType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">LimitPrice</span><span class="p">:</span> <span class="mi">23436</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">]);</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/SendOrderList</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">f7e2c811-a9db-454e-9c9e-77533baf92d9 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">583</span>

<span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">185</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeInForce"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderIdOCO"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseDisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LimitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">23436</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">185</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeInForce"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderIdOCO"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseDisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LimitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">23436</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>If OrderType=1 (Market), Side=0 (Buy), and LimitPrice is supplied, the Market order will execute up to the value specified</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument being traded.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the instrument is being traded.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account placing the order.</td>
</tr>
<tr>
<td>TimeInForce</td>
<td><strong>integer.</strong> An integer that represents the period during which the new order is executable. One of:<br /><strong>0</strong> Unknown (error condition)<br /><strong>1</strong> GTC (good &#39;til canceled, the default)<br /><strong>2</strong> OPG (execute as close to opening price as possible: not yet used, for future provision)<br /><strong>3</strong> IOC (immediate or canceled)<br /><strong>4</strong> FOK (fill-or-kill &mdash; fill immediately or kill immediately)<br /><strong>5</strong> GTX (good &#39;til executed: not yet used, for future provision)<br /><strong>6</strong> GTD (good &#39;til date: not yet used, for future provision)</td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> A user-assigned ID for the order (like a purchase-order number assigned by a company). This ID is useful for recognizing future states related to this order. <em>ClientOrderId</em> defaults to 0. Starting APEX version 4.2, duplicate client orderid of two open orders of the same account is not allowed, the incoming order with the same clientorderid will get rejected.</td>
</tr>
<tr>
<td>OrderIdOCO</td>
<td><strong>long integer.</strong> The order ID if One Cancels the Other — If this order is order A, <em>OrderIdOCO</em> refers to the order ID of an order B (which is <em>not</em> the order being created by this call). If order B executes, then order A created by this call is canceled. You can also set up order B to watch order A in the same way, but that may require an update to order B to make it watch this one, which could have implications for priority in the order book. See <strong>CancelReplaceOrder</strong> and <strong>ModifyOrder.</strong></td>
</tr>
<tr>
<td>UseDisplayQuantity</td>
<td><strong>boolean.</strong> If you enter a Limit order with a reserve(reserve order), you must set <em>UseDisplayQuantity</em> to <em>true</em>.</td>
</tr>
<tr>
<td>Side</td>
<td><strong>integer.</strong> A number representing on of the following potential sides of a trade. One of:<br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /></td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The quantity of the instrument being ordered.</td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>integer.</strong> A number representing the nature of the order. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> Market<br /><strong>2</strong> Limit<br /><strong>3</strong> StopMarket<br /><strong>4</strong> StopLimit<br /><strong>5</strong> TrailingStopMarket<br /><strong>6</strong> TrailingStopLimit<br /><strong>7</strong> BlockTrade.</td>
</tr>
<tr>
<td>PegPriceType</td>
<td><strong>integer.</strong> When entering a stop/trailing order, set <em>PegPriceType</em> to an integer that corresponds to the type of price that pegs the stop:<br /><strong>1</strong> Last(default)<br /><strong>2</strong> Bid<br /><strong>3</strong> Ask<br /><strong>4</strong> Midpoint</td>
</tr>
<tr>
<td>LimitPrice</td>
<td><strong>decimal.</strong> The price at which to execute the order, if the order is a Limit order.</td>
</tr>
<tr>
<td>DisplayQuantity</td>
<td><strong>integer</strong> If <em>UseDisplayQuantity</em> is set to <strong><em>true</em></strong>, you must set a value of this field greater than 0, else, order will not appear in the orderbook.</td>
</tr>
</tbody></table>
<h3 id='response-93'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="err">//It</span><span class="w"> </span><span class="err">returns</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="err">but</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">were</span><span class="w"> </span><span class="err">successfully</span><span class="w"> </span><span class="err">placed.</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation In Process"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">107</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. Specifically for this API only, it returns false even if the request went through.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns <strong>Operation In Process</strong>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 107. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='sendcancellist'>SendCancelList</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Send a list of orders to cancel. Payload is an array of objects, each object represents an order to be cancelled.</p>
<h3 id='request-94'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SendCancelList</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">OrderId</span><span class="p">:</span> <span class="mi">6714</span><span class="p">,</span>
    <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">OrderId</span><span class="p">:</span> <span class="mi">6507</span><span class="p">,</span>
    <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">]);</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/SendCancelList</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">cf165646-2021-4460-9fc4-234e0cec454b</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">178</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6714</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6507</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the original order was placed. <strong>required.</strong></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>integer.</strong> The ID of the order/s to be canceled. To get orderid/s of open orders, you can use <a href="https://trading.alphapointuniversity.com/#getopenorders">GetOpenOrders</a> API.<strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> Account for which order/s will be canceled. If not specified, order/s will not be cancelled <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-94'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='sendcancelreplacelist'>SendCancelReplaceList</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Send a list of Cancel/Replace requests. Only working orders can be replaced.</p>
<h3 id='request-95'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SendCancelReplaceList</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">ReplaceOrderId</span><span class="p">:</span> <span class="mi">6696</span><span class="p">,</span>
    <span class="na">ClientOrdId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">OrderType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">Side</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">LimitPrice</span><span class="p">:</span> <span class="mi">29500</span><span class="p">,</span>
    <span class="na">TimeInForce</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">Quantity</span><span class="p">:</span> <span class="mf">0.003</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">ReplaceOrderId</span><span class="p">:</span> <span class="mi">6698</span><span class="p">,</span>
    <span class="na">ClientOrdId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">OrderType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">Side</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">LimitPrice</span><span class="p">:</span> <span class="mi">29900</span><span class="p">,</span>
    <span class="na">TimeInForce</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">Quantity</span><span class="p">:</span> <span class="mf">0.004</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">]);</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/SendCancelReplaceList</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">912ea315-31a3-43da-b229-d8f59c7db302</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">566</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OrderIdToReplace"</span><span class="p">:</span><span class="mi">6696</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ClientOrdId"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Side"</span><span class="p">:</span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LimitPrice"</span><span class="p">:</span><span class="mi">29500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TimeInForce"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="mf">0.003</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OrderIdToReplace"</span><span class="p">:</span><span class="mi">6698</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ClientOrdId"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Side"</span><span class="p">:</span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LimitPrice"</span><span class="p">:</span><span class="mi">29900</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TimeInForce"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="mf">0.004</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OmsId</td>
<td><strong>integer.</strong> The ID of the OMS on which the order is being canceled and replaced by another order. <strong>required.</strong></td>
</tr>
<tr>
<td>ReplaceOrderId</td>
<td><strong>long integer.</strong> The ID of the order to be replaced. <strong>required.</strong></td>
</tr>
<tr>
<td>ReplaceClientOrderId</td>
<td><strong>long integer.</strong> The ClientOrderId of the existing order to be replaced. <strong>optional.</strong></td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> A custom ID that can identify the replacement order later on. In newer version of APEX(version 4.2 and above), it required for this field to be unique for every working order. Defaults to 0 if not defined. <strong>optional.</strong></td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>integer or string.</strong> An integer representing the type of the replacement order: <br />0 Unknown<br />1 Market<br />2 Limit<br />3 StopMarket<br />4 StopLimit<br />5 TrailingStopMarket<br />6 TrailingStopLimit<br />7 BlockTrade. Either the string or integer value is accepted. <strong>required.</strong></td>
</tr>
<tr>
<td>Side</td>
<td><strong>integer.</strong> An integer representing the side of the replacement order:<br />0 Buy<br />1 Sell<br /> <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer</strong>. The ID of the account who owns the order and is replacing the order, AccountId of the replacement order must match the AccountId of the existing order. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. The ID of the instrument being traded. <strong>required.</strong></td>
</tr>
<tr>
<td>UseDisplayQuantity</td>
<td><strong>boolean.</strong> The display quantity is the quantity of a product shown to the market to buy or sell. A larger quantity may be wanted or available, but it may disadvantageous to display it when buying or selling. The display quantity is set when placing an order (using <strong>SendOrder</strong> or <strong>CancelReplaceOrder</strong> for instance). If you enter a Limit order with reserve, you must set <em>useDisplayQuantity</em> to <em>true</em>. <strong>optional.</strong></td>
</tr>
<tr>
<td>DisplayQuantity</td>
<td><strong>decimal.</strong> The quantity of a product that is available to buy or sell that is publicly displayed to the market or simply in the orderbook. Will be used when <strong>UseDisplayQuantity</strong> is set to true, and in that case it needs to be defined else order will not appear in the order book as it will default to 0. <strong>optional.</strong></td>
</tr>
<tr>
<td>LimitPrice</td>
<td><strong>decimal.</strong> The price at which to execute the new order, if the new order is a limit order. If the replacement order is a market order, there is no need to define this field. Expressed in ticks for trailing stops. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>StopPrice</td>
<td><strong>decimal.</strong> The price at which to execute the new order if the replacement order is a stop order. If the replacement order is a not a stop order, there is no need to define this field. Expressed in ticks for trailing stops. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>ReferencePrice</td>
<td><strong>decimal.</strong> Used if the replacement order is trailing order. If the replacement order is not a trailing order, there is no need to define this field. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>PegPriceType</td>
<td><strong>integer or string.</strong> The type of price you set in a stop/trailing order to &quot;peg the stop.&quot;<br />0 Unknown (error condition)<br />1 Last<br />2 Bid<br />3 Ask<br />4 Midpoint.Either the integer or string value is accepted. If the replacement order is not a trailing/stop order, there is no need to define this field. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>TimeInForce</td>
<td><strong>integer or string.</strong> Represents the period during which the new order is executable. One of:<br />0 Unknown (error condition)<br />1 GTC (good &#39;til canceled, the default)<br />2 OPG (execute as close to opening price as possible: not yet used, for future provision)<br />3 IOC (immediate or canceled)<br />4 FOK (fill or kill &mdash; fill the order immediately, or cancel it immediately)<br />5 GTX (good &#39;til executed: not yet used, for future provision)<br />6 GTD (good &#39;til date: not yet used, for future provision). Either the integer or string value is accepted. <strong>required.</strong></td>
</tr>
<tr>
<td>OrderIdOCO</td>
<td><strong>integer.</strong> One Cancels the Other — If the order being canceled in this call is order A, and the order replacing order A in this call is order B, then <em>OrderIdOCO</em> refers to an order C that is currently open. If order C executes, then order B is canceled. You can also set up order C to watch order B in this way, but that will require an update to order C. Orderid to link this order to for OCO, negative values represent ordinal offset to current orderid, i.e., -1 = previous order. <strong>optional.</strong></td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The quantity of the replacement order. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-95'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104), Order Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='modifyorder'>ModifyOrder</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Reduces an order’s quantity without losing priority in the order book. An order’s quantity can only be reduced. The other call that can modify an order &mdash; <a href="https://trading.alphapointuniversity.com/?http#cancelreplaceorder">CancelReplaceOrder</a> &mdash; resets order book priority, but you can use it to increase an order quantity and also change the limitprice.</p>

<aside class="notice"><strong>Note:</strong> <strong>ModifyOrder</strong> does not surrender or reset order book priority.</aside>
<h3 id='request-96'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ModifyOrder</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OrderId</span><span class="p">:</span> <span class="mi">6507</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">Quantity</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ModifyOrder</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">356cdf76-b767-4af5-890e-837ea17030d0</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">109</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6507</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the original order was placed. <strong>required.</strong></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The ID of the order to be modified. The ID was supplied by the server when the order was created. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument traded in the order. <strong>required.</strong></td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The new quantity of the order. This value can only be reduced from a previous quantity. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> Account for which order will be modified. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-96'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Possible</span><span class="w"> </span><span class="err">error/s</span><span class="w">
</span><span class="err">//Quantity</span><span class="w"> </span><span class="err">defined</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">greater</span><span class="w"> </span><span class="err">than</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">existing</span><span class="w"> </span><span class="err">quantity</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">being</span><span class="w"> </span><span class="err">modified.</span><span class="w"> </span><span class="err">This</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">reduce</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">quantity</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">existing</span><span class="w"> </span><span class="err">order.</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Quantity"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//One</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">more</span><span class="w"> </span><span class="err">required</span><span class="w"> </span><span class="err">fields</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">defined</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Request"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not all required fields are provided"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The response acknowledges the successful receipt of your request to modify an order; it does not indicate that the order has been modified. To find if an order has been modified, check using <strong>GetOpenOrders</strong> and <strong>GetOrderHistory.</strong></p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> The successful receipt of a modify order request returns <em>true</em>; otherwise, returns <em>false</em>. This is the acknowledgment of receipt of the request to modify, not a confirmation that the modification has taken place.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of a modify request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Invalid Quantity (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> The receipt of a successful request to modify returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='cancelallorders'>CancelAllOrders</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Cancels all open matching orders for the specified account on an OMS.</p>

<p>A user with Trading permission can cancel orders for accounts it is associated with; a user with Operator permissions can cancel orders for any account.</p>

<aside class="warning"><strong>Warning:</strong> <strong>CancelAllOrders</strong> will cancel all existing orders on an OMS when sending AccountID = 0 or when AccountID is ommited.</aside>

<aside class="notice"><strong>Note:</strong> Multiple users may have access to the same account.</aside>
<h3 id='request-97'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//Cancel all orders of a specific account for a specific instrument</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CancelAllOrders</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//Cancel all orders of all accounts for a specific instrument</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CancelAllOrders</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//Cancel all orders of all accounts for all instruments</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CancelAllOrders</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CancelAllOrders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">0b9e03f8-40c8-4653-b52f-1e75e9f9cd0b //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">60</span>

<span class="err">//Cancel</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">orders</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">specific</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">specific</span><span class="w"> </span><span class="err">instrument</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Cancel</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">orders</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">accounts</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">specific</span><span class="w"> </span><span class="err">instrument</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Cancel</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">orders</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">accounts</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">instruments</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The account for which all orders are being canceled. If no AccountId is defined, orders for all accounts will be cancelled. <strong>optional.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The OMS under which the account operates. <strong>required.</strong>.</td>
</tr>
<tr>
<td>IntrumentId</td>
<td><strong>integer.</strong> The instrument for which all orders are being canceled. If there is no instrumentid defined, all orders for all instruments will be cancelled. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-97'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The Response is a standard response object.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> If the call has been successfully received by the OMS, <em>result</em> is <em>true;</em> otherwise it is <em>false.</em></td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of the call returns <em>null.</em> The <em>errormsg</em> key for an unsuccessful call returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Response (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)<br />Operation Not Supported (errorcode 106)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful receipt of the call returns 0. An unsuccessful receipt of the call returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send.</td>
</tr>
</tbody></table>
<h2 id='getorderstatus'>GetOrderStatus</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves the status information for a single order.</p>

<p>A user with Trading permission can retrieve status information for accounts and orders with which the user is associated; a user with Operator permission can retreive status information for any account or order ID.</p>
<h3 id='request-98'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOrderStatus</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">OrderId</span><span class="p">:</span> <span class="mi">6562</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOrderStatus</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">f7e2c811-a9db-454e-9c9e-77533baf92d9 //valid session token</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">63</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6562</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the order was placed. <strong>optional.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account under which the order was placed. If the authenticated user has elevated permission such as SUPERUSER, AccountId is not explicitly required. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>integer.</strong> The ID of the order whose status will be returned. If the authenticated user has elevated permission such as SUPERUSER, OrderId is not explicitly required. <strong>conditionally required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-98'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6562</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">23436.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
  </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1680020672485</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638156174724846502</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1680020672485</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638156174724852936</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
  </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NewInputAccepted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6562</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mf">29000.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.52</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">23436.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">29000.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AddedToBook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ask"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The call <strong>GetOrderStatus</strong> returns a JSON object which contains the data of a specific order.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Side</td>
<td><strong>string.</strong> The side of a trade. One of:<br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The ID of the open order. The <em>OrderID</em> is unique in each OMS.</td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal.</strong> The price at which the buy or sell has been ordered.</td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The quantity of the product to be bought or sold.</td>
</tr>
<tr>
<td>DisplayQuantity</td>
<td><strong>decimal.</strong> The quantity available to buy or sell that is publicly displayed to the market. To display a <em>displayQuantity</em> value, an order must be a Limit order with a reserve.</td>
</tr>
<tr>
<td>Instrument</td>
<td><strong>integer.</strong> ID of the instrument being traded. The call <strong>GetInstruments</strong> can supply the instrument IDs that are available.</td>
</tr>
<tr>
<td>Account</td>
<td><strong>integer.</strong> ID of the of the account which submitted the order.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> Name of the of the account which submitted the order.</td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>string.</strong> Will always be <strong>BlockTrade</strong> as this GetOpenTradeReports API will only return open blocktrades.</td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> An ID supplied by the client to identify the order (like a purchase order number). The <em>ClientOrderId</em> defaults to 0 if not supplied.</td>
</tr>
<tr>
<td>OrderState</td>
<td><strong>string.</strong> The current or the latest state of the order. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> Working<br /><strong>2</strong> Rejected<br /><strong>3</strong> Canceled<br /><strong>4</strong> Expired<br /><strong>5</strong> FullyExecuted.</td>
</tr>
<tr>
<td>ReceiveTime</td>
<td><strong>long integer.</strong> Time stamp of the order in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone).</td>
</tr>
<tr>
<td>ReceiveTimeTicks</td>
<td><strong>long integer.</strong> Time stamp of the order Microsoft Ticks format and UTC time zone. <strong>Note:</strong> Microsoft Ticks format is usually provided as a string. Here it is provided as a long integer.</td>
</tr>
<tr>
<td>OrigQuantity</td>
<td><strong>decimal.</strong> If the open order has been changed or partially filled, this value shows the original quantity of the order.</td>
</tr>
<tr>
<td>QuantityExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the amount that has been executed.</td>
</tr>
<tr>
<td>GrossValueExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the gross amount that has been executed.</td>
</tr>
<tr>
<td>AvgPrice</td>
<td><strong>decimal.</strong> The average executed price of the order.</td>
</tr>
<tr>
<td>CounterPartyId</td>
<td><strong>integer.</strong> The ID of the account who is the counterparty for the trade if order is already executed, either partial or fully executed.</td>
</tr>
<tr>
<td>ChangeReason</td>
<td><strong>string.</strong> If the order has been changed, this string value holds the reason. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> NewInputAccepted<br /><strong>2</strong> NewInputRejected<br /><strong>3</strong> OtherRejected<br /><strong>4</strong> Expired<br /><strong>5</strong> Trade<br /><strong>6</strong> SystemCanceled_NoMoreMarket<br /><strong>7</strong> SystemCanceled_BelowMinimum<br /><strong>8</strong> SystemCanceled_PriceCollar<br /><strong>9</strong> SystemCanceled_MarginFailed<br /><strong>100</strong> UserModified. An order that is newly added to book will have <strong>NewInputAccepted</strong> value by default.</td>
</tr>
<tr>
<td>OrigOrderId</td>
<td><strong>integer.</strong> If the order is a replacement order, this is the ID of the original order.</td>
</tr>
<tr>
<td>OrigClOrdId</td>
<td><strong>integer.</strong> If the order is a replacement order, this is the client order ID or the original order.</td>
</tr>
<tr>
<td>EnteredBy</td>
<td><strong>integer.</strong> The ID of the user who submitted the order.</td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user who submitted the order. Usually returns as an empty string.</td>
</tr>
<tr>
<td>IsQuote</td>
<td><strong>boolean.</strong> If this order is a quote(created using <a href="#">CreateQuote</a>), the value for <em>IsQuote</em> is <em>true,</em> otherwise it is <em>false.</em></td>
</tr>
<tr>
<td>InsideAsk</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Ask price.</td>
</tr>
<tr>
<td>InsideAskSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Ask quote.</td>
</tr>
<tr>
<td>InsideBid</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Bid price.</td>
</tr>
<tr>
<td>InsideBidSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Bid quote.</td>
</tr>
<tr>
<td>LastTradePrice</td>
<td><strong>decimal.</strong> The last price that this instrument traded at.</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If this open order has been rejected, this string holds the reason for the rejection.</td>
</tr>
<tr>
<td>IsLockedIn</td>
<td><strong>boolean.</strong> For a block trade, if both parties to the block trade agree that one of the parties will report the trade for both sides, this value is <em>true.</em> Othersise, <em>false.</em></td>
</tr>
<tr>
<td>CancelReason</td>
<td><strong>string.</strong> If this order has been canceled, this string holds the cancellation reason.</td>
</tr>
<tr>
<td>OrderFlag</td>
<td><strong>string.</strong> One of the following: <strong>NoAccountRiskCheck</strong>, <strong>AddedToBook</strong>, <strong>RemovedFromBook</strong>, <strong>PostOnly</strong>, <strong>Liquidation</strong>, <strong>ReverseMarginPosition</strong>, <strong>Synthetic</strong>.</td>
</tr>
<tr>
<td>UseMargin</td>
<td><strong>boolean.</strong> Margin is not yet supported so this always defaults to false.</td>
</tr>
<tr>
<td>StopPrice</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>PegPriceType</td>
<td><strong>string.</strong> The type of price to peg the Stop to for Stop/Trailing orders.</td>
</tr>
<tr>
<td>PegOffset</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>PegLimitOffset</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>IpAddress</td>
<td><strong>string.</strong> The IP address from where the order was submitted.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
</tbody></table>
<h2 id='getordershistory'>GetOrdersHistory</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a history of orders for the specified search parameters.</p>

<p>For example, if <em>depth</em> = 200 and <em>startIndex</em> = 0, the history returns 200 unique orders into the past starting with the most recent (0) order. If <em>depth</em> = 200 and <em>startIndex</em> = 100, the history returns 200 unique orders into the past starting at 101st order in the past.</p>

<p>The owner of the trading venue determines how long to retain order history before archiving.</p>

<p>A user with Trading permission can retrieve orders history only for accounts it is associated with; a user with Operator permission can retrieve orders history for any user or account.</p>

<aside class="notice"><strong>Note:</strong> In this call, "Depth" refers to the maximum number/count of orders that can be retrieved.</aside>
<h3 id='request-99'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOrdersHistory</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOrdersHistory</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c5f917b9-f173-4c29-a615-1503d2e78023 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS on which the orders took place. If no other values are specified, the call returns the orders associated with the default account for the logged-in user on this OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer</strong>. The account ID that made the trades. A user with Trading permission must be associated with this account, although other users also can be associated with the account. Not explicitly required if the authenticated user has elevated permission/s. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>OrderState</td>
<td><strong>string.</strong> The current state of the order. Can be used to filter results. If not specified all orders regardless of the order state will be returned. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> Working<br /><strong>2</strong> Rejected<br /><strong>3</strong> Canceled<br /><strong>4</strong> Expired<br /><strong>5</strong> FullyExecuted. <strong>optional.</strong></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer</strong>. ID for the order.Can be used to filter results. Can be used to filter for a specific orderid. There is a specific API call <strong>GetOrderHistoryByOrderId</strong> for filtering orders by <strong>OrderId</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer</strong>. A user-assigned ID for the order (like a purchase-order number assigned by a company).Can be used to filter results. <em>clientOrderId</em> defaults to 0. <strong>optional.</strong></td>
</tr>
<tr>
<td>OriginalOrderId</td>
<td><strong>long integer</strong>. The original ID of the order. If specified, the call returns changed orders associated with this order ID. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>OriginalClientOrderId</td>
<td><strong>long integer</strong>. If the order has been changed, shows the original client order ID, a value that the client can create (much like a purchase order). Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer</strong>. The ID of the user whose account orders will be returned. If not specified, the call returns the orders of the logged-in user.Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>long integer</strong>. The ID of the instrument named in the order. If not specified, the call returns orders for all instruments traded by this account. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartTimestamp</td>
<td><strong>long integer</strong>. Date and time at which to begin the orders history, in POSIX format. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>EndTimestamp</td>
<td><strong>long integer</strong>. Date and time at which to end the orders report, in POSIX format. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer</strong>. In this case, the maximum number/count of unique orders to return, counting from the <em>StartIndex</em> if it is also specified. If not specified, returns the 100 most recent to orders; results can vary depending if other optional fields are defined such as <em>StartIndex</em>, <em>StartTimestamp</em>, and <em>EndTimestamp</em>. Can be used to filter results and for pagination. <strong>optional.</strong></td>
</tr>
<tr>
<td>Limit</td>
<td><strong>integer</strong>. Functions exactly the same as the <strong>Depth</strong> field. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer</strong>. A value of 0 means the first object in the result will be the the most recent order, a value of 2 means that the first object in the result set will be the third most recent order. If not specified, defaults to 0. Can be used to filter results or for pagination. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-99'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6713</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FullyExecuted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663431785</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182602317851821</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663431791</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182602317910891</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6713</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">79228162514264337593543950335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6709</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FullyExecuted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663089848</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182598898484597</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663089923</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182598899230197</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6709</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">79228162514264337593543950335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>The call <strong>GetOrdersHistory</strong> returns an array or objects, each object represents an order at its latest status; an order will only occupy 1 index or just 1 instance in the result. <strong>GetOrdersHistory</strong> API does not return the full history of a specific order, there is another API that will give you just that: <a href="https://trading.alphapointuniversity.com/#getorderhistorybyorderid">GetOrderHistoryByOrderId</a>.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Side</td>
<td><strong>string.</strong> The side of a trade. One of:<br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The ID of the open order. The <em>OrderID</em> is unique in each OMS.</td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal.</strong> The price at which the buy or sell has been ordered.</td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The quantity of the product to be bought or sold.</td>
</tr>
<tr>
<td>DisplayQuantity</td>
<td><strong>decimal.</strong> The quantity available to buy or sell that is publicly displayed to the market. To display a <em>displayQuantity</em> value, an order must be a Limit order with a reserve.</td>
</tr>
<tr>
<td>Instrument</td>
<td><strong>integer.</strong> ID of the instrument being traded. The call <strong>GetInstruments</strong> can supply the instrument IDs that are available.</td>
</tr>
<tr>
<td>Account</td>
<td><strong>integer.</strong> ID of the of the account which the order belongs to.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> Name of the of the account which which the order belongs to.</td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>string.</strong> Describes the type of order this is. One of:<br /><strong>0</strong> Unknown (an error condition)<br /><strong>1</strong> Market order<br /><strong>2</strong> Limit<br /><strong>3</strong> StopMarket<br /><strong>4</strong> StopLimit<br /><strong>5</strong> TrailingStopMarket<br /><strong>6</strong> TrailingStopLimit<br /><strong>7</strong> BlockTrade</td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> An ID supplied by the client to identify the order (like a purchase order number). The <em>ClientOrderId</em> defaults to 0 if not supplied.</td>
</tr>
<tr>
<td>OrderState</td>
<td><strong>string.</strong> The current or the latest state of the order. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> Working<br /><strong>2</strong> Rejected<br /><strong>3</strong> Canceled<br /><strong>4</strong> Expired<br /><strong>5</strong> Fully Executed.</td>
</tr>
<tr>
<td>ReceiveTime</td>
<td><strong>long integer.</strong> Time stamp of the order in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone).</td>
</tr>
<tr>
<td>ReceiveTimeTicks</td>
<td><strong>long integer.</strong> Time stamp of the order Microsoft Ticks format and UTC time zone. <strong>Note:</strong> Microsoft Ticks format is usually provided as a string. Here it is provided as a long integer.</td>
</tr>
<tr>
<td>LastUpdatedTime</td>
<td><strong>long integer.</strong> Time stamp when the order was last updated, in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone).</td>
</tr>
<tr>
<td>LastUpdatedTimeTicks</td>
<td><strong>long integer.</strong> Time stamp when the order was last updated, in Microsoft Ticks format and UTC time zone. <strong>Note:</strong> Microsoft Ticks format is usually provided as a string. Here it is provided as a long integer.</td>
</tr>
<tr>
<td>OrigQuantity</td>
<td><strong>decimal.</strong> If the open order has been changed or partially filled, this value shows the original quantity of the order.</td>
</tr>
<tr>
<td>QuantityExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the amount that has been executed.</td>
</tr>
<tr>
<td>GrossValueExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the gross amount that has been executed.</td>
</tr>
<tr>
<td>ExecutableValue</td>
<td><strong>decimal.</strong> Defaults to 0.</td>
</tr>
<tr>
<td>AvgPrice</td>
<td><strong>decimal.</strong> The average executed price of the order.</td>
</tr>
<tr>
<td>CounterPartyId</td>
<td><strong>integer.</strong> The ID of the account who is the counterparty for the trade if order is already executed, either partial or fully executed.</td>
</tr>
<tr>
<td>ChangeReason</td>
<td><strong>string.</strong> If the order has been changed, this string value holds the reason. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> NewInputAccepted<br /><strong>2</strong> NewInputRejected<br /><strong>3</strong> OtherRejected<br /><strong>4</strong> Expired<br /><strong>5</strong> Trade<br /><strong>6</strong> SystemCanceled_NoMoreMarket<br /><strong>7</strong> SystemCanceled_BelowMinimum<br /><strong>8</strong> SystemCanceled_PriceCollar<br /><strong>9</strong> SystemCanceled_MarginFailed<br /><strong>100</strong> UserModified. An order that is newly added to book will have <strong>NewInputAccepted</strong> value by default.</td>
</tr>
<tr>
<td>OrigOrderId</td>
<td><strong>long integer.</strong> If the order is a replacement order, this is the ID of the original order.</td>
</tr>
<tr>
<td>OrigClOrdId</td>
<td><strong>long integer.</strong> If the order is a replacement order, this is the client order ID or the original order.</td>
</tr>
<tr>
<td>EnteredBy</td>
<td><strong>integer.</strong> The ID of the user who submitted the order.</td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user who submitted the order.</td>
</tr>
<tr>
<td>IsQuote</td>
<td><strong>boolean.</strong> If this order is a quote(created using <a href="#">CreateQuote</a>), the value for <em>IsQuote</em> is <em>true,</em> otherwise it is <em>false.</em></td>
</tr>
<tr>
<td>InsideAsk</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Ask price.</td>
</tr>
<tr>
<td>InsideAskSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Ask quote.</td>
</tr>
<tr>
<td>InsideBid</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Bid price.</td>
</tr>
<tr>
<td>InsideBidSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Bid quote.</td>
</tr>
<tr>
<td>LastTradePrice</td>
<td><strong>decimal.</strong> The last price that this instrument traded at.</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If this open order has been rejected, this string holds the reason for the rejection.</td>
</tr>
<tr>
<td>IsLockedIn</td>
<td><strong>boolean.</strong> For a block trade, if both parties to the block trade agree that one of the parties will report the trade for both sides, this value is <em>true.</em> Othersise, <em>false.</em></td>
</tr>
<tr>
<td>CancelReason</td>
<td><strong>string.</strong> If this order has been canceled, this string holds the cancellation reason.</td>
</tr>
<tr>
<td>OrderFlag</td>
<td><strong>string.</strong> One or more of:<br /><strong>1</strong> NoAccountRiskCheck<br /><strong>2</strong> AddedToBook<br /><strong>4</strong> RemovedFromBook<br /><strong>8</strong> PostOnly<br /><strong>16</strong> Liquidation<br /><strong>32</strong> ReverseMarginPosition</td>
</tr>
<tr>
<td>UseMargin</td>
<td><strong>boolean.</strong> Margin is not yet supported so this always defaults to false.</td>
</tr>
<tr>
<td>StopPrice</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>PegPriceType</td>
<td><strong>string.</strong> The type of price to peg the Stop to for Stop/Trailing orders.</td>
</tr>
<tr>
<td>PegOffset</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>PegLimitOffset</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>IpAddress</td>
<td><strong>string.</strong> The IP address from where the order was submitted.</td>
</tr>
<tr>
<td>IPv6a</td>
<td><strong>UInt64.</strong> The IPv6 where the order was submitted from. Currently not being used, for future provision. Defaults to 0.</td>
</tr>
<tr>
<td>IPv6a</td>
<td><strong>UInt64.</strong> The IPv6 where the order was submitted from. Currently not being used, for future provision. Defaults to 0.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
</tbody></table>
<h2 id='gettradeshistory'>GetTradesHistory</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a list of trades for a specified account, order ID, user, instrument, or starting and ending time stamp. The returned list begins at start index <em>i,</em> where <em>i</em> is an integer identifying a specific trade in reverse order; that is, the most recent trade has an index of 0. “Depth” is the count of trades to report backwards from <em>StartIndex</em>.</p>

<p>Users with Trading permission can retrieve trade history for accounts with which they are associated; users with Operator permission can retrieve trade history for any account.</p>

<aside class="warning"><strong>Caution</strong>: You must coordinate *StartIndex*, *Depth*, *StartTimeStamp*, and *EndTimeStamp* to retrieve the historical information you need. As the diagram shows, it is possible to specify values (for example, *EndTimeStamp* and *Depth*) that can exclude information you may want (the red areas).</aside>

<aside class="notice"><strong>Note</strong>: In this call, “Depth” refers not to the depth of the order book, but to the count of trades to report. The owner of the trading venue determines how long to retain order history before archiving.</aside>
<h3 id='request-100'>Request</h3>
<blockquote>
<p>All values in the request other than omsId are optional.</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetTradesHistory</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">Depth</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetTradesHistory</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">d7676b7e-0290-1ad2-c08a-1280888ffda7</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">211</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Depth"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the trades took place. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The account ID that made the trades. If no account ID is supplied, the system assumes the default account for the logged-in user making the call. <strong>optional.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument whose trade history is reported. If no instrument ID is included, the system returns trades for all instruments associated with the account ID and OMS. <strong>optional.</strong></td>
</tr>
<tr>
<td>TradeId</td>
<td><strong>integer.</strong> The ID of a specific trade. <strong>optional.</strong></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>integer.</strong> The ID of the order resulting in the trade. If specified, the call returns all trades associated with the order. <strong>optional.</strong></td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> If not specified, the call returns trades associated with the users belonging to the default account for the logged-in user of this OMS. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartTimeStamp</td>
<td><strong>long integer.</strong> The historical date and time at which to begin the trade report, in POSIX format. If not specified, reverts to the start date of this account on the trading venue. <strong>optional.</strong></td>
</tr>
<tr>
<td>EndTimeStamp</td>
<td><strong>long integer.</strong> Date at which to end the trade report, in POSIX format. <strong>optional.</strong></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer.</strong> In this case, the count of trades to return, counting from the <em>StartIndex</em>. If <em>Depth</em> is not specified, returns all trades between <em>BeginTimeStamp</em> and <em>EndTimeStamp</em>, beginning at <em>StartIndex</em>. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer.</strong> The starting index into the history of trades, from 0 (the most recent trade) and moving backwards in time. If not specified, defaults to 0. <strong>optional.</strong></td>
</tr>
<tr>
<td>ExecutionId</td>
<td><strong>integer.</strong> The ID of the individual buy or sell execution. If not specified, returns all. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-100'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1928</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">964</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6713</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SubAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RemainingQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterParty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"185"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderTradeRevision"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NoChange"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsBlockTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderOriginator"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeTimeMS"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663431787</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MakerTaker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Taker"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AdapterTradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">79228162514264337593543950335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyClientUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalHoldAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182602317874025</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1924</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">962</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6709</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SubAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RemainingQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterParty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderTradeRevision"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NoChange"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsBlockTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderOriginator"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeTimeMS"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663089862</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MakerTaker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Taker"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AdapterTradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">79228162514264337593543950335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyClientUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalHoldAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182598898615128</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>The response is an array of objects, each element of which represents the account’s side of a trade (either buy or sell).</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS to which the account belongs.</td>
</tr>
<tr>
<td>ExecutionId</td>
<td><strong>integer.</strong> The ID of this account&#39;s side of the trade. Every trade has two sides.</td>
</tr>
<tr>
<td>TradeId</td>
<td><strong>integer.</strong> The ID of the overall trade.</td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The ID of the order causing the trade (buy or sell).</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account that made the trade (buy or sell).</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> The Name of the account that made the trade (buy or sell).</td>
</tr>
<tr>
<td>SubAccountId</td>
<td><strong>integer.</strong> Not currently used; reserved for future use. Defaults to 0.</td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> An ID supplied by the client to identify the order (like a purchase order number). The <em>clientOrderId</em> defaults to 0 if not supplied.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument being traded. An instrument comprises two products, for example Dollars and BitCoin.</td>
</tr>
<tr>
<td>Side</td>
<td><strong>string.</strong> One of the following potential sides of a trade: <br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /></td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>string.</strong> One of the following potential sides of a trade: <br />Market<br />Limit<br />BlockTrade<br />StopMarket<br />StopLimit<br />TrailingStopLimit<br />StopMarket<br />TrailingStopMarket</td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The unit quantity of this side of the trade.</td>
</tr>
<tr>
<td>RemainingQuantity</td>
<td><strong>decimal.</strong> The number of units remaining to be traded by the order after this execution. This number is not revealed to the other party in the trade. This value is also known as &quot;leave size&quot; or &quot;leave quantity.&quot;</td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal.</strong> The unit price at which the instrument traded.</td>
</tr>
<tr>
<td>Value</td>
<td><strong>decimal.</strong> The total value of the deal. The system calculates this as:<br />unit price X quantity executed.</td>
</tr>
<tr>
<td>CounterParty</td>
<td><strong>string.</strong> The ID of the other party in a block trade. Usually, IDs are stated as integers; this value is an integer written as a string.</td>
</tr>
<tr>
<td>OrderTradeRevision</td>
<td><strong>integer.</strong> The revision number of this trade; usually 1.</td>
</tr>
<tr>
<td>Direction</td>
<td><strong>integer.</strong> The effect of the trade on the instrument&#39;s market price. One of:<br /><strong>0</strong> No change<br /><strong>1</strong> Uptick<br /><strong>2</strong> DownTick</td>
</tr>
<tr>
<td>IsBlockTrade</td>
<td><strong>boolean.</strong> A value of <em>true</em> means that this trade was a block trade; a value of <em>false</em> that it was not a block trade.</td>
</tr>
<tr>
<td>Fee</td>
<td><strong>decimal.</strong> Any fee levied against the trade by the Exchange.</td>
</tr>
<tr>
<td>FeeProductId</td>
<td><strong>integer.</strong> The ID of the product in which the fee was levied.</td>
</tr>
<tr>
<td>OrderOriginator</td>
<td><strong>integer.</strong> The ID of the user who initiated the trade.</td>
</tr>
<tr>
<td>UserName</td>
<td><strong>string.</strong> The UserName of the user who initiated the trade.</td>
</tr>
<tr>
<td>TradeTimeMS</td>
<td><strong>long integer.</strong> The date and time that the trade took place, in milliseconds and POSIX format. All dates and times are UTC.</td>
</tr>
<tr>
<td>MakerTaker</td>
<td><strong>string.</strong> One of the following potential liquidity provider of a trade: <br />Maker<br />Taker<br /></td>
</tr>
<tr>
<td>AdapterTradeId</td>
<td><strong>integer.</strong> The ID of the adapter of the overall trade.</td>
</tr>
<tr>
<td>InsideBid</td>
<td><strong>decimal.</strong> The best (highest) price level of the buy side of the book at the time of the trade.</td>
</tr>
<tr>
<td>InsideBidSize</td>
<td><strong>decimal.</strong> The quantity of the best (highest) price level of the buy side of the book at the time of the trade.</td>
</tr>
<tr>
<td>InsideAsk</td>
<td><strong>decimal.</strong> The best (lowest) price level of the sell side of the book at the time of the trade.</td>
</tr>
<tr>
<td>InsideAskSize</td>
<td><strong>decimal.</strong> The quantity of the best (lowest) price level of the sell side of the book at the time of the trade.</td>
</tr>
<tr>
<td>CounterPartyClientUserId</td>
<td><strong>integer.</strong> Indicates counterparty source of trade (OMS, Remarketer, FIX)</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> Notional product the notional value was captured in</td>
</tr>
<tr>
<td>NotionalRate</td>
<td><strong>decimal.</strong> Notional rate from base currency at time of trade</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> Notional value in base currency of venue at time of trade</td>
</tr>
<tr>
<td>TradeTime</td>
<td><strong>long integer.</strong> The date and time that the trade took place, in C# Ticks. All dates and times are UTC.</td>
</tr>
</tbody></table>
<h2 id='getorderhistorybyorderid'>GetOrderHistoryByOrderId</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves an order with the specified OrderId, includes all the history of that specific order, from being added to the book up to the full execution or rejection, or cancellation. ReceiveTime in POSIX format X 1000 (milliseconds since 1 January 1970)</p>

<p>A user with Trading permission can retrieve an order history only for his/her account/s; a user with Operator permission can retrieve order history for all accounts.</p>

<p>The operator decides up to when the full history of orders will be available before truncating them.</p>
<h3 id='request-101'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOrderHistoryByOrderId</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OrderId</span><span class="p">:</span> <span class="mi">6459</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOrderHistoryByOrderId</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c5f917b9-f173-4c29-a615-1503d2e78023 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">42</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6459</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account&#39;s order history resides. <strong>required.</strong></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The ID of the of the order which you want to get details and history of. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-101'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6459</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3638</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FullyExecuted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678263954878</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638138607548778980</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678263960020</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638138607600197010</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">18307.63</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">18307.63</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">24966.439664</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3637177321149706433874837977</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6455</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3646</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">8959.3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3638</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">10776.98</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3636</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AddedToBook, RemovedFromBook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Last"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6459</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3638</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">10776.98</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">10776.98</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678263954878</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638138607548778980</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678263954881</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638138607548809830</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">18307.63</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">7530.65</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">10268.79434</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3636</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6455</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3646</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">8959.3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3638</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">10776.98</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3636</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AddedToBook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Last"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6459</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3638</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">10776.98</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">10776.98</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678263954878</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638138607548778980</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678263954881</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638138607548807642</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">18307.63</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">7530.65</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">10268.79434</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3636</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6455</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3636</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">7530.65</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3636</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Last"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6459</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3638</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">18307.63</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">18307.63</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678263954878</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638138607548778980</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678263954880</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638138607548795384</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">18307.63</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NewInputAccepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6455</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3636</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">7530.65</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3636</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Last"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>The call <strong>GetOrderHistoryByOrderId</strong> returns an array containing all four types of orders for the named account. The call returns an empty array if there are no orders for the account.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Side</td>
<td><strong>string.</strong> The side of a trade. One of:<br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The ID of the open order. The <em>OrderID</em> is unique in each OMS.</td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal.</strong> The price at which the buy or sell has been ordered.</td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The quantity of the product to be bought or sold.</td>
</tr>
<tr>
<td>DisplayQuantity</td>
<td><strong>decimal.</strong> The quantity available to buy or sell that is publicly displayed to the market. To display a <em>displayQuantity</em> value, an order must be a Limit order with a reserve.</td>
</tr>
<tr>
<td>Instrument</td>
<td><strong>integer.</strong> ID of the instrument being traded. The call <strong>GetInstruments</strong> can supply the instrument IDs that are available.</td>
</tr>
<tr>
<td>Account</td>
<td><strong>integer.</strong> ID of the of the account which submitted the order.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> Name of the of the account which submitted the order.</td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>string.</strong> Will always be <strong>BlockTrade</strong> as this GetOpenTradeReports API will only return open blocktrades.</td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> An ID supplied by the client to identify the order (like a purchase order number). The <em>ClientOrderId</em> defaults to 0 if not supplied.</td>
</tr>
<tr>
<td>OrderState</td>
<td><strong>string.</strong> The current state of the order. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> Working<br /><strong>2</strong> Rejected<br /><strong>3</strong> Canceled<br /><strong>4</strong> Expired<br /><strong>5</strong> FullyExecuted.</td>
</tr>
<tr>
<td>ReceiveTime</td>
<td><strong>long integer.</strong> Time stamp of the order in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone).</td>
</tr>
<tr>
<td>ReceiveTimeTicks</td>
<td><strong>long integer.</strong> Time stamp of the order Microsoft Ticks format and UTC time zone. <strong>Note:</strong> Microsoft Ticks format is usually provided as a string. Here it is provided as a long integer.</td>
</tr>
<tr>
<td>OrigQuantity</td>
<td><strong>decimal.</strong> If the open order has been changed or partially filled, this value shows the original quantity of the order.</td>
</tr>
<tr>
<td>QuantityExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the amount that has been executed.</td>
</tr>
<tr>
<td>GrossValueExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the gross amount that has been executed.</td>
</tr>
<tr>
<td>AvgPrice</td>
<td><strong>decimal.</strong> The average executed price of the order.</td>
</tr>
<tr>
<td>CounterPartyId</td>
<td><strong>integer.</strong> The ID of the account who will be the counter party of the blocktrade.</td>
</tr>
<tr>
<td>ChangeReason</td>
<td><strong>string.</strong> If the order has been changed, this string value holds the reason. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> NewInputAccepted<br /><strong>2</strong> NewInputRejected<br /><strong>3</strong> OtherRejected<br /><strong>4</strong> Expired<br /><strong>5</strong> Trade<br /><strong>6</strong> SystemCanceled_NoMoreMarket<br /><strong>7</strong> SystemCanceled_BelowMinimum<br /><strong>8</strong> SystemCanceled_PriceCollar<br /><strong>9</strong> SystemCanceled_MarginFailed<br /><strong>100</strong> UserModified</td>
</tr>
<tr>
<td>OrigOrderId</td>
<td><strong>integer.</strong> If the order has been changed, this is the ID of the original order.</td>
</tr>
<tr>
<td>OrigClOrdId</td>
<td><strong>integer.</strong> If the order has been changed, this is the ID of the original client order ID.</td>
</tr>
<tr>
<td>EnteredBy</td>
<td><strong>integer.</strong> The ID of the user who submitted the order.</td>
</tr>
<tr>
<td>Username</td>
<td><strong>integer.</strong> The username of the user who submitted the order.</td>
</tr>
<tr>
<td>IsQuote</td>
<td><strong>boolean.</strong> If this order is a quote(created using <strong>CreateQuote</strong> API), the value for <em>IsQuote</em> is <em>true,</em> else <em>false.</em></td>
</tr>
<tr>
<td>InsideAsk</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Ask price.</td>
</tr>
<tr>
<td>InsideAskSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Ask quote.</td>
</tr>
<tr>
<td>InsideBid</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Bid price.</td>
</tr>
<tr>
<td>InsideBidSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Bid quote.</td>
</tr>
<tr>
<td>LastTradePrice</td>
<td><strong>decimal.</strong> The last price that this instrument traded at.</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If this open order has been rejected, this string holds the reason for the rejection.</td>
</tr>
<tr>
<td>IsLockedIn</td>
<td><strong>boolean.</strong> For a block trade, if both parties to the block trade agree that one of the parties will report the trade for both sides, this value is <em>true.</em> Othersise, <em>false.</em></td>
</tr>
<tr>
<td>CancelReason</td>
<td><strong>string.</strong> If this order has been canceled, this string holds the cancellation reason.</td>
</tr>
<tr>
<td>UseMargin</td>
<td><strong>boolean.</strong> Margin is not yet supported so this always defaults to false.</td>
</tr>
<tr>
<td>StopPrice</td>
<td><strong>decimal.</strong> Not applicable for an order resulting from <strong>SubmitBlockTrade</strong></td>
</tr>
<tr>
<td>PegPriceType</td>
<td><strong>string.</strong> The type of price to peg the Stop to for Stop/Trailing orders.</td>
</tr>
<tr>
<td>PegOffset</td>
<td><strong>decimal.</strong> Not applicable for an order resulting from <strong>SubmitBlockTrade</strong></td>
</tr>
<tr>
<td>PegLimitOffset</td>
<td><strong>decimal.</strong> Not applicable for an order resulting from <strong>SubmitBlockTrade</strong></td>
</tr>
<tr>
<td>IpAddress</td>
<td><strong>string.</strong> The IP address from where the order was submitted.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
</tbody></table>
<h2 id='gettickerhistory'>GetTickerHistory</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Requests a ticker history (high, low, open, close, volume, bid, ask, ID) of a specific instrument from the given <strong>FromDate</strong> up to the <strong>ToDate</strong> in the request payload. You will need to format the returned data per your requirements.</p>

<p>Because permission is Public, any user can retrieve the ticker history for any instrument on the OMS.</p>
<h3 id='request-102'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetTickerHistory</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Interval</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
  <span class="na">FromDate</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-01-18 01:02:03</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">ToDate</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-08-31 23:59:59</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetTickerHistory</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">117</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
  </span><span class="nl">"FromDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-18 01:02:03"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ToDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-31 23:59:59"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of a specific instrument. <strong>required.</strong></td>
</tr>
<tr>
<td>Interval</td>
<td><strong>integer.</strong> The time between ticks, in seconds. For example, a value of 60 returns ticker array elements between <em>FromDate</em> to <em>ToDate</em> in 60-second increments. <strong>required.</strong></td>
</tr>
<tr>
<td>FromDate</td>
<td><strong>string.</strong> Oldest date from which the ticker history will start; in DateTime format. If hour:minutes:seconds is not defined, it defaults to 00:00:00. <strong>required.</strong></td>
</tr>
<tr>
<td>ToDate</td>
<td><strong>string.</strong> Most recent date, at which the ticker history will end; in DateTime format. If hour:minutes:seconds is not defined, it defaults to 00:00:00. <strong>required.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-102'>Response</h3>
<blockquote>
<p>The response is an array of arrays of comma-separated, but unlabeled, numbers. This sample shows comments applied to identify the data being returned (comments are not part of the response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">[</span><span class="w">
        </span><span class="mi">1692926460000</span><span class="p">,</span><span class="w"> </span><span class="err">//EndDateTime</span><span class="w">
        </span><span class="mf">28432.44</span><span class="p">,</span><span class="w"> </span><span class="err">//High</span><span class="w">
        </span><span class="mf">28432.44</span><span class="p">,</span><span class="w"> </span><span class="err">//Low</span><span class="w">
        </span><span class="mf">28432.44</span><span class="p">,</span><span class="w"> </span><span class="err">//Open</span><span class="w">
        </span><span class="mf">28432.44</span><span class="p">,</span><span class="w"> </span><span class="err">//Close</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//Volume</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//Best</span><span class="w"> </span><span class="err">Bid</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//Best</span><span class="w"> </span><span class="err">Ask</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">//InstrumentId</span><span class="w">
        </span><span class="mi">1692926400000</span><span class="w"> </span><span class="err">//BeginDateTime</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="err">;</span><span class="w">
</span></code></pre></div>
<p>Returns an array of arrays dating from the <em>FromDate</em> value of the request to the <em>ToDate</em>. The data are returned oldest-date first. The data returned in the arrays are not labeled.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>EndDateTime</td>
<td><strong>long integer.</strong> The end/closing date and time of the ticker, in UTC and POSIX format.</td>
</tr>
<tr>
<td>High</td>
<td><strong>decimal.</strong> The Highest Trade Price for the Time-Period ( 0 if no trades ).</td>
</tr>
<tr>
<td>Low</td>
<td><strong>decimal.</strong> The Lowest Trade Price for the Time-Period ( 0 if no trades ).</td>
</tr>
<tr>
<td>Open</td>
<td><strong>decimal.</strong> The Opening Trade Price for the Time-Period ( 0 if no trades ).</td>
</tr>
<tr>
<td>Close</td>
<td><strong>decimal.</strong> The Last Trade Price for the Time-Period ( 0 if no trades ).</td>
</tr>
<tr>
<td>Volume</td>
<td><strong>decimal.</strong> The Total Trade Volume since the last Tick.</td>
</tr>
<tr>
<td>Bid</td>
<td><strong>decimal.</strong> The best bid price at the time of the Tick.</td>
</tr>
<tr>
<td>Ask</td>
<td><strong>decimal.</strong> The best ask price at the time of the Tick.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument.</td>
</tr>
<tr>
<td>BeginDateTime</td>
<td><strong>long integer.</strong> The start/opening date and time of the ticker, in UTC and POSIX format.</td>
</tr>
</tbody></table>
<h2 id='getlasttrades'>GetLastTrades</h2>
<p><strong>Permissions:</strong> Public, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets the trades that happened for a specific instrument, parameter <strong>Count</strong> can be set to limit the results, number of results defaults to <strong>100</strong> if not defined.</p>
<h3 id='request-103'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//Get all trades for instrument id 1</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetLastTrades</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//Get the 10 most recent trades for instrumentid 1</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetLastTrades</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Count</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetLastTrades</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">48</span>

<span class="err">//Get</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">trades</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">instrument</span><span class="w"> </span><span class="err">id</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Get</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="err">most</span><span class="w"> </span><span class="err">recent</span><span class="w"> </span><span class="err">trades</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">instrumentid</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Count"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>InstrumentId</td>
<td>The id of the instrument, symbol is not accepted.If you don&#39;t specify this, response will have the current timestamp which is not valid. <strong>required.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td>ID of the OMS where the pair or instrument is being traded. <strong>required.</strong></td>
</tr>
<tr>
<td>Count</td>
<td>Value represents the number of trades you want to get, value of 10 will return 10 most recent trades. If not set, 100 most recent trades for the instrument will be included in the results. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-103'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">[</span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w"> </span><span class="mi">1970</span><span class="p">,</span><span class="w"> </span><span class="mi">5922</span><span class="p">,</span><span class="w"> </span><span class="mi">5923</span><span class="p">,</span><span class="w"> </span><span class="mi">1675332676849</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.98</span><span class="p">,</span><span class="w"> </span><span class="mi">1970</span><span class="p">,</span><span class="w"> </span><span class="mi">5922</span><span class="p">,</span><span class="w"> </span><span class="mi">6012</span><span class="p">,</span><span class="w"> </span><span class="mi">1676397856371</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
</span><span class="p">]</span><span class="err">;</span><span class="w">
</span></code></pre></div>
<p>Returns an object with multiple arrays as a response, each array represents 1 trade.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>0 (TradeId)</td>
<td><strong>integer.</strong> The ID of this trade.</td>
</tr>
<tr>
<td>1 (InstrumentId)</td>
<td><strong>integer.</strong> The ID of the instrument.</td>
</tr>
<tr>
<td>2 (Quantity)</td>
<td><strong>decimal.</strong> The quantity of the instrument traded.</td>
</tr>
<tr>
<td>3 (Price)</td>
<td><strong>decimal.</strong> The price at which the instrument was traded.</td>
</tr>
<tr>
<td>4 (Order1)</td>
<td><strong>integer.</strong> The ID of the first order that resulted in the trade, either Buy or Sell.</td>
</tr>
<tr>
<td>5 (Order2)</td>
<td><strong>integer.</strong> The ID of the second order that resulted in the trade, either Buy or Sell.</td>
</tr>
<tr>
<td>6 (Tradetime)</td>
<td><strong>long integer.</strong> UTC trade time in Total Milliseconds. POSIX format.</td>
</tr>
<tr>
<td>7 (Direction)</td>
<td><strong>integer.</strong> Effect of the trade on the instrument’s market price. One of:<br />0 NoChange<br />1 UpTick<br />2 DownTick</td>
</tr>
<tr>
<td>8 (TakerSide)</td>
<td><strong>integer.</strong> Which side of the trade took liquidity? One of:<br />0 Buy<br />1 Sell<br /><br />The maker side of the trade provides liquidity by placing the order on the book (this can be a buy or a sell order). The other, taker, side takes the liquidity. It, too, can be buy-side or sell-side.</td>
</tr>
<tr>
<td>9 (BlockTrade)</td>
<td><strong>boolean.</strong> Was this a privately negotiated trade that was reported to the OMS? A private trade returns 1 (<em>true</em>); otherwise 0 (<em>false</em>). Default is <em>false</em>. Block trades are not supported in exchange version 3.1</td>
</tr>
<tr>
<td>10 (order1ClientId or order2ClientId)</td>
<td><strong>integer.</strong> The client-supplied order ID for the trade. Internal logic determines whether the program reports the <em>order1ClientId</em> or the <em>order2ClientId</em>.</td>
</tr>
</tbody></table>
<h2 id='getlevel1summary'>GetLevel1Summary</h2>
<p><strong>Permissions:</strong> Trading, Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Provides a current Level 1 snapshot (best bid, best offer and other data such lasttradedprice) of all instruments trading on an OMS.</p>
<h3 id='request-104'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetLevel1Summary</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetLevel1Summary</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">27</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-104'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"{ </span><span class="se">\"</span><span class="s2">OMSId</span><span class="se">\"</span><span class="s2">:1, </span><span class="se">\"</span><span class="s2">InstrumentId</span><span class="se">\"</span><span class="s2">:1, </span><span class="se">\"</span><span class="s2">BestBid</span><span class="se">\"</span><span class="s2">:30000, </span><span class="se">\"</span><span class="s2">BestOffer</span><span class="se">\"</span><span class="s2">:32000, </span><span class="se">\"</span><span class="s2">LastTradedPx</span><span class="se">\"</span><span class="s2">:29354.89, </span><span class="se">\"</span><span class="s2">LastTradedQty</span><span class="se">\"</span><span class="s2">:0.2563, </span><span class="se">\"</span><span class="s2">LastTradeTime</span><span class="se">\"</span><span class="s2">:1690773094972, </span><span class="se">\"</span><span class="s2">SessionOpen</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">SessionHigh</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">SessionLow</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">SessionClose</span><span class="se">\"</span><span class="s2">:29354.89, </span><span class="se">\"</span><span class="s2">Volume</span><span class="se">\"</span><span class="s2">:0.2563, </span><span class="se">\"</span><span class="s2">CurrentDayVolume</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">CurrentDayNotional</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">CurrentDayNumTrades</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">CurrentDayPxChange</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">Rolling24HrVolume</span><span class="se">\"</span><span class="s2">:0.0000000000000000000000000000, </span><span class="se">\"</span><span class="s2">Rolling24HrNotional</span><span class="se">\"</span><span class="s2">:0.000000000000000000000000, </span><span class="se">\"</span><span class="s2">Rolling24NumTrades</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">Rolling24HrPxChange</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">TimeStamp</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1690782922150</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">BidQty</span><span class="se">\"</span><span class="s2">:1, </span><span class="se">\"</span><span class="s2">AskQty</span><span class="se">\"</span><span class="s2">:1, </span><span class="se">\"</span><span class="s2">BidOrderCt</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">AskOrderCt</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">Rolling24HrPxChangePercent</span><span class="se">\"</span><span class="s2">:0 }"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"{ </span><span class="se">\"</span><span class="s2">OMSId</span><span class="se">\"</span><span class="s2">:1, </span><span class="se">\"</span><span class="s2">InstrumentId</span><span class="se">\"</span><span class="s2">:2, </span><span class="se">\"</span><span class="s2">BestBid</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">BestOffer</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">LastTradedPx</span><span class="se">\"</span><span class="s2">:2500, </span><span class="se">\"</span><span class="s2">LastTradedQty</span><span class="se">\"</span><span class="s2">:1, </span><span class="se">\"</span><span class="s2">LastTradeTime</span><span class="se">\"</span><span class="s2">:1689087260408, </span><span class="se">\"</span><span class="s2">SessionOpen</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">SessionHigh</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">SessionLow</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">SessionClose</span><span class="se">\"</span><span class="s2">:2500, </span><span class="se">\"</span><span class="s2">Volume</span><span class="se">\"</span><span class="s2">:1, </span><span class="se">\"</span><span class="s2">CurrentDayVolume</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">CurrentDayNotional</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">CurrentDayNumTrades</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">CurrentDayPxChange</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">Rolling24HrVolume</span><span class="se">\"</span><span class="s2">:0.0000, </span><span class="se">\"</span><span class="s2">Rolling24HrNotional</span><span class="se">\"</span><span class="s2">:0.0000, </span><span class="se">\"</span><span class="s2">Rolling24NumTrades</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">Rolling24HrPxChange</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">TimeStamp</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1690782922150</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">BidQty</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">AskQty</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">BidOrderCt</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">AskOrderCt</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">Rolling24HrPxChangePercent</span><span class="se">\"</span><span class="s2">:0 }"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"{ </span><span class="se">\"</span><span class="s2">OMSId</span><span class="se">\"</span><span class="s2">:1, </span><span class="se">\"</span><span class="s2">InstrumentId</span><span class="se">\"</span><span class="s2">:3, </span><span class="se">\"</span><span class="s2">BestBid</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">BestOffer</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">LastTradedPx</span><span class="se">\"</span><span class="s2">:9.66, </span><span class="se">\"</span><span class="s2">LastTradedQty</span><span class="se">\"</span><span class="s2">:0.001, </span><span class="se">\"</span><span class="s2">LastTradeTime</span><span class="se">\"</span><span class="s2">:1656645761755, </span><span class="se">\"</span><span class="s2">SessionOpen</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">SessionHigh</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">SessionLow</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">SessionClose</span><span class="se">\"</span><span class="s2">:9.66, </span><span class="se">\"</span><span class="s2">Volume</span><span class="se">\"</span><span class="s2">:0.001, </span><span class="se">\"</span><span class="s2">CurrentDayVolume</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">CurrentDayNotional</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">CurrentDayNumTrades</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">CurrentDayPxChange</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">Rolling24HrVolume</span><span class="se">\"</span><span class="s2">:0.000, </span><span class="se">\"</span><span class="s2">Rolling24HrNotional</span><span class="se">\"</span><span class="s2">:0.00000, </span><span class="se">\"</span><span class="s2">Rolling24NumTrades</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">Rolling24HrPxChange</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">TimeStamp</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">1690782921869</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">BidQty</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">AskQty</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">BidOrderCt</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">AskOrderCt</span><span class="se">\"</span><span class="s2">:0, </span><span class="se">\"</span><span class="s2">Rolling24HrPxChangePercent</span><span class="se">\"</span><span class="s2">:0 }"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array with multiple objects, each object represents the Level1 data of a specific instrument.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. The ID of the instrument being tracked.</td>
</tr>
<tr>
<td>BestBid</td>
<td><strong>decimal</strong>. The current best bid for the instrument.</td>
</tr>
<tr>
<td>BestOffer</td>
<td><strong>decimal</strong>. The current best offer for the instrument.</td>
</tr>
<tr>
<td>LastTradedPx</td>
<td><strong>decimal</strong>. The last-traded price for the instrument.</td>
</tr>
<tr>
<td>LastTradedQty</td>
<td><strong>decimal</strong>. The last-traded quantity for the instrument.</td>
</tr>
<tr>
<td>LastTradeTime</td>
<td><strong>long integer</strong>. The time of the last trade, in POSIX format.</td>
</tr>
<tr>
<td>SessionOpen</td>
<td><strong>decimal</strong>. Opening price. In markets with openings and closings, this is the opening price for the current session; in 24-hour markets, it is the price as of UTC Midnight.</td>
</tr>
<tr>
<td>SessionHigh</td>
<td><strong>decimal</strong>. Highest price during the trading day, either during a session with opening and closing prices or UTC midnight to UTC midnight.</td>
</tr>
<tr>
<td>SessionLow</td>
<td><strong>decimal</strong>. Lowest price during the trading day, either during a session with opening and closing prices or UTC midnight to UTC midnight.</td>
</tr>
<tr>
<td>SessionClose</td>
<td><strong>decimal</strong>. The closing price. In markets with openings and closings, this is the closing price for the current session; in 24-hour markets, it is the price as of UTC Midnight.</td>
</tr>
<tr>
<td>Volume</td>
<td><strong>decimal</strong>. The last-traded quantity for the instrument, same value as LastTradedQty</td>
</tr>
<tr>
<td>CurrentDayVolume</td>
<td><strong>decimal</strong>. The unit volume of the instrument traded either during a session with openings and closings or in 24-hour markets, the period from UTC Midnight to UTC Midnight.</td>
</tr>
<tr>
<td>CurrentDayNumTrades</td>
<td><strong>integer</strong>. The number of trades during the current day, either during a session with openings and closings or in 24-hour markets, the period from UTC Midnight to UTC Midnight.</td>
</tr>
<tr>
<td>CurrentDayPxChange</td>
<td><strong>decimal</strong>. Current day price change, either during a trading session or UTC Midnight to UTC midnight.</td>
</tr>
<tr>
<td>CurrentNotional</td>
<td><strong>decimal.</strong> Current day quote volume - resets at UTC Midnight.</td>
</tr>
<tr>
<td>Rolling24HrNotional</td>
<td><strong>decimal.</strong> Rolling 24 hours quote volume.</td>
</tr>
<tr>
<td>Rolling24HrVolume</td>
<td><strong>decimal</strong>. Unit volume of the instrument during the past 24 hours, regardless of time zone. Recalculates continuously.</td>
</tr>
<tr>
<td>Rolling24HrNumTrades</td>
<td><strong>integer</strong>. Number of trades during the past 24 hours, regardless of time zone. Recalculates continuously.</td>
</tr>
<tr>
<td>Rolling24HrPxChange</td>
<td><strong>decimal</strong>. Price change during the past 24 hours, regardless of time zone. Recalculates continuously.</td>
</tr>
<tr>
<td>TimeStamp</td>
<td><strong>string</strong>. The time this information was provided, in POSIX format.</td>
</tr>
<tr>
<td>BidQty</td>
<td><strong>decimal.</strong> The quantity currently being bid.</td>
</tr>
<tr>
<td>AskQty</td>
<td><strong>decimal.</strong> The quantity currently being asked.</td>
</tr>
<tr>
<td>BidOrderCt</td>
<td><strong>integer.</strong> The count of bid orders.</td>
</tr>
<tr>
<td>AskOrderCt</td>
<td><strong>integer.</strong> The count of ask orders.</td>
</tr>
<tr>
<td>Rolling24HrPxChangePercent</td>
<td><strong>decimal.</strong> Percent change in price during the past 24hours.</td>
</tr>
</tbody></table>
<h2 id='getlevel1summarymin'>GetLevel1SummaryMin</h2>
<p><strong>Permissions:</strong> Trading, Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves the latest Level 1 Snapshot of all markets/instruments. Snapshot includes <strong>LastTradedPx</strong>, <strong>Rolling24HrPxChange</strong>, <strong>Rolling24HrPxChangePercent</strong>, <strong>Rolling24HrVolume</strong>. Can also be filtered according to instrument ids.</p>
<h3 id='request-105'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetLevel1SummaryMin</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">InstrumentIds</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[1,2,3]</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetLevel1SummaryMin</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">11882457-4c83-4d7a-a932-890ec3ac5aa2</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">48</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentIds"</span><span class="p">:</span><span class="s2">"[1]"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentIds</td>
<td><strong>string.</strong> An array but will be passed as a string. List of instrument ids to get level1 summary of. If this field is not specified, level1 summary of all instruments will be returned. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-105'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">//InstrumentId</span><span class="w">
        </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w"> </span><span class="err">//Instrument</span><span class="w"> </span><span class="err">symbol</span><span class="w">
        </span><span class="mi">29900</span><span class="p">,</span><span class="w"> </span><span class="err">//LastTradedPx</span><span class="w">
        </span><span class="mi">-1100</span><span class="p">,</span><span class="w"> </span><span class="err">//Rolling</span><span class="mi">24</span><span class="err">HrPxChange</span><span class="w">
        </span><span class="mf">-3.5483870967741935483870967700</span><span class="p">,</span><span class="w"> </span><span class="err">//Rolling</span><span class="mi">24</span><span class="err">HrPxChangePercent</span><span class="w">
        </span><span class="mf">0.0021000000000000000000000000</span><span class="w"> </span><span class="err">//Rolling</span><span class="mi">24</span><span class="err">HrVolume</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ETHUSD"</span><span class="p">,</span><span class="w">
        </span><span class="mi">20030</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="mf">0.0000</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument.</td>
</tr>
<tr>
<td>InstrumentSymbol</td>
<td><strong>string.</strong> The symbol of the instrument.</td>
</tr>
<tr>
<td>LastTradedPX</td>
<td><strong>decimal.</strong> The last-traded price for the instrument.</td>
</tr>
<tr>
<td>Rolling24HrVolume</td>
<td><strong>decimal.</strong> The unit volume of the instrument that is the subject of the snapshot during the past 24 hours.</td>
</tr>
<tr>
<td>Rolling24HrPxChange</td>
<td><strong>decimal.</strong> Change in price during the past 24 hours.</td>
</tr>
<tr>
<td>Rolling24HrPxChangePercent</td>
<td><strong>decimal.</strong> Percent change in price during the past 24 hours.</td>
</tr>
</tbody></table>
<h2 id='getopentradereports'>GetOpenTradeReports</h2>
<p><strong>Permissions:</strong> Operator,Trading,AccountReadOnly,Manual Trader<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves the Open Trade Reports(block trades), for the given accountId. ReceiveTime in POSIX format X 1000 (milliseconds since 1 January 1970)</p>
<h3 id='request-106'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOpenTradeReports</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOpenTradeReports</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">cf165646-2021-4460-9fc4-234e0cec454b</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account whose open blocktrade/s will be retrieved. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-106'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6723</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">29500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2563</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2563</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnotherName"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BlockTrade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1683190853154</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638187876531538042</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1683190853159</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638187876531592832</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2563</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NewInputAccepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6723</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">30500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Last"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Side</td>
<td><strong>string.</strong> The side of a trade. One of:<br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The ID of the open order. The <em>OrderID</em> is unique in each OMS.</td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal.</strong> The price at which the buy or sell has been ordered.</td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The quantity of the product to be bought or sold.</td>
</tr>
<tr>
<td>DisplayQuantity</td>
<td><strong>decimal.</strong> The quantity available to buy or sell that is publicly displayed to the market. To display a <em>displayQuantity</em> value, an order must be a Limit order with a reserve.</td>
</tr>
<tr>
<td>Instrument</td>
<td><strong>integer.</strong> ID of the instrument being traded. The call <strong>GetInstruments</strong> can supply the instrument IDs that are available.</td>
</tr>
<tr>
<td>Account</td>
<td><strong>integer.</strong> ID of the of the account which submitted the order.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> Name of the of the account which submitted the order.</td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>string.</strong> Will always be <strong>BlockTrade</strong> as this GetOpenTradeReports API will only return open blocktrades.</td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> An ID supplied by the client to identify the order (like a purchase order number). The <em>ClientOrderId</em> defaults to 0 if not supplied.</td>
</tr>
<tr>
<td>OrderState</td>
<td><strong>string.</strong> The current state of the order. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> Working<br /><strong>2</strong> Rejected<br /><strong>3</strong> Canceled<br /><strong>4</strong> Expired<br /><strong>5</strong> FullyExecuted.</td>
</tr>
<tr>
<td>ReceiveTime</td>
<td><strong>long integer.</strong> Time stamp of the order in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone).</td>
</tr>
<tr>
<td>ReceiveTimeTicks</td>
<td><strong>long integer.</strong> Time stamp of the order Microsoft Ticks format and UTC time zone. <strong>Note:</strong> Microsoft Ticks format is usually provided as a string. Here it is provided as a long integer.</td>
</tr>
<tr>
<td>OrigQuantity</td>
<td><strong>decimal.</strong> If the open order has been changed or partially filled, this value shows the original quantity of the order.</td>
</tr>
<tr>
<td>QuantityExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the amount that has been executed.</td>
</tr>
<tr>
<td>GrossValueExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the gross amount that has been executed.</td>
</tr>
<tr>
<td>AvgPrice</td>
<td><strong>decimal.</strong> The average executed price of the order.</td>
</tr>
<tr>
<td>CounterPartyId</td>
<td><strong>integer.</strong> The ID of the account who will be the counter party of the blocktrade.</td>
</tr>
<tr>
<td>ChangeReason</td>
<td><strong>string.</strong> If the order has been changed, this string value holds the reason. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> NewInputAccepted<br /><strong>2</strong> NewInputRejected<br /><strong>3</strong> OtherRejected<br /><strong>4</strong> Expired<br /><strong>5</strong> Trade<br /><strong>6</strong> SystemCanceled_NoMoreMarket<br /><strong>7</strong> SystemCanceled_BelowMinimum<br /><strong>8</strong> SystemCanceled_PriceCollar<br /><strong>9</strong> SystemCanceled_MarginFailed<br /><strong>100</strong> UserModified</td>
</tr>
<tr>
<td>OrigOrderId</td>
<td><strong>integer.</strong> If the order has been changed, this is the ID of the original order.</td>
</tr>
<tr>
<td>OrigClOrdId</td>
<td><strong>integer.</strong> If the order has been changed, this is the ID of the original client order ID.</td>
</tr>
<tr>
<td>EnteredBy</td>
<td><strong>integer.</strong> The ID of the user who submitted the order.</td>
</tr>
<tr>
<td>Username</td>
<td><strong>integer.</strong> The username of the user who submitted the order.</td>
</tr>
<tr>
<td>IsQuote</td>
<td><strong>boolean.</strong> If this order is a quote(created using <strong>CreateQuote</strong> API), the value for <em>IsQuote</em> is <em>true,</em> else <em>false.</em></td>
</tr>
<tr>
<td>InsideAsk</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Ask price.</td>
</tr>
<tr>
<td>InsideAskSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Ask quote.</td>
</tr>
<tr>
<td>InsideBid</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Bid price.</td>
</tr>
<tr>
<td>InsideBidSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Bid quote.</td>
</tr>
<tr>
<td>LastTradePrice</td>
<td><strong>decimal.</strong> The last price that this instrument traded at.</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If this open order has been rejected, this string holds the reason for the rejection.</td>
</tr>
<tr>
<td>IsLockedIn</td>
<td><strong>boolean.</strong> For a block trade, if both parties to the block trade agree that one of the parties will report the trade for both sides, this value is <em>true.</em> Othersise, <em>false.</em></td>
</tr>
<tr>
<td>CancelReason</td>
<td><strong>string.</strong> If this order has been canceled, this string holds the cancellation reason.</td>
</tr>
<tr>
<td>UseMargin</td>
<td><strong>boolean.</strong> Margin is not yet supported so this always defaults to false.</td>
</tr>
<tr>
<td>StopPrice</td>
<td><strong>decimal.</strong> Not applicable for an order resulting from <strong>SubmitBlockTrade</strong></td>
</tr>
<tr>
<td>PegPriceType</td>
<td><strong>string.</strong> Not applicable for an order resulting from <strong>SubmitBlockTrade</strong></td>
</tr>
<tr>
<td>PegOffset</td>
<td><strong>decimal.</strong> Not applicable for an order resulting from <strong>SubmitBlockTrade</strong></td>
</tr>
<tr>
<td>PegLimitOffset</td>
<td><strong>decimal.</strong> Not applicable for an order resulting from <strong>SubmitBlockTrade</strong></td>
</tr>
<tr>
<td>IpAddress</td>
<td><strong>string.</strong> The IP address from where the order was submitted.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
</tbody></table>
<h2 id='getorders'>GetOrders</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a list of the latest states of orders for an account. ReceiveTime in POSIX format X 1000 (milliseconds since 1 January 1970).</p>

<p>Results can also be filtered according to different search parameters such as OrderState, InstrumentId, OrderId etc. This API functions just like <a href="https://trading.alphapointuniversity.com/?javascript#getordershistory"><strong>GetOrdersHistory</strong></a></p>

<p>A user with Trading permission can retrieve orders only for accounts is associated with; a user with Operator permission can retrieve orders for any account.</p>

<aside class="notice"><strong>Note:</strong> In this call, "Depth" refers to the count of trades to report, not the depth of the order book.</aside>
<h3 id='request-107'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOrders</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOrders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c5f917b9-f173-4c29-a615-1503d2e78023 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>Integer</strong>. The ID of the OMS on which the orders took place. If no other values are specified, the call returns the orders associated with the default account for the logged-in user on this OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>Integer</strong>. The account ID that made the trades. A user with Trading permission must be associated with this account, although other users also can be associated with the account. <strong>required.</strong></td>
</tr>
<tr>
<td>OrderState</td>
<td><strong>string.</strong> The current state of the order. Can be used to filter results. If not specified all orders regardless of the order state will be returned. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> Working<br /><strong>2</strong> Rejected<br /><strong>3</strong> Canceled<br /><strong>4</strong> Expired<br /><strong>5</strong> FullyExecuted. <strong>optional.</strong></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer</strong>. ID for the order.Can be used to filter results. Can be used to filter for a specific orderid. There is a specific API call <strong>GetOrderHistoryByOrderId</strong> for filtering orders by <strong>OrderId</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer</strong>. A user-assigned ID for the order (like a purchase-order number assigned by a company).Can be used to filter results. <em>clientOrderId</em> defaults to 0. <strong>optional.</strong></td>
</tr>
<tr>
<td>OriginalOrderId</td>
<td><strong>long integer</strong>. The original ID of the order. If specified, the call returns changed orders associated with this order ID. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>OriginalClientOrderId</td>
<td><strong>long integer</strong>. If the order has been changed, shows the original client order ID, a value that the client can create (much like a purchase order). Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer</strong>. The ID of the user whose account orders will be returned. If not specified, the call returns the orders of the logged-in user.Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>long integer</strong>. The ID of the instrument named in the order. If not specified, the call returns orders for all instruments traded by this account. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartTimestamp</td>
<td><strong>long integer</strong>. Date and time at which to begin the orders history, in POSIX format. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>EndTimestamp</td>
<td><strong>long integer</strong>. Date and time at which to end the orders report, in POSIX format. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer</strong>. In this case, the maximum number/count of orders to return, counting from the <em>StartIndex</em> if it is also specified. If not specified, returns all orders from the most recent to oldest; results can vary depending if other optional fields are defined such as <em>StartIndex</em>, <em>StartTimestamp</em>, and <em>EndTimestamp</em>. Can be used to filter results and for pagination. <strong>optional.</strong></td>
</tr>
<tr>
<td>Limit</td>
<td><strong>integer</strong>. Functions exactly the same as the <strong>Depth</strong> field. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer</strong>. A value of 0 means the first object in the result will be the the most recent order, a value of 2 means that the first object in the result set will be the third most recent order. If not specified, defaults to 0. Can be used to filter results or for pagination. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-107'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6713</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FullyExecuted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663431785</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182602317851821</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663431791</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182602317910891</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6713</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">79228162514264337593543950335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6709</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FullyExecuted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663089848</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182598898484597</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663089923</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182598899230197</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6709</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">79228162514264337593543950335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects, each object represents an order. The call returns an empty array if there are no orders for the account.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Side</td>
<td><strong>string.</strong> The side of a trade. One of:<br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The ID of the open order. The <em>OrderID</em> is unique in each OMS.</td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal.</strong> The price at which the buy or sell has been ordered.</td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The quantity of the product to be bought or sold.</td>
</tr>
<tr>
<td>DisplayQuantity</td>
<td><strong>decimal.</strong> The quantity available to buy or sell that is publicly displayed to the market. To display a <em>displayQuantity</em> value, an order must be a Limit order with a reserve.</td>
</tr>
<tr>
<td>Instrument</td>
<td><strong>integer.</strong> ID of the instrument being traded. The call <strong>GetInstruments</strong> can supply the instrument IDs that are available.</td>
</tr>
<tr>
<td>Account</td>
<td><strong>integer.</strong> ID of the of the account which the order belongs to.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> Name of the of the account which which the order belongs to.</td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>string.</strong> Describes the type of order this is. One of:<br /><strong>0</strong> Unknown (an error condition)<br /><strong>1</strong> Market order<br /><strong>2</strong> Limit<br /><strong>3</strong> StopMarket<br /><strong>4</strong> StopLimit<br /><strong>5</strong> TrailingStopMarket<br /><strong>6</strong> TrailingStopLimit<br /><strong>7</strong> BlockTrade</td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> An ID supplied by the client to identify the order (like a purchase order number). The <em>ClientOrderId</em> defaults to 0 if not supplied.</td>
</tr>
<tr>
<td>OrderState</td>
<td><strong>string.</strong> The current or the latest state of the order. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> Working<br /><strong>2</strong> Rejected<br /><strong>3</strong> Canceled<br /><strong>4</strong> Expired<br /><strong>5</strong> Fully Executed.</td>
</tr>
<tr>
<td>ReceiveTime</td>
<td><strong>long integer.</strong> Time stamp of the order in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone).</td>
</tr>
<tr>
<td>ReceiveTimeTicks</td>
<td><strong>long integer.</strong> Time stamp of the order Microsoft Ticks format and UTC time zone. <strong>Note:</strong> Microsoft Ticks format is usually provided as a string. Here it is provided as a long integer.</td>
</tr>
<tr>
<td>LastUpdatedTime</td>
<td><strong>long integer.</strong> Time stamp when the order was last updated, in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone).</td>
</tr>
<tr>
<td>LastUpdatedTimeTicks</td>
<td><strong>long integer.</strong> Time stamp when the order was last updated, in Microsoft Ticks format and UTC time zone. <strong>Note:</strong> Microsoft Ticks format is usually provided as a string. Here it is provided as a long integer.</td>
</tr>
<tr>
<td>OrigQuantity</td>
<td><strong>decimal.</strong> If the open order has been changed or partially filled, this value shows the original quantity of the order.</td>
</tr>
<tr>
<td>QuantityExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the amount that has been executed.</td>
</tr>
<tr>
<td>GrossValueExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the gross amount that has been executed.</td>
</tr>
<tr>
<td>ExecutableValue</td>
<td><strong>decimal.</strong> Defaults to 0.</td>
</tr>
<tr>
<td>AvgPrice</td>
<td><strong>decimal.</strong> The average executed price of the order.</td>
</tr>
<tr>
<td>CounterPartyId</td>
<td><strong>integer.</strong> The ID of the account who is the counterparty for the trade if order is already executed, either partial or fully executed.</td>
</tr>
<tr>
<td>ChangeReason</td>
<td><strong>string.</strong> If the order has been changed, this string value holds the reason. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> NewInputAccepted<br /><strong>2</strong> NewInputRejected<br /><strong>3</strong> OtherRejected<br /><strong>4</strong> Expired<br /><strong>5</strong> Trade<br /><strong>6</strong> SystemCanceled_NoMoreMarket<br /><strong>7</strong> SystemCanceled_BelowMinimum<br /><strong>8</strong> SystemCanceled_PriceCollar<br /><strong>9</strong> SystemCanceled_MarginFailed<br /><strong>100</strong> UserModified. An order that is newly added to book will have <strong>NewInputAccepted</strong> value by default.</td>
</tr>
<tr>
<td>OrigOrderId</td>
<td><strong>long integer.</strong> If the order is a replacement order, this is the ID of the original order.</td>
</tr>
<tr>
<td>OrigClOrdId</td>
<td><strong>long integer.</strong> If the order is a replacement order, this is the client order ID or the original order.</td>
</tr>
<tr>
<td>EnteredBy</td>
<td><strong>integer.</strong> The ID of the user who submitted the order.</td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user who submitted the order.</td>
</tr>
<tr>
<td>IsQuote</td>
<td><strong>boolean.</strong> If this order is a quote(created using <a href="#">CreateQuote</a>), the value for <em>IsQuote</em> is <em>true,</em> otherwise it is <em>false.</em></td>
</tr>
<tr>
<td>InsideAsk</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Ask price.</td>
</tr>
<tr>
<td>InsideAskSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Ask quote.</td>
</tr>
<tr>
<td>InsideBid</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Bid price.</td>
</tr>
<tr>
<td>InsideBidSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Bid quote.</td>
</tr>
<tr>
<td>LastTradePrice</td>
<td><strong>decimal.</strong> The last price that this instrument traded at.</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If this open order has been rejected, this string holds the reason for the rejection.</td>
</tr>
<tr>
<td>IsLockedIn</td>
<td><strong>boolean.</strong> For a block trade, if both parties to the block trade agree that one of the parties will report the trade for both sides, this value is <em>true.</em> Othersise, <em>false.</em></td>
</tr>
<tr>
<td>CancelReason</td>
<td><strong>string.</strong> If this order has been canceled, this string holds the cancellation reason.</td>
</tr>
<tr>
<td>OrderFlag</td>
<td><strong>string.</strong> One or more of:<br /><strong>1</strong> NoAccountRiskCheck<br /><strong>2</strong> AddedToBook<br /><strong>4</strong> RemovedFromBook<br /><strong>8</strong> PostOnly<br /><strong>16</strong> Liquidation<br /><strong>32</strong> ReverseMarginPosition</td>
</tr>
<tr>
<td>UseMargin</td>
<td><strong>boolean.</strong> Margin is not yet supported so this always defaults to false.</td>
</tr>
<tr>
<td>StopPrice</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>PegPriceType</td>
<td><strong>string.</strong> The type of price to peg the Stop to for Stop/Trailing orders.</td>
</tr>
<tr>
<td>PegOffset</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>PegLimitOffset</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>IpAddress</td>
<td><strong>string.</strong> The IP address from where the order was submitted.</td>
</tr>
<tr>
<td>IPv6a</td>
<td><strong>UInt64.</strong> The IPv6 where the order was submitted from. Currently not being used, for future provision. Defaults to 0.</td>
</tr>
<tr>
<td>IPv6a</td>
<td><strong>UInt64.</strong> The IPv6 where the order was submitted from. Currently not being used, for future provision. Defaults to 0.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
</tbody></table>
<h2 id='getorderhistory'>GetOrderHistory</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a history of orders for the specified search parameters.</p>

<p>For example, if <em>depth</em> = 200 and <em>startIndex</em> = 0, the history returns 200 unique orders into the past starting with the most recent (0) order. If <em>depth</em> = 200 and <em>startIndex</em> = 100, the history returns 200 unique orders into the past starting at 101st order in the past.</p>

<p>The owner of the trading venue determines how long to retain order history before archiving.</p>

<p>A user with Trading permission can retrieve orders history only for accounts it is associated with; a user with Operator permission can retrieve orders history for any user or account.</p>

<aside class="notice"><strong>Note:</strong> In this call, "Depth" refers to the maximum number/count of orders that can be retrieved.</aside>
<h3 id='request-108'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOrderHistory</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOrderHistory</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c5f917b9-f173-4c29-a615-1503d2e78023 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>Integer</strong>. The ID of the OMS on which the orders took place. If no other values are specified, the call returns the orders associated with the default account for the logged-in user on this OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>Integer</strong>. The account ID that made the trades. A user with Trading permission must be associated with this account, although other users also can be associated with the account. <strong>required.</strong></td>
</tr>
<tr>
<td>OrderState</td>
<td><strong>string.</strong> The current state of the order. Can be used to filter results. If not specified all orders regardless of the order state will be returned. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> Working<br /><strong>2</strong> Rejected<br /><strong>3</strong> Canceled<br /><strong>4</strong> Expired<br /><strong>5</strong> FullyExecuted. <strong>optional.</strong></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer</strong>. ID for the order.Can be used to filter results. Can be used to filter for a specific orderid. There is a specific API call <strong>GetOrderHistoryByOrderId</strong> for filtering orders by <strong>OrderId</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer</strong>. A user-assigned ID for the order (like a purchase-order number assigned by a company).Can be used to filter results. <em>clientOrderId</em> defaults to 0. <strong>optional.</strong></td>
</tr>
<tr>
<td>OriginalOrderId</td>
<td><strong>long integer</strong>. The original ID of the order. If specified, the call returns changed orders associated with this order ID. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>OriginalClientOrderId</td>
<td><strong>long integer</strong>. If the order has been changed, shows the original client order ID, a value that the client can create (much like a purchase order). Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer</strong>. The ID of the user whose account orders will be returned. If not specified, the call returns the orders of the logged-in user.Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>long integer</strong>. The ID of the instrument named in the order. If not specified, the call returns orders for all instruments traded by this account. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartTimestamp</td>
<td><strong>long integer</strong>. Date and time at which to begin the orders history, in POSIX format. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>EndTimestamp</td>
<td><strong>long integer</strong>. Date and time at which to end the orders report, in POSIX format. Can be used to filter results. <strong>optional.</strong></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer</strong>. In this case, the maximum number/count of orders to return, counting from the <em>StartIndex</em> if it is also specified. If not specified, returns 100 most recent orders; results can vary depending if other optional fields are defined such as <em>StartIndex</em>, <em>StartTimestamp</em>, and <em>EndTimestamp</em>. Can be used to filter results and for pagination. <strong>optional.</strong></td>
</tr>
<tr>
<td>Limit</td>
<td><strong>integer</strong>. Functions exactly the same as the <strong>Depth</strong> field. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer</strong>. A value of 0 means the first object in the result will be the the most recent order, a value of 2 means that the first object in the result set will be the third most recent order. If not specified, defaults to 0. Can be used to filter results or for pagination. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-108'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6713</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FullyExecuted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663431785</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182602317851821</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663431791</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182602317910891</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6713</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">79228162514264337593543950335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6709</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FullyExecuted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663089848</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182598898484597</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1682663089923</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638182598899230197</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Trade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6709</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">79228162514264337593543950335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">6000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>The call <strong>GetOrderHistory</strong> returns an array or objects, each object representin an order at its latest status; an order will only occupy 1 index or just 1 instance in the result. <strong>GetOrderHistory</strong> API does not return the full history of a specific order, there is another API that will give you just that: <a href="https://trading.alphapointuniversity.com/#getorderhistorybyorderid">GetOrderHistoryByOrderId</a>.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Side</td>
<td><strong>string.</strong> The side of a trade. One of:<br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The ID of the open order. The <em>OrderID</em> is unique in each OMS.</td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal.</strong> The price at which the buy or sell has been ordered.</td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The quantity of the product to be bought or sold.</td>
</tr>
<tr>
<td>DisplayQuantity</td>
<td><strong>decimal.</strong> The quantity available to buy or sell that is publicly displayed to the market. To display a <em>displayQuantity</em> value, an order must be a Limit order with a reserve.</td>
</tr>
<tr>
<td>Instrument</td>
<td><strong>integer.</strong> ID of the instrument being traded. The call <strong>GetInstruments</strong> can supply the instrument IDs that are available.</td>
</tr>
<tr>
<td>Account</td>
<td><strong>integer.</strong> ID of the of the account which the order belongs to.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> Name of the of the account which which the order belongs to.</td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>string.</strong> Describes the type of order this is. One of:<br /><strong>0</strong> Unknown (an error condition)<br /><strong>1</strong> Market order<br /><strong>2</strong> Limit<br /><strong>3</strong> StopMarket<br /><strong>4</strong> StopLimit<br /><strong>5</strong> TrailingStopMarket<br /><strong>6</strong> TrailingStopLimit<br /><strong>7</strong> BlockTrade</td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> An ID supplied by the client to identify the order (like a purchase order number). The <em>ClientOrderId</em> defaults to 0 if not supplied.</td>
</tr>
<tr>
<td>OrderState</td>
<td><strong>string.</strong> The current or the latest state of the order. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> Working<br /><strong>2</strong> Rejected<br /><strong>3</strong> Canceled<br /><strong>4</strong> Expired<br /><strong>5</strong> Fully Executed.</td>
</tr>
<tr>
<td>ReceiveTime</td>
<td><strong>long integer.</strong> Time stamp of the order in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone).</td>
</tr>
<tr>
<td>ReceiveTimeTicks</td>
<td><strong>long integer.</strong> Time stamp of the order Microsoft Ticks format and UTC time zone. <strong>Note:</strong> Microsoft Ticks format is usually provided as a string. Here it is provided as a long integer.</td>
</tr>
<tr>
<td>LastUpdatedTime</td>
<td><strong>long integer.</strong> Time stamp when the order was last updated, in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone).</td>
</tr>
<tr>
<td>LastUpdatedTimeTicks</td>
<td><strong>long integer.</strong> Time stamp when the order was last updated, in Microsoft Ticks format and UTC time zone. <strong>Note:</strong> Microsoft Ticks format is usually provided as a string. Here it is provided as a long integer.</td>
</tr>
<tr>
<td>OrigQuantity</td>
<td><strong>decimal.</strong> If the open order has been changed or partially filled, this value shows the original quantity of the order.</td>
</tr>
<tr>
<td>QuantityExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the amount that has been executed.</td>
</tr>
<tr>
<td>GrossValueExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the gross amount that has been executed.</td>
</tr>
<tr>
<td>ExecutableValue</td>
<td><strong>decimal.</strong> Defaults to 0.</td>
</tr>
<tr>
<td>AvgPrice</td>
<td><strong>decimal.</strong> The average executed price of the order.</td>
</tr>
<tr>
<td>CounterPartyId</td>
<td><strong>integer.</strong> The ID of the account who is the counterparty for the trade if order is already executed, either partial or fully executed.</td>
</tr>
<tr>
<td>ChangeReason</td>
<td><strong>string.</strong> If the order has been changed, this string value holds the reason. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> NewInputAccepted<br /><strong>2</strong> NewInputRejected<br /><strong>3</strong> OtherRejected<br /><strong>4</strong> Expired<br /><strong>5</strong> Trade<br /><strong>6</strong> SystemCanceled_NoMoreMarket<br /><strong>7</strong> SystemCanceled_BelowMinimum<br /><strong>8</strong> SystemCanceled_PriceCollar<br /><strong>9</strong> SystemCanceled_MarginFailed<br /><strong>100</strong> UserModified. An order that is newly added to book will have <strong>NewInputAccepted</strong> value by default.</td>
</tr>
<tr>
<td>OrigOrderId</td>
<td><strong>long integer.</strong> If the order is a replacement order, this is the ID of the original order.</td>
</tr>
<tr>
<td>OrigClOrdId</td>
<td><strong>long integer.</strong> If the order is a replacement order, this is the client order ID or the original order.</td>
</tr>
<tr>
<td>EnteredBy</td>
<td><strong>integer.</strong> The ID of the user who submitted the order.</td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user who submitted the order.</td>
</tr>
<tr>
<td>IsQuote</td>
<td><strong>boolean.</strong> If this order is a quote(created using <a href="#">CreateQuote</a>), the value for <em>IsQuote</em> is <em>true,</em> otherwise it is <em>false.</em></td>
</tr>
<tr>
<td>InsideAsk</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Ask price.</td>
</tr>
<tr>
<td>InsideAskSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Ask quote.</td>
</tr>
<tr>
<td>InsideBid</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Bid price.</td>
</tr>
<tr>
<td>InsideBidSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Bid quote.</td>
</tr>
<tr>
<td>LastTradePrice</td>
<td><strong>decimal.</strong> The last price that this instrument traded at.</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If this open order has been rejected, this string holds the reason for the rejection.</td>
</tr>
<tr>
<td>IsLockedIn</td>
<td><strong>boolean.</strong> For a block trade, if both parties to the block trade agree that one of the parties will report the trade for both sides, this value is <em>true.</em> Othersise, <em>false.</em></td>
</tr>
<tr>
<td>CancelReason</td>
<td><strong>string.</strong> If this order has been canceled, this string holds the cancellation reason.</td>
</tr>
<tr>
<td>OrderFlag</td>
<td><strong>string.</strong> One or more of:<br /><strong>1</strong> NoAccountRiskCheck<br /><strong>2</strong> AddedToBook<br /><strong>4</strong> RemovedFromBook<br /><strong>8</strong> PostOnly<br /><strong>16</strong> Liquidation<br /><strong>32</strong> ReverseMarginPosition</td>
</tr>
<tr>
<td>UseMargin</td>
<td><strong>boolean.</strong> Margin is not yet supported so this always defaults to false.</td>
</tr>
<tr>
<td>StopPrice</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>PegPriceType</td>
<td><strong>string.</strong> The type of price to peg the Stop to for Stop/Trailing orders.</td>
</tr>
<tr>
<td>PegOffset</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>PegLimitOffset</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>IpAddress</td>
<td><strong>string.</strong> The IP address from where the order was submitted.</td>
</tr>
<tr>
<td>IPv6a</td>
<td><strong>UInt64.</strong> The IPv6 where the order was submitted from. Currently not being used, for future provision. Defaults to 0.</td>
</tr>
<tr>
<td>IPv6a</td>
<td><strong>UInt64.</strong> The IPv6 where the order was submitted from. Currently not being used, for future provision. Defaults to 0.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
</tbody></table>
<h2 id='sendorder'>SendOrder</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Asynchronous</p>

<p>Creates an order.</p>

<p>Anyone submitting an order should also subscribe to the various market data and event feeds, or call <strong>GetOpenOrders</strong> or <strong>GetOrderStatus</strong> to monitor the status of the order. If the order is not in a state to be executed, <strong>GetOpenOrders</strong> will not return it.</p>

<p>A user with Trading permission can create an order only for those accounts and instruments with which the user is associated; a user with elevated permission such as Operator can create/send an order for any account and instrument.</p>

<aside class="notice"><strong>Note:</strong> Call Type is asynchronous.</aside>
<h3 id='request-109'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//Limit order</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SendOrder</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">TimeInForce</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ClientOrderId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">OrderIdOCO</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">UseDisplayQuantity</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">Side</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">Quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OrderType</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="na">PegPriceType</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">LimitPrice</span><span class="p">:</span> <span class="mi">31000</span><span class="p">,</span>
<span class="p">});</span>
<span class="c1">//Market order</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SendOrder</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">TimeInForce</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ClientOrderId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">OrderIdOCO</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">UseDisplayQuantity</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">Side</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">OrderType</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">PegPriceType</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">Quantity</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//Order by value: In a market order, a user can opt to input total value of the trade instead of putting the quantity which will then be automatically calculated: value/marketprice.</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SendOrder</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">TimeInForce</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ClientOrderId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">OrderIdOCO</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">UseDisplayQuantity</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">Side</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">OrderType</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">PegPriceType</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">Value</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/SendOrder</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">604f9459-163f-4114-8ecc-928597554747</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">252</span>

<span class="err">//Limit</span><span class="w"> </span><span class="err">order</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TimeInForce"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderIdOCO"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UseDisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LimitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Market</span><span class="w"> </span><span class="err">order</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TimeInForce"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderIdOCO"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UseDisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Order</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">value:</span><span class="w"> </span><span class="err">In</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">market</span><span class="w"> </span><span class="err">order,</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">user</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">opt</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">input</span><span class="w"> </span><span class="err">total</span><span class="w"> </span><span class="err">value</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">trade</span><span class="w"> </span><span class="err">instead</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">putting</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">quantity</span><span class="w"> </span><span class="err">which</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">then</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">automatically</span><span class="w"> </span><span class="err">calculated:</span><span class="w"> </span><span class="err">value/marketprice.</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TimeInForce"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderIdOCO"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UseDisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>If OrderType=1 (Market), Side=0 (Buy), and LimitPrice is supplied, the Market order will execute up to the value specified</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument being traded. <strong>required.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the instrument is being traded.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account placing the order. <strong>required.</strong></td>
</tr>
<tr>
<td>TimeInForce</td>
<td><strong>integer.</strong> An integer that represents the period during which the new order is executable. One of:<br /><strong>0</strong> Unknown (error condition)<br /><strong>1</strong> GTC (good &#39;til canceled, the default)<br /><strong>2</strong> OPG (execute as close to opening price as possible: not yet used, for future provision)<br /><strong>3</strong> IOC (immediate or canceled)<br /><strong>4</strong> FOK (fill-or-kill &mdash; fill immediately or kill immediately)<br /><strong>5</strong> GTX (good &#39;til executed: not yet used, for future provision)<br /><strong>6</strong> GTD (good &#39;til date: not yet used, for future provision)<br /> <strong>required.</strong></td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> A user-assigned ID for the order (like a purchase-order number assigned by a company). This ID is useful for recognizing future states related to this order. <em>ClientOrderId</em> defaults to 0. Starting APEX version 4.2, duplicate client orderid of two open orders of the same account is not allowed, the incoming order with the same clientorderid will get rejected.</td>
</tr>
<tr>
<td>OrderIdOCO</td>
<td><strong>long integer.</strong> The order ID if One Cancels the Other — If this order is order A, <em>OrderIdOCO</em> refers to the order ID of an order B (which is <em>not</em> the order being created by this call). If order B executes, then order A created by this call is canceled. You can also set up order B to watch order A in the same way, but that may require an update to order B to make it watch this one, which could have implications for priority in the order book. See <strong>CancelReplaceOrder</strong> and <strong>ModifyOrder.</strong></td>
</tr>
<tr>
<td>UseDisplayQuantity</td>
<td><strong>boolean.</strong> If you enter a Limit order with a reserve(reserve order), you must set <em>UseDisplayQuantity</em> to <em>true</em>.</td>
</tr>
<tr>
<td>Side</td>
<td><strong>integer.</strong> A number representing on of the following potential sides of a trade. One of:<br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /> <strong>required.</strong></td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The quantity of the instrument being ordered. Not required if <strong>OrderType</strong> is Market(1) and as long as <strong>Value</strong> is defined. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>integer.</strong> A number representing the nature of the order. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> Market<br /><strong>2</strong> Limit<br /><strong>3</strong> StopMarket<br /><strong>4</strong> StopLimit<br /><strong>5</strong> TrailingStopMarket<br /><strong>6</strong> TrailingStopLimit<br /><strong>7</strong> BlockTrade.</td>
</tr>
<tr>
<td>PegPriceType</td>
<td><strong>integer.</strong> When entering a stop/trailing order, set <em>PegPriceType</em> to an integer that corresponds to the type of price that pegs the stop:<br /><strong>1</strong> Last<br /><strong>2</strong> Bid<br /><strong>3</strong> Ask<br /><strong>4</strong> Midpoint</td>
</tr>
<tr>
<td>LimitPrice</td>
<td><strong>decimal.</strong> The price at which to execute the order, if the order is a Limit order.</td>
</tr>
<tr>
<td>DisplayQuantity</td>
<td><strong>integer</strong> If <em>UseDisplayQuantity</em> is set to <strong><em>true</em></strong>, you must set a value of this field greater than 0, else, order will not appear in the orderbook.</td>
</tr>
<tr>
<td>Value</td>
<td><strong>decimal</strong> The total value of the trade. Only applicable in a market order type: a user can opt to input a value instead of defining the quantity which will then be automatically calculated: value/marketprice.</td>
</tr>
</tbody></table>
<h3 id='response-109'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6500</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">//Possible</span><span class="w"> </span><span class="err">error</span><span class="w"> </span><span class="err">messages</span><span class="w">
</span><span class="err">//Order</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">rejected</span><span class="w"> </span><span class="err">due</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">lack</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">funds</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rejected"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not_Enough_Funds"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">//Order</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">rejected</span><span class="w"> </span><span class="err">due</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">duplicate</span><span class="w"> </span><span class="err">Client_OrderId,</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">means</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">sending</span><span class="w"> </span><span class="err">has</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">same</span><span class="w"> </span><span class="err">Client_OrderId</span><span class="w"> </span><span class="err">with</span><span class="w"> </span><span class="err">your</span><span class="w"> </span><span class="err">other</span><span class="w"> </span><span class="err">working/open</span><span class="w"> </span><span class="err">order.</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rejected"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid_ClientOrderId"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td><strong>string</strong>. If the order is accepted by the system, it returns &quot;Accepted,&quot; if not it returns &quot;Rejected.&quot;<br />Accepted<br />Rejected</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. Any error message the server returns.</td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer</strong>. The ID assigned to the order by the server. This allows you to track the order.</td>
</tr>
</tbody></table>
<h2 id='cancelreplaceorder'>CancelReplaceOrder</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Asynchronous</p>

<p>CancelReplaceOrder is a single API call that both cancels an existing order and replaces it with a new order. Canceling one order and replacing it with another also cancels the order’s priority in the order book. You can use <a href="https://trading.alphapointuniversity.com/?javascript#modifyorder">ModifyOrder</a> to preserve priority in the book but it only allows a reduction in order quantity.</p>

<aside class="warning"><strong>Warning:</strong> <strong>CancelReplaceOrder</strong> sacrifices the order's priority in the order book.</aside>
<h3 id='request-110'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//Limit order to replace OrderId 123456</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">CancelReplaceOrder</span><span class="dl">'</span><span class="p">,{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">OrderIdToReplace</span><span class="p">:</span> <span class="mi">123456</span><span class="p">,</span>
    <span class="na">ClientOrdId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">OrderType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Limit</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">Side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Buy</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">AccountId</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="na">LimitPrice</span><span class="p">:</span> <span class="mf">1.363</span><span class="p">,</span>
    <span class="na">TimeInForce</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">Quantity</span><span class="p">:</span> <span class="mf">7322.24</span><span class="p">,</span>
  <span class="p">});</span>

<span class="c1">//StopMarket order to replace OrderId 123456</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">CancelReplaceOrder</span><span class="dl">'</span><span class="p">,{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">OrderIdToReplace</span><span class="p">:</span> <span class="mi">123456</span><span class="p">,</span>
    <span class="na">ClientOrdId</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">OrderType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">StopMarket</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">Side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Buy</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">AccountId</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="na">StopPrice</span><span class="p">:</span> <span class="mf">1.363</span><span class="p">,</span>
    <span class="na">TimeInForce</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">Quantity</span><span class="p">:</span> <span class="mf">7322.24</span><span class="p">,</span>
  <span class="p">});</span>

<span class="c1">//Posible options in the payload</span>
<span class="p">{</span>
    <span class="c1">//Different OrderTypes available</span>
    <span class="dl">"</span><span class="s2">OrderType</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
         <span class="dl">"</span><span class="s2">Options</span><span class="dl">"</span><span class="p">:</span>  <span class="p">[</span>
            <span class="dl">"</span><span class="s2">Unknown</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">StopMarket</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">StopLimit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">TrailingStopMarket</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">TrailingStopLimit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">BlockTrade</span><span class="dl">"</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="c1">//Different Sides available</span>
    <span class="dl">"</span><span class="s2">Side</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
         <span class="dl">"</span><span class="s2">Options</span><span class="dl">"</span><span class="p">:</span>  <span class="p">[</span>
            <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">Short</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">Unknown</span><span class="dl">"</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="c1">//Different PegPriceTypes available</span>
    <span class="dl">"</span><span class="s2">PegPriceType</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
         <span class="dl">"</span><span class="s2">Options</span><span class="dl">"</span><span class="p">:</span>  <span class="p">[</span>
            <span class="dl">"</span><span class="s2">Unknown</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">Last</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">Bid</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">Ask</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">Midpoint</span><span class="dl">"</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="c1">//Different TimeInForce available</span>
    <span class="dl">"</span><span class="s2">TimeInForce</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
         <span class="dl">"</span><span class="s2">Options</span><span class="dl">"</span><span class="p">:</span>  <span class="p">[</span>
            <span class="dl">"</span><span class="s2">Unknown</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">GTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">OPG</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">IOC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">FOK</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">GTX</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">GTD</span><span class="dl">"</span>
        <span class="p">]</span>
    <span class="p">},</span>
<span class="p">},</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CancelReplaceOrder</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">604f9459-163f-4114-8ecc-928597554747</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">252</span>

<span class="err">//Limit</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">replace</span><span class="w"> </span><span class="err">OrderId</span><span class="w"> </span><span class="mi">123456</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderIdToReplace"</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ClientOrdId"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Side"</span><span class="p">:</span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LimitPrice"</span><span class="p">:</span><span class="mf">1.363</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TimeInForce"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="mf">7322.24</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//StopMarket</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">replace</span><span class="w"> </span><span class="err">OrderId</span><span class="w"> </span><span class="mi">123456</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderIdToReplace"</span><span class="p">:</span><span class="mi">123456</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ClientOrdId"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="s2">"StopMarket"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Side"</span><span class="p">:</span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="mf">1.363</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TimeInForce"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="mf">7322.24</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Different</span><span class="w"> </span><span class="err">OrderTypes</span><span class="w"> </span><span class="err">available</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"Options"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
            </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Market"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"StopMarket"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"StopLimit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"TrailingStopMarket"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"TrailingStopLimit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"BlockTrade"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="err">,</span><span class="w">
    </span><span class="err">//Different</span><span class="w"> </span><span class="err">Sides</span><span class="w"> </span><span class="err">available</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"Options"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
            </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Short"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Unknown"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="err">,</span><span class="w">
    </span><span class="err">//Different</span><span class="w"> </span><span class="err">PegPriceTypes</span><span class="w"> </span><span class="err">available</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"Options"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
            </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Last"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Bid"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Ask"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Midpoint"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="err">,</span><span class="w">
    </span><span class="err">//Different</span><span class="w"> </span><span class="err">TimeInForce</span><span class="w"> </span><span class="err">available</span><span class="w">
    </span><span class="nl">"TimeInForce"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"Options"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
            </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"OPG"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"IOC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"FOK"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"GTX"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"GTD"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS on which the order is being canceled and replaced by another order. <strong>required.</strong></td>
</tr>
<tr>
<td>OrderIdToReplace</td>
<td><strong>long integer</strong>. The ID of the order to replace with this order. <strong>required.</strong></td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer</strong>. A user-assigned ID for the new, replacement order (like a purchase-order number assigned by a company). This ID is useful for recognizing future states related to this order. If unspecified, <em>ClientOrderId</em> defaults to 0. <strong>optional.</strong></td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>string or integer.</strong> The type of the replacement order. One of: <br />0 Unknown<br />1 Market<br />2 Limit<br />3 StopMarket<br />4 StopLimit<br />5 TrailingStopMarket<br />6 TrailingStopLimit<br />7 BlockTrade<br /> The string value or the equivalent integer value can be used. <strong>required.</strong></td>
</tr>
<tr>
<td>Side</td>
<td><strong>string or integer.</strong> The side of the replacement order. One of:<br />0 Buy<br />1 Sell<br />2 Short(reserved for future use)<br />3 Unknown (error condition).<br/> The string value or the equivalent integer value can be used. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer</strong>. The ID of the account under which the original order was placed and the new order will be placed. If AccountId will not match the one on the order to be replaced, request will fail. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. The ID of the instrument being traded. Must be identical with the instrument ID of the order to be replaced, else, request will fail. <strong>required.</strong></td>
</tr>
<tr>
<td>UseDisplayQuantity</td>
<td><strong>boolean.</strong> The display quantity is the quantity of a product shown to the market to buy or sell. A larger quantity may be wanted or available, but it may disadvantageous to display it when buying or selling. The display quantity is set when placing an order (using <strong>SendOrder</strong> or <strong>CancelReplaceOrder</strong> for instance). If you enter a Limit order with reserve, you must set <em>useDisplayQuantity</em> to <em>true</em>. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>DisplayQuantity</td>
<td><strong>decimal.</strong> The quantity of a product that is available to buy or sell that is publicly displayed to the market. Needs to be defined with a value greater than 0 if <strong>UseDisplayQuantity</strong> is set to true, otherwise new order will not be visible in the orderbook. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>LimitPrice</td>
<td><strong>deciaml.</strong> The price at which to execute the new order, if the new order is a limit order. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>StopPrice</td>
<td><strong>decimal.</strong> The price at which to execute the new order, if the order is a stop order. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>ReferencePrice</td>
<td><strong>decimal.</strong> The reference price of the instrument in the order. <strong>optional.</strong></td>
</tr>
<tr>
<td>PegPriceType</td>
<td><strong>string or integer.</strong> When entering a stop/trailing order, set PegPriceType to the type of price that pegs the stop. One of: <br />1 Last<br />2 Bid<br />3 Ask<br />4 Midpoint<br/> The string value or the equivalent integer value can be used. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>TimeInForce</td>
<td><strong>string or integer.</strong> The period during which the new order is executable. One of:<br />0 Unknown (error condition)<br />1 GTC (good &#39;til canceled, the default)<br />2 OPG (execute as close to opening price as possible: not yet used, for future provision)<br />3 IOC (immediate or canceled)<br />4 FOK (fill or kill &mdash; fill the order immediately, or cancel it immediately)<br />5 GTX (good &#39;til executed: not yet used, for future provision)<br />6 GTD (good &#39;til date: not yet used, for future provision)<br/> The string value or the equivalent integer value can be used. <strong>required.</strong></td>
</tr>
<tr>
<td>OrderIdOCO</td>
<td><strong>long integer.</strong> One Cancels the Other — If the order being canceled in this call is order A, and the order replacing order A in this call is order B, then <em>OrderIdOCO</em> refers to an order C that is currently open. If order C executes, then order B is canceled. You can also set up order C to watch order B in this way, but that will require an update to order C. <strong>optional.</strong></td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The amount of the order (either buy or sell). Not explicitly required but defaults to 0 when not defined, so it makes sense to be set greater than 0. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-110'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ReplacementOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">123457</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReplacementClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The response returns the new replacement order ID and echoes back any replacement client ID you have supplied, along with the original order ID and the original client order ID.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>replacementOrderId</td>
<td><strong>integer.</strong> The order ID assigned to the replacement order by the server.</td>
</tr>
<tr>
<td>replacementClOrdId</td>
<td><strong>long integer.</strong> Echoes the contents of the <em>clientOrderId</em> value from the request.</td>
</tr>
<tr>
<td>origOrderId</td>
<td><strong>integer.</strong> Echoes <em>orderIdToReplace</em>, which is the original order you are replacing.</td>
</tr>
<tr>
<td>origClOrdId</td>
<td><strong>long integer.</strong> Provides the client order ID of the original order (not specified in the requesting call).</td>
</tr>
</tbody></table>
<h2 id='cancelorder'>CancelOrder</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Cancels a specific open order that has been placed but has not yet been fully executed. Only cancels one order at a time specific to the orderid defined in the request.</p>

<p>A user with Trading permission can cancel an order only for an account it is associated with; a user with Operator permission can cancel an order for any account.</p>
<h3 id='request-111'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CancelOrder</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">OrderId</span><span class="p">:</span> <span class="mi">6500</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CancelOrder</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">604f9459-163f-4114-8ecc-928597554747</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">57</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6500</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The OMS ID and the Order ID precisely identify the order you wish to cancel, the Order ID is unique across an OMS but there is still a need to identify the account owning the order.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the order exists. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account under which the order was placed. <strong>required.</strong></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The order to be canceled. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-111'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The response to <strong>CancelOrder</strong> verifies that the call was received, not that the order has been canceled successfully. Individual event updates to the user show order cancellation. To verify that an order has been canceled, call <strong>GetOrderStatus</strong> or <strong>GetOpenOrders.</strong></p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> Returns <em>true</em> if the call to cancel the order has been successfully received, otherwise returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of a call to cancel an order returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful call to cancel an order returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)<br />Operation Not Supported (errorcode 106)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successfully received call to cancel an order returns 0. An unsuccessfully received call to cancel an order returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send. The contents of this parameter are usually null.</td>
</tr>
</tbody></table>
<h2 id='getopenorders'>GetOpenOrders</h2>
<p><strong>Permissions:</strong> Operator,Trading,AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves the Open Orders, excludes Block Trades and Quotes, for the given accountId. Time in POSIX format X 1000 (milliseconds since 1 January 1970). Optionally include InstrumentId to filter by Instrument.</p>
<h3 id='request-112'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetOpenOrders</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetOpenOrders</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">604f9459-163f-4114-8ecc-928597554747</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">43</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS to which the user belongs. A user will belong only to one OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account which you are getting open orders for. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of a specific instrument, can be used to filter results. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-112'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6598</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">39000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnotherName"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"StopMarket"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1681114594150</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638167113941496303</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1681114594155</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638167113941554842</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NewInputAccepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6598</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">26000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mi">25000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">26000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">39000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ask"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6627</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnotherName"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1681207997025</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638168047970250300</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1681207997026</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638168047970264465</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NewInputAccepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6627</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">26000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">25000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AddedToBook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ask"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6507</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DisplayQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Instrument"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Account"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnotherName"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1678976987086</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiveTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638145737870859306</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1679025072387</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">638146218723867613</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"QuantityExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GrossValueExecuted"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutableValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AvgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ChangeReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UserModified"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6507</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrigClOrdId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">79228162514264337593543950335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mi">31000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsLockedIn"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CancelReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderFlag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AddedToBook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UseMargin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegPriceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ask"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PegLimitOffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6a"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IPv6b"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderIdUuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Side</td>
<td><strong>string.</strong> The side of a trade. One of:<br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The ID of the open order. The <em>OrderID</em> is unique in each OMS.</td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal.</strong> The price at which the buy or sell has been ordered.</td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The quantity of the product to be bought or sold.</td>
</tr>
<tr>
<td>DisplayQuantity</td>
<td><strong>decimal.</strong> The quantity available to buy or sell that is publicly displayed to the market. To display a <em>displayQuantity</em> value, an order must be a Limit order with a reserve.</td>
</tr>
<tr>
<td>Instrument</td>
<td><strong>integer.</strong> ID of the instrument being traded. The call <strong>GetInstruments</strong> can supply the instrument IDs that are available.</td>
</tr>
<tr>
<td>Account</td>
<td><strong>integer.</strong> ID of the of the account which the order belongs to.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> Name of the of the account which which the order belongs to.</td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>string.</strong> Describes the type of order this is. One of:<br /><strong>0</strong> Unknown (an error condition)<br /><strong>1</strong> Market order<br /><strong>2</strong> Limit<br /><strong>3</strong> StopMarket<br /><strong>4</strong> StopLimit<br /><strong>5</strong> TrailingStopMarket<br /><strong>6</strong> TrailingStopLimit<br /><strong>7</strong> BlockTrade</td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> An ID supplied by the client to identify the order (like a purchase order number). The <em>ClientOrderId</em> defaults to 0 if not supplied.</td>
</tr>
<tr>
<td>OrderState</td>
<td><strong>string.</strong> The current state of the order. Will always be Working as this API is getting <strong>open orders</strong>.</td>
</tr>
<tr>
<td>ReceiveTime</td>
<td><strong>long integer.</strong> Time stamp of the order in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone).</td>
</tr>
<tr>
<td>ReceiveTimeTicks</td>
<td><strong>long integer.</strong> Time stamp of the order Microsoft Ticks format and UTC time zone. <strong>Note:</strong> Microsoft Ticks format is usually provided as a string. Here it is provided as a long integer.</td>
</tr>
<tr>
<td>LastUpdatedTime</td>
<td><strong>long integer.</strong> Time stamp when the order was last updated, in POSIX format x 1000 (milliseconds since 1/1/1970 in UTC time zone).</td>
</tr>
<tr>
<td>LastUpdatedTimeTicks</td>
<td><strong>long integer.</strong> Time stamp when the order was last updated, in Microsoft Ticks format and UTC time zone. <strong>Note:</strong> Microsoft Ticks format is usually provided as a string. Here it is provided as a long integer.</td>
</tr>
<tr>
<td>OrigQuantity</td>
<td><strong>decimal.</strong> If the open order has been changed or partially filled, this value shows the original quantity of the order.</td>
</tr>
<tr>
<td>QuantityExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the amount that has been executed.</td>
</tr>
<tr>
<td>GrossValueExecuted</td>
<td><strong>decimal.</strong> If the open order has been at least partially executed, this value shows the gross amount that has been executed.</td>
</tr>
<tr>
<td>ExecutableValue</td>
<td><strong>decimal.</strong> Defaults to 0.</td>
</tr>
<tr>
<td>AvgPrice</td>
<td><strong>decimal.</strong> The average executed price of the order.</td>
</tr>
<tr>
<td>CounterPartyId</td>
<td><strong>integer.</strong> The ID of the account who is the counterparty for the trade if order is already executed, either partial or fully executed.</td>
</tr>
<tr>
<td>ChangeReason</td>
<td><strong>string.</strong> If the order has been changed, this string value holds the reason. One of:<br /><strong>0</strong> Unknown<br /><strong>1</strong> NewInputAccepted<br /><strong>2</strong> NewInputRejected<br /><strong>3</strong> OtherRejected<br /><strong>4</strong> Expired<br /><strong>5</strong> Trade<br /><strong>6</strong> SystemCanceled_NoMoreMarket<br /><strong>7</strong> SystemCanceled_BelowMinimum<br /><strong>8</strong> SystemCanceled_PriceCollar<br /><strong>9</strong> SystemCanceled_MarginFailed<br /><strong>100</strong> UserModified. An order that is newly added to book will have <strong>NewInputAccepted</strong> value by default.</td>
</tr>
<tr>
<td>OrigOrderId</td>
<td><strong>long integer.</strong> If the order is a replacement order, this is the ID of the original order.</td>
</tr>
<tr>
<td>OrigClOrdId</td>
<td><strong>long integer.</strong> If the order is a replacement order, this is the client order ID or the original order.</td>
</tr>
<tr>
<td>EnteredBy</td>
<td><strong>integer.</strong> The ID of the user who submitted the order.</td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user who submitted the order.</td>
</tr>
<tr>
<td>IsQuote</td>
<td><strong>boolean.</strong> If this order is a quote(created using <a href="#">CreateQuote</a>), the value for <em>IsQuote</em> is <em>true,</em> otherwise it is <em>false.</em></td>
</tr>
<tr>
<td>InsideAsk</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Ask price.</td>
</tr>
<tr>
<td>InsideAskSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Ask quote.</td>
</tr>
<tr>
<td>InsideBid</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the Inside Bid price.</td>
</tr>
<tr>
<td>InsideBidSize</td>
<td><strong>decimal.</strong> If this order is a quote, this value is the quantity of the Inside Bid quote.</td>
</tr>
<tr>
<td>LastTradePrice</td>
<td><strong>decimal.</strong> The last price that this instrument traded at.</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If this open order has been rejected, this string holds the reason for the rejection.</td>
</tr>
<tr>
<td>IsLockedIn</td>
<td><strong>boolean.</strong> For a block trade, if both parties to the block trade agree that one of the parties will report the trade for both sides, this value is <em>true.</em> Othersise, <em>false.</em></td>
</tr>
<tr>
<td>CancelReason</td>
<td><strong>string.</strong> If this order has been canceled, this string holds the cancellation reason.</td>
</tr>
<tr>
<td>OrderFlag</td>
<td><strong>string.</strong> One or more of:<br /><strong>1</strong> NoAccountRiskCheck<br /><strong>2</strong> AddedToBook<br /><strong>4</strong> RemovedFromBook<br /><strong>8</strong> PostOnly<br /><strong>16</strong> Liquidation<br /><strong>32</strong> ReverseMarginPosition</td>
</tr>
<tr>
<td>UseMargin</td>
<td><strong>boolean.</strong> Margin is not yet supported so this always defaults to false.</td>
</tr>
<tr>
<td>StopPrice</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>PegPriceType</td>
<td><strong>string.</strong> The type of price to peg the Stop to for Stop/Trailing orders.</td>
</tr>
<tr>
<td>PegOffset</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>PegLimitOffset</td>
<td><strong>decimal.</strong> Only applicable to trailing/stop orders. Defaults to 0.0 if order is another type.</td>
</tr>
<tr>
<td>IpAddress</td>
<td><strong>string.</strong> The IP address from where the order was submitted.</td>
</tr>
<tr>
<td>IPv6a</td>
<td><strong>UInt64.</strong> The IPv6 where the order was submitted from. Currently not being used, for future provision. Defaults to 0.</td>
</tr>
<tr>
<td>IPv6a</td>
<td><strong>UInt64.</strong> The IPv6 where the order was submitted from. Currently not being used, for future provision. Defaults to 0.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
</tbody></table>
<h2 id='getaccounttrades'>GetAccountTrades</h2>
<p><strong>Permissions:</strong> Operator,Trading,AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Requests the details on up to 200 past trade executions for a single specific account and OMS, starting at index <em>i</em>, where <em>i</em> is an integer identifying a specific execution in reverse order; that is, the most recent execution has an index of 0, and increments by one as trade executions recede into the past.</p>

<p>Users with Trading or AccountReadOnly permission may access trade information only for accounts with which they are associated; users with Operator permission may access trade information for any account.</p>

<p>The operator of the trading venue determines how long to retain an accessible trading history before archiving.</p>
<h3 id='request-113'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountTrades</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">Depth</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="c1">//filter only the 2 most recent trades of the account</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountTrades</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">d350c7a3-f63c-4938-ade8-d68b326e9298</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">61</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Depth"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS to which the user belongs. A user will belong to only one OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account. If not specified, if authenticated user has the default permissions, its default account&#39;s trades will be returned, else if the authenticated user has elevated permissions, trades of any account will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer.</strong> The starting index into the history of trades, beginning from 0 (the most recent trade). <strong>optional.</strong></td>
</tr>
<tr>
<td>Count or Depth</td>
<td><strong>integer.</strong> The number of trades to return. The system can return up to 200 trades. <strong>optional.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument for which account trades will be returned, filter parameter. <strong>optional.</strong></td>
</tr>
<tr>
<td>TradeId</td>
<td><strong>integer.</strong> The ID of a specific trade, filter parameter. <strong>optional.</strong></td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>integer.</strong> The ID of a specific order, filter parameter. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartTimeStamp</td>
<td><strong>long integer.</strong> Filter parameter. <strong>optional.</strong></td>
</tr>
<tr>
<td>EndTimeStamp</td>
<td><strong>long integer.</strong> Filter parameter. <strong>optional.</strong></td>
</tr>
<tr>
<td>ExecutionId</td>
<td><strong>integer.</strong> Filter parameter. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-113'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1831</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">916</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6559</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SubAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RemainingQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">23436.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mf">468.72</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterParty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderTradeRevision"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NoChange"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsBlockTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0004</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderOriginator"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeTimeMS"</span><span class="p">:</span><span class="w"> </span><span class="mi">1681203988297</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MakerTaker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maker"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AdapterTradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">23436.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">79228162514264337593543950335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyClientUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">468.72</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalHoldAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">638168007882966478</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExecutionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1829</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">915</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6557</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SubAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ClientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RemainingQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mf">23436.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="mf">468.72</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterParty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderTradeRevision"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NoChange"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsBlockTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0004</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OrderOriginator"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeTimeMS"</span><span class="p">:</span><span class="w"> </span><span class="mi">1681203988296</span><span class="p">,</span><span class="w">
    </span><span class="nl">"MakerTaker"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maker"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AdapterTradeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBid"</span><span class="p">:</span><span class="w"> </span><span class="mf">23436.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideBidSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAsk"</span><span class="p">:</span><span class="w"> </span><span class="mi">79228162514264337593543950335</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InsideAskSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CounterPartyClientUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">468.72</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalHoldAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TradeTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">638168007882963921</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>The response is an array of objects, each element of which represents a trade by the account.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS to which the account belongs.</td>
</tr>
<tr>
<td>ExecutionId</td>
<td><strong>integer.</strong> The ID of this account&#39;s side of the trade. Every trade has two sides.</td>
</tr>
<tr>
<td>TradeId</td>
<td><strong>integer.</strong> The ID of the overall trade.</td>
</tr>
<tr>
<td>OrderId</td>
<td><strong>long integer.</strong> The ID of the order causing the trade (buy or sell).</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account that made the trade (buy or sell).</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> The Name of the account that made the trade (buy or sell).</td>
</tr>
<tr>
<td>SubAccountId</td>
<td><strong>integer.</strong> Not currently used; reserved for future use. Defaults to 0.</td>
</tr>
<tr>
<td>ClientOrderId</td>
<td><strong>long integer.</strong> An ID supplied by the client to identify the order (like a purchase order number). The <em>clientOrderId</em> defaults to 0 if not supplied.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument being traded. An instrument comprises two products, for example Dollars and BitCoin.</td>
</tr>
<tr>
<td>Side</td>
<td><strong>string.</strong> One of the following potential sides of a trade: <br /><strong>0</strong> Buy<br /><strong>1</strong> Sell<br /></td>
</tr>
<tr>
<td>OrderType</td>
<td><strong>string.</strong> One of the following potential sides of a trade: <br />Market<br />Limit<br />BlockTrade<br />StopMarket<br />StopLimit<br />TrailingStopLimit<br />StopMarket<br />TrailingStopMarket</td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal.</strong> The unit quantity of this side of the trade.</td>
</tr>
<tr>
<td>RemainingQuantity</td>
<td><strong>decimal.</strong> The number of units remaining to be traded by the order after this execution. This number is not revealed to the other party in the trade. This value is also known as &quot;leave size&quot; or &quot;leave quantity.&quot;</td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal.</strong> The unit price at which the instrument traded.</td>
</tr>
<tr>
<td>Value</td>
<td><strong>decimal.</strong> The total value of the deal. The system calculates this as:<br />unit price X quantity executed.</td>
</tr>
<tr>
<td>CounterParty</td>
<td><strong>string.</strong> The ID of the other party in a block trade. Usually, IDs are stated as integers; this value is an integer written as a string.</td>
</tr>
<tr>
<td>OrderTradeRevision</td>
<td><strong>integer.</strong> The revision number of this trade; usually 1.</td>
</tr>
<tr>
<td>Direction</td>
<td><strong>string.</strong> The effect of the trade on the instrument&#39;s market price. One of:<br /><strong>0</strong> No change<br /><strong>1</strong> Uptick<br /><strong>2</strong> DownTick</td>
</tr>
<tr>
<td>IsBlockTrade</td>
<td><strong>boolean.</strong> A value of <em>true</em> means that this trade was a block trade; a value of <em>false</em> that it was not a block trade.</td>
</tr>
<tr>
<td>Fee</td>
<td><strong>decimal.</strong> Any fee levied against the trade by the Exchange.</td>
</tr>
<tr>
<td>FeeProductId</td>
<td><strong>integer.</strong> The ID of the product in which the fee was levied.</td>
</tr>
<tr>
<td>OrderOriginator</td>
<td><strong>integer.</strong> The ID of the user who initiated the trade.</td>
</tr>
<tr>
<td>UserName</td>
<td><strong>integer.</strong> The UserName of the user who initiated the trade.</td>
</tr>
<tr>
<td>TradeTimeMS</td>
<td><strong>long integer.</strong> The date and time that the trade took place, in milliseconds and POSIX format. All dates and times are UTC.</td>
</tr>
<tr>
<td>MakerTaker</td>
<td><strong>string.</strong> One of the following potential liquidity provider of a trade: <br />Maker<br />Taker<br /></td>
</tr>
<tr>
<td>AdapterTradeId</td>
<td><strong>integer.</strong> The ID of the adapter of the overall trade.</td>
</tr>
<tr>
<td>InsideBid</td>
<td><strong>decimal.</strong> The best (highest) price level of the buy side of the book at the time of the trade.</td>
</tr>
<tr>
<td>InsideBidSize</td>
<td><strong>decimal.</strong> The quantity of the best (highest) price level of the buy side of the book at the time of the trade.</td>
</tr>
<tr>
<td>InsideAsk</td>
<td><strong>decimal.</strong> The best (lowest) price level of the sell side of the book at the time of the trade.</td>
</tr>
<tr>
<td>InsideAskSize</td>
<td><strong>decimal.</strong> The quantity of the best (lowest) price level of the sell side of the book at the time of the trade.</td>
</tr>
<tr>
<td>CounterPartyClientUserId</td>
<td><strong>integer.</strong> Indicates counterparty source of trade (OMS, Remarketer, FIX)</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> Notional product the notional value was captured in</td>
</tr>
<tr>
<td>NotionalRate</td>
<td><strong>decimal.</strong> Notional rate from base currency at time of trade</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> Notional value in base currency of venue at time of trade</td>
</tr>
<tr>
<td>TradeTime</td>
<td><strong>long integer.</strong> The date and time that the trade took place, in C# Ticks. All dates and times are UTC.</td>
</tr>
</tbody></table>
<h2 id='summary'>Summary</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns the summary for each instrument present in the exchange.</p>
<h3 id='request-114'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">Summary</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/Summary</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
</code></pre></div>
<p>No field is required in the request payload.</p>
<h3 id='response-114'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trading_pairs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lowest_ask"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"highest_bid"</span><span class="p">:</span><span class="w"> </span><span class="mi">28700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.222</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote_volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">6425.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price_change_percent_24h"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.57142857142857142857142857</span><span class="p">,</span><span class="w">
    </span><span class="nl">"highest_price_24h"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lowest_price_24h"</span><span class="p">:</span><span class="w"> </span><span class="mi">28000</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trading_pairs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1970</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lowest_ask"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"highest_bid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote_volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price_change_percent_24h"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"highest_price_24h"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lowest_price_24h"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects, each object represents a specific pair or instrument in the exchange.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>trading_pairs</td>
<td><strong>string.</strong> The instrument pair.</td>
</tr>
<tr>
<td>last_price</td>
<td><strong>decimal.</strong> The last traded price of the instrument.</td>
</tr>
<tr>
<td>lowest_ask</td>
<td><strong>decimal.</strong> The current lowest ask for the instrument.</td>
</tr>
<tr>
<td>highest_bid</td>
<td><strong>decimal.</strong> The current highest bid for the instrument.</td>
</tr>
<tr>
<td>base_volume</td>
<td><strong>decimal.</strong> The current base volume of the instrument.</td>
</tr>
<tr>
<td>quote_volume</td>
<td><strong>decimal.</strong> The current quote volume of the instrument.</td>
</tr>
<tr>
<td>price_change_percent_24h</td>
<td><strong>decimal.</strong> The price percentage change of the instrument in 24H, resets UTC midnight.</td>
</tr>
<tr>
<td>highest_price_24h</td>
<td><strong>decimal.</strong> The highest traded price of the instrument in 24H, resets UTC midnight.</td>
</tr>
<tr>
<td>lowest_price_24h</td>
<td><strong>decimal.</strong> The lowest traded price of the instrument in 24H, resets UTC midnight.</td>
</tr>
</tbody></table>
<h2 id='ticker'>Ticker</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Ticker endpoint provide a 24-hour pricing and volume summary for each market pair and each market type (spot, perpetuals, physical futures, options) available on the exchange for CMC integration.</p>
<h3 id='request-115'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ticker</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/Ticker</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>

</code></pre></div>
<p>No field is required in the request payload.</p>
<h3 id='response-115'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"BTC_USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"base_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.222</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote_volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">6425.0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"ETH_USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"base_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1027</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1970</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quote_volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>base_id</td>
<td><strong>integer.</strong> The unified cryptoasset id of the base product of the instrument.</td>
</tr>
<tr>
<td>quote_id</td>
<td><strong>integer.</strong> The quote id of the instrument.</td>
</tr>
<tr>
<td>last_price</td>
<td><strong>decimal.</strong> The last traded price of the instrument.</td>
</tr>
<tr>
<td>base_volume</td>
<td><strong>decimal.</strong> The current base volume of the instrument.</td>
</tr>
<tr>
<td>quote_volume</td>
<td><strong>decimal.</strong> The current quote volume of the instrument.</td>
</tr>
</tbody></table>
<h2 id='orderbook'>OrderBook</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>The OrderBook endpoint is to provide a complete level 2 order book (arranged by best asks/bids) with full depth returned for a given market pair for CMC integration. Parameters can also be supplied in the request payload.</p>
<h3 id='request-116'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">//No need to set Depth if Level is set to 1</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">OrderBook</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">Market_Pair</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Level</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>

<span class="c1">//Level 2, you need to set Depth to a number higher than 1 else you will only see best bid and best ask</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">OrderBook</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">Market_Pair</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Depth</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="na">Level</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/OrderBook</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">52</span>

<span class="err">//No</span><span class="w"> </span><span class="err">need</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">Depth</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">Level</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"Market_Pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Level"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">////Level</span><span class="w"> </span><span class="mi">2</span><span class="err">,</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">need</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">set</span><span class="w"> </span><span class="err">Depth</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">number</span><span class="w"> </span><span class="err">higher</span><span class="w"> </span><span class="err">than</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">else</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">see</span><span class="w"> </span><span class="err">best</span><span class="w"> </span><span class="err">bid</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">best</span><span class="w"> </span><span class="err">ask</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="err">Market_Pair:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
</span><span class="err">Depth:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
</span><span class="err">Level:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Market_Pair</td>
<td><strong>string</strong> The instrument symbol, instrument id is not accepted. <strong>required.</strong></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer</strong> Depth of the orderbook you want to see, this only applicable if <strong>Level</strong> parameter is set to 2. Depth will always be 1 if this is not set or if Level is set to 1. <strong>optional.</strong></td>
</tr>
<tr>
<td>Level</td>
<td><strong>integer</strong> Either 1 or 2. 1 mean you only want to see the best bid and best ask, 2 means you want to see other levels of the book, number of bids and ask you will see depends on the <strong>Depth</strong> set, if <strong>Depth</strong> is not set and <strong>Level</strong> is set to 2, best bid and best ask will only be the ones to be returned.If <strong>Level</strong> is not set, default is 1. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-116'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Level</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1679548364728</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="err">//Quantity</span><span class="w">
            </span><span class="mi">28900</span><span class="w"> </span><span class="err">//Price</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="err">//Quantity</span><span class="w">
            </span><span class="mi">29000</span><span class="w"> </span><span class="err">//Price</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//level</span><span class="w"> </span><span class="mi">2</span><span class="err">,</span><span class="w"> </span><span class="err">Depth</span><span class="w"> </span><span class="mi">10</span><span class="err">,</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="err">bids</span><span class="w"> </span><span class="err">existing,</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">ask</span><span class="w"> </span><span class="err">existing</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1679548299447</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="err">//Quantity</span><span class="w">
            </span><span class="mi">28900</span><span class="w"> </span><span class="err">//Price</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="mi">28700</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
            </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
            </span><span class="mi">29000</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a JSON object with fields timestamp, bids and asks.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td><strong>long integer</strong> Unix timestamp in milliseconds, equivalent to the current timestamp when the response was returned.</td>
</tr>
<tr>
<td>bids</td>
<td><strong>array</strong> The quantity(<em>decimal</em>) and price(<em>decimal</em>) per level which someone is willing to buy.</td>
</tr>
<tr>
<td>asks</td>
<td><strong>array</strong> The quantity(<em>decimal</em>) and price(<em>decimal</em>) per level which someone is willing sell.</td>
</tr>
</tbody></table>
<h2 id='trades'>Trades</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns trades for a specific market pair or instrument. Only returns the 100 most recent trades.</p>
<h3 id='request-117'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">Trades</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">market_pair</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/Trades</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">33</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"market_pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>market_pair</td>
<td><strong>string</strong> The market pair or instrument symbol. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-117'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="na">trade_id</span><span class="p">:</span> <span class="mi">1572</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mi">31000</span><span class="p">,</span>
    <span class="na">base_volume</span><span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span>
    <span class="na">quote_volume</span><span class="p">:</span> <span class="mf">31.0</span><span class="p">,</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-05-05T04:47:58.917Z</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">sell</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">trade_id</span><span class="p">:</span> <span class="mi">1573</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mi">31599</span><span class="p">,</span>
    <span class="na">base_volume</span><span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span>
    <span class="na">quote_volume</span><span class="p">:</span> <span class="mf">31.599</span><span class="p">,</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-05-05T04:48:25.327Z</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">buy</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">];</span>
</code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>trade_id</td>
<td><strong>integer</strong> The ID of the trade execution.</td>
</tr>
<tr>
<td>price</td>
<td><strong>decimal</strong> The price at which the trade was executed.</td>
</tr>
<tr>
<td>base_volume</td>
<td><strong>decimal</strong> The traded quantity of the base product/currency.</td>
</tr>
<tr>
<td>quote_volume</td>
<td><strong>decimal</strong> The traded quantity of the quote product/currency.</td>
</tr>
<tr>
<td>timestamp</td>
<td><strong>string</strong> The exact date and time when the trade was executed, in UTC.</td>
</tr>
<tr>
<td>type</td>
<td><strong>string</strong> The side of the trade, either <strong>sell</strong> or <strong>buy</strong>.</td>
</tr>
</tbody></table>
<h2 id='getearliestticktime'>GetEarliestTickTime</h2>
<p><strong>Permissions:</strong> Level1MarketData, Operator<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets the earliest ticker time possible for a specific instrument or market pair.</p>
<h3 id='request-118'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetEarliestTickTime</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetEarliestTickTime</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here..</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">239260f0-dd79-439b-85e2-a5a24fcd9158 //valid session token, can be acquired during HTTP authentication</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">54</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The id of the instrument, symbol is not accepted.If you don&#39;t specify this, response will have the current timestamp which is not valid. <strong>required.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> ID of the OMS where the pair or instrument is being traded. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-118'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="mi">1651148820000</span><span class="p">]</span><span class="err">;</span><span class="w">
</span></code></pre></div>
<p>Returns an array with exactly 1 element which is the equivalent timestamp in milliseconds of the earliest ticker data for the specific instrument in the request.</p>
<h2 id='getl2snapshot'>GetL2Snapshot</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Provides a current Level 2 snapshot of a specific instrument trading on an OMS to a user-determined market depth. The Level 2 snapshot allows the user to specify the level of market depth information on either side of the bid and ask.</p>

<aside class="notice">Depth in this call is "depth of market," the number of buyers and sellers at greater or lesser prices in the order book for the instrument.</aside>
<h3 id='request-119'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">GetL2Snapshot</span><span class="dl">'</span><span class="p">,{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span>
    <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">Depth</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">})</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetL2Snapshot</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">63</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Depth"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. The ID of the instrument that is the subject of the snapshot. <strong>required.</strong></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer</strong>. Maximum number of bids and asks that can be included in the results. If set to 10, there can be maximum of 10 bids and 10 asks in the results. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-119'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="mi">26</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">MDUpdateId</span><span class="w">
    </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Number</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">Unique</span><span class="w"> </span><span class="err">Accounts</span><span class="w">
    </span><span class="mi">1679559223042</span><span class="p">,</span><span class="w"> </span><span class="err">//ActionDateTime</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">Posix</span><span class="w"> </span><span class="err">format</span><span class="w"> </span><span class="err">X</span><span class="w"> </span><span class="mi">1000</span><span class="w">
    </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">ActionType</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">(New)</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">(Update)</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="err">(Delete)</span><span class="w">
    </span><span class="mi">29000</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">LastTradePrice</span><span class="w">
    </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Number</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">Orders</span><span class="w">
    </span><span class="mi">28700</span><span class="p">,</span><span class="w"> </span><span class="err">//Price</span><span class="w">
    </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">ProductPairCode</span><span class="w">
    </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Quantity</span><span class="w">
    </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Side</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">means</span><span class="w"> </span><span class="err">buy</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">bid</span><span class="w"> </span><span class="err">side</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="p">[</span><span class="w">
    </span><span class="mi">26</span><span class="p">,</span><span class="w">
    </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="mi">1679559223042</span><span class="p">,</span><span class="w">
    </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="mi">29000</span><span class="p">,</span><span class="w">
    </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="mf">0.52</span><span class="p">,</span><span class="w">
    </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Side</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">means</span><span class="w"> </span><span class="err">sell</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">ask</span><span class="w"> </span><span class="err">side</span><span class="w">
  </span><span class="p">],</span><span class="w">
</span><span class="p">][</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">This</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">how</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">response</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">sent:</span><span class="w">

  </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="err">;</span><span class="w">
</span></code></pre></div>
<p>The response is an array of elements for one specific instrument, the number of elements corresponding to the market depth specified in the Request. It is sent as an uncommented, comma-delimited list of numbers. The example is commented. The <em>Level2UpdateEvent</em> contains the same data, but is sent by the OMS whenever trades occur. To receive <em>Level2UpdateEvents</em>, a user must subscribe to <em>Level2UpdateEvents</em>.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>MDUpdateID</td>
<td><strong>integer</strong>. Market Data Update ID. This sequential ID identifies the order in which the update was created.</td>
</tr>
<tr>
<td>Number of Unique Accounts</td>
<td><strong>integer</strong>. Number of accounts that placed orders.</td>
</tr>
<tr>
<td>ActionDateTime</td>
<td><strong>long integer.</strong>. <em>ActionDateTime</em> identifies the time and date that the snapshot was taken or the event occurred, in POSIX format X 1000 (milliseconds since 1 January 1970).</td>
</tr>
<tr>
<td>ActionType</td>
<td><strong>integer</strong>. L2 information provides price data. This value shows whether this data is:<br /><strong>0</strong> new<br /><strong>1</strong> update<br /><strong>2</strong> deletion</td>
</tr>
<tr>
<td>LastTradePrice</td>
<td><strong>decimal</strong>. The price at which the instrument was last traded.</td>
</tr>
<tr>
<td>Number of Orders</td>
<td><strong>integer</strong>. Number of orders in the GetL2Snapshot.</td>
</tr>
<tr>
<td>Price</td>
<td><strong>decimal</strong>. Bid or Ask price for the Quantity (see <em>Quantity</em> below).</td>
</tr>
<tr>
<td>ProductPairCode</td>
<td><strong>integer</strong>. <em>ProductPairCode</em> is the same value and used for the same purpose as <em>InstrumentID</em>. The two are completely equivalent. <em>InstrumentId</em> 47 = <em>ProductPairCode</em> 47.</td>
</tr>
<tr>
<td>Quantity</td>
<td><strong>decimal</strong>. Quantity available at a given Bid or Ask price (see <em>Price</em> above).</td>
</tr>
<tr>
<td>Side</td>
<td><strong>integer</strong>. One of:<br /><strong>0</strong> Buy means it is on the bid side<br /><strong>1</strong> Sell means it is on the ask side<br /><strong>2</strong> Short (reserved for future use)<br /><strong>3</strong> Unknown (error condition)</td>
</tr>
</tbody></table>
<h2 id='getlevel1'>GetLevel1</h2>
<p><strong>Permissions:</strong> Trading, Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Provides a current Level 1 snapshot (best bid, best offer and other data such lasttradedprice) of a specific instrument trading on an OMS. The Level 1 snapshot does not allow the user to specify the level of market depth information on either side of the bid and ask.</p>
<h3 id='request-120'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">GetLevel1</span><span class="dl">'</span><span class="p">,{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span>
    <span class="na">InstrumentId</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetLevel1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">27</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument whose Level 1 market snapshot will be taken. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-120'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BestBid"</span><span class="p">:</span><span class="w"> </span><span class="mi">28700</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BestOffer"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastTradedPx"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastTradedQty"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastTradeTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1679466290437</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SessionOpen"</span><span class="p">:</span><span class="w"> </span><span class="mi">28000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SessionHigh"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SessionLow"</span><span class="p">:</span><span class="w"> </span><span class="mi">28000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SessionClose"</span><span class="p">:</span><span class="w"> </span><span class="mi">29000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CurrentDayVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.222</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CurrentDayNotional"</span><span class="p">:</span><span class="w"> </span><span class="mf">6425.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CurrentDayNumTrades"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CurrentDayPxChange"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Rolling24HrVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Rolling24HrNotional"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Rolling24NumTrades"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Rolling24HrPxChange"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1679466290440"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BidQty"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AskQty"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BidOrderCt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AskOrderCt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Rolling24HrPxChangePercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The ID of the OMS.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer</strong>. The ID of the instrument being tracked.</td>
</tr>
<tr>
<td>BestBid</td>
<td><strong>decimal</strong>. The current best bid for the instrument.</td>
</tr>
<tr>
<td>BestOffer</td>
<td><strong>decimal</strong>. The current best offer for the instrument.</td>
</tr>
<tr>
<td>LastTradedPx</td>
<td><strong>decimal</strong>. The last-traded price for the instrument.</td>
</tr>
<tr>
<td>LastTradedQty</td>
<td><strong>decimal</strong>. The last-traded quantity for the instrument.</td>
</tr>
<tr>
<td>LastTradeTime</td>
<td><strong>long integer</strong>. The time of the last trade, in POSIX format.</td>
</tr>
<tr>
<td>SessionOpen</td>
<td><strong>decimal</strong>. Opening price. In markets with openings and closings, this is the opening price for the current session; in 24-hour markets, it is the price as of UTC Midnight.</td>
</tr>
<tr>
<td>SessionHigh</td>
<td><strong>decimal</strong>. Highest price during the trading day, either during a session with opening and closing prices or UTC midnight to UTC midnight.</td>
</tr>
<tr>
<td>SessionLow</td>
<td><strong>decimal</strong>. Lowest price during the trading day, either during a session with opening and closing prices or UTC midnight to UTC midnight.</td>
</tr>
<tr>
<td>SessionClose</td>
<td><strong>decimal</strong>. The closing price. In markets with openings and closings, this is the closing price for the current session; in 24-hour markets, it is the price as of UTC Midnight.</td>
</tr>
<tr>
<td>Volume</td>
<td><strong>decimal</strong>. The last-traded quantity for the instrument, same value as LastTradedQty</td>
</tr>
<tr>
<td>CurrentDayVolume</td>
<td><strong>decimal</strong>. The unit volume of the instrument traded either during a session with openings and closings or in 24-hour markets, the period from UTC Midnight to UTC Midnight.</td>
</tr>
<tr>
<td>CurrentDayNumTrades</td>
<td><strong>integer</strong>. The number of trades during the current day, either during a session with openings and closings or in 24-hour markets, the period from UTC Midnight to UTC Midnight.</td>
</tr>
<tr>
<td>CurrentDayPxChange</td>
<td><strong>decimal</strong>. Current day price change, either during a trading session or UTC Midnight to UTC midnight.</td>
</tr>
<tr>
<td>CurrentNotional</td>
<td><strong>decimal.</strong> Current day quote volume - resets at UTC Midnight.</td>
</tr>
<tr>
<td>Rolling24HrNotional</td>
<td><strong>decimal.</strong> Rolling 24 hours quote volume.</td>
</tr>
<tr>
<td>Rolling24HrVolume</td>
<td><strong>decimal</strong>. Unit volume of the instrument during the past 24 hours, regardless of time zone. Recalculates continuously.</td>
</tr>
<tr>
<td>Rolling24HrNumTrades</td>
<td><strong>integer</strong>. Number of trades during the past 24 hours, regardless of time zone. Recalculates continuously.</td>
</tr>
<tr>
<td>Rolling24HrPxChange</td>
<td><strong>decimal</strong>. Price change during the past 24 hours, regardless of time zone. Recalculates continuously.</td>
</tr>
<tr>
<td>TimeStamp</td>
<td><strong>string</strong>. The time this information was provided, in POSIX format.</td>
</tr>
<tr>
<td>BidQty</td>
<td><strong>decimal.</strong> The quantity currently being bid.</td>
</tr>
<tr>
<td>AskQty</td>
<td><strong>decimal.</strong> The quantity currently being asked.</td>
</tr>
<tr>
<td>BidOrderCt</td>
<td><strong>integer.</strong> The count of bid orders.</td>
</tr>
<tr>
<td>AskOrderCt</td>
<td><strong>integer.</strong> The count of ask orders.</td>
</tr>
<tr>
<td>Rolling24HrPxChangePercent</td>
<td><strong>decimal.</strong> Percent change in price during the past 24hours.</td>
</tr>
</tbody></table>
<h2 id='getenums'>GetEnums</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get Order Object Enum Definitions</p>
<h3 id='request-121'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetEnums</span><span class="dl">"</span><span class="p">,</span> <span class="p">{});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetEnums</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>

<span class="p">}</span><span class="w">
</span></code></pre></div>
<p>No request payload required.</p>
<h3 id='response-121'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Property"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderState"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Enums"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order is in non-terminal state either on the order book or not activated yet if a stop order"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rejected"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order is in a terminal state and has been rejected by the matching engine"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Canceled"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order is in a terminal state and has been cancelled by the oms or by the user"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Expired"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order is in a terminal state and has been expired by the matching engine"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FullyExecuted"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order is in a terminal state and has been fully executed by the matching engine"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Number"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Class</td>
<td><strong>integer.</strong> The class name. Since GetEnums is solely for Orders currently, the class name will always be <strong>Order</strong>.</td>
</tr>
<tr>
<td>Property</td>
<td><strong>integer.</strong> The property name, since GetEnums is solely for Orders currently, property name will always be <strong>OrderState</strong>.</td>
</tr>
<tr>
<td>Enums</td>
<td><strong>array of objects.</strong> The actual enum values for Orders.<br/> <strong>Name</strong> - <strong>string</strong> The name of the order state enum.<br/> <strong>Description</strong> - <strong>string</strong> The description of the order state enum.<br/> <strong>Number</strong> - <strong>integer</strong> The number of the order state enum.</td>
</tr>
</tbody></table>
<h1 id='transfer'>Transfer</h1><h2 id='gettransfer'>GetTransfer</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get information on the specified transfer.</p>
<h3 id='request-122'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetTransfer</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">TransferId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetTransfer</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">8ccf974c-cb02-4d46-b940-d87d50b4a0bf</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">63</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransferId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account to which the transfer belongs to, the account is either the sender or the receiver of the transfer. <strong>required.</strong></td>
</tr>
<tr>
<td>TransferId</td>
<td><strong>integer.</strong> The ID of the specific transfer. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-122'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"TransferId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SenderAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"SenderUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReceiverAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ReceiverUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TransferState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637836628541673107</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastUpdatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637836628541749306</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UniqueClientTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"InvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>TransferId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>SenderAccountId</td>
<td><strong>integer.</strong> The ID of the sender account, the account where the transfer amount was debited.</td>
</tr>
<tr>
<td>SenderUserName</td>
<td><strong>string.</strong> The username of the sender account.</td>
</tr>
<tr>
<td>ReceiverAccountId</td>
<td><strong>integer.</strong> The ID of the receiver account, the account where the transfer amount was credited.</td>
</tr>
<tr>
<td>ReceiverUserName</td>
<td><strong>string.</strong> The username of the receiver account.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the asset or product that was transfered.</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount of the transfered asset or product.</td>
</tr>
<tr>
<td>Notes</td>
<td><strong>string.</strong> Some notes/comments that pertains to the transfer.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>Reason</td>
<td><strong>string.</strong> The reason for the transfer, defaults to <strong>User</strong> which means user initiated.</td>
</tr>
<tr>
<td>TransferState</td>
<td><strong>string.</strong> The state of the transfer; one of the following: <strong>Accepted</strong>, <strong>Pending</strong>, <strong>Rejected</strong>, <strong>Canceled</strong>, <strong>Failed</strong>.</td>
</tr>
<tr>
<td>CreatedTimeInTicks</td>
<td><strong>long integer.</strong> The exact date and time the transfer occured.</td>
</tr>
<tr>
<td>LastUpdatedInTimeTicks</td>
<td><strong>long integer.</strong> The exact date and time the transfer was last updated.</td>
</tr>
<tr>
<td>UniqueClientTransactionId</td>
<td><strong>string.</strong> Unique string that identifies a transfer, for idempotency.</td>
</tr>
<tr>
<td>InvoiceId</td>
<td><strong>integer.</strong> The invoice ID of the transfer, defaults to 0, reserved for future use.</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> The notional value of the transfer amount, calculated based on the notional product.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The ID of the notional product.</td>
</tr>
</tbody></table>
<h2 id='gettransfers'>GetTransfers</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get transfers for a specific account. Only sent(the account specified is the sender) transfers will be retrieved.</p>
<h3 id='request-123'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetTransfers</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">StartIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">Limit</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetTransfers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">91cb65ba-7163-4609-a3e5-eef8783bf78b</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">86</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StartIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which you wish to retrieve transfers, the account is either the sender or the receiver of the transfer. <strong>required.</strong></td>
</tr>
<tr>
<td>Limit</td>
<td><strong>integer.</strong> The maximum number of transfers you wish to retrieve. Used for pagination together with the <strong>StartIndex</strong> field. If not set, all transfers of the specified account will be returned but would still depend on the <strong>StartIndex</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer.</strong> The starting index of the result you wish retrieve. Pagination field, value of 0 means results will start at the very first result. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-123'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransferId"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SenderAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SenderUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiverAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiverUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransferState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637840807074355612</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637840807074445388</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UniqueClientTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransferId"</span><span class="p">:</span><span class="w"> </span><span class="mi">116</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SenderAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SenderUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiverAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">98</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiverUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample.sample@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransferState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637894937494344686</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637894937494480907</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UniqueClientTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>TransferId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>SenderAccountId</td>
<td><strong>integer.</strong> The ID of the sender account, the account where the transfer amount was debited.</td>
</tr>
<tr>
<td>SenderUserName</td>
<td><strong>string.</strong> The username of the sender account.</td>
</tr>
<tr>
<td>ReceiverAccountId</td>
<td><strong>integer.</strong> The ID of the receiver account, the account where the transfer amount was credited.</td>
</tr>
<tr>
<td>ReceiverUserName</td>
<td><strong>string.</strong> The username of the receiver account.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the asset or product that was transfered.</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount of the transfered asset or product.</td>
</tr>
<tr>
<td>Notes</td>
<td><strong>string.</strong> Some notes/comments that pertains to the transfer.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>Reason</td>
<td><strong>string.</strong> The reason for the transfer, defaults to <strong>User</strong> which means user initiated.</td>
</tr>
<tr>
<td>TransferState</td>
<td><strong>string.</strong> The state of the transfer; one of the following: <strong>Accepted</strong>, <strong>Pending</strong>, <strong>Rejected</strong>, <strong>Canceled</strong>, <strong>Failed</strong>.</td>
</tr>
<tr>
<td>CreatedTimeInTicks</td>
<td><strong>long integer.</strong> The exact date and time the transfer occured.</td>
</tr>
<tr>
<td>LastUpdatedInTimeTicks</td>
<td><strong>long integer.</strong> The exact date and time the transfer was last updated.</td>
</tr>
<tr>
<td>UniqueClientTransactionId</td>
<td><strong>string.</strong> Unique string that identifies a transfer, for idempotency.</td>
</tr>
<tr>
<td>InvoiceId</td>
<td><strong>integer.</strong> The invoice ID of the transfer, defaults to 0, reserved for future use.</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> The notional value of the transfer amount, calculated based on the notional product.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The ID of the notional product.</td>
</tr>
</tbody></table>
<h2 id='gettransfersreceived'>GetTransfersReceived</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a list of recieved transfers by an account.</p>
<h3 id='request-124'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetTransfersReceived</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
  <span class="na">Limit</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="na">StartIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetTransfersReceived</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c0c5fb0b-2b9d-9a2e-9fe2-a2eb8bfcc252</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">81</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StartIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which you wish to retrieve received transfers. <strong>required.</strong></td>
</tr>
<tr>
<td>Limit</td>
<td><strong>integer.</strong> The maximum number of received transfers you wish to retrieve. Used for pagination together with the <strong>StartIndex</strong> field. If not set, all received transfers of the specified account will be returned but would still depend on the <strong>StartIndex</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer.</strong> The starting index of the result you wish retrieve. Pagination field, value of 0 means results will start at the very first result, result set is ordered by transfer ID, ascending, means the first index would be the very first received transfer of the account, the most recent received transfer will have the highest index. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-124'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransferId"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SenderAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SenderUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample.sample@alphapoint.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiverAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiverUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample.sample@alphapoint.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample transfer."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransferState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637947129156176837</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637947129156281039</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UniqueClientTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransferId"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SenderAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SenderUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample.sample@alphapoint.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiverAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiverUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample.sample@alphapoint.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample transfer with SubscribeAllAccountEvents"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransferState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637947136610526395</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637947136610580531</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UniqueClientTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>TransferId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>SenderAccountId</td>
<td><strong>integer.</strong> The ID of the sender account, the account where the transfer amount was debited.</td>
</tr>
<tr>
<td>SenderUserName</td>
<td><strong>string.</strong> The username of the sender account.</td>
</tr>
<tr>
<td>ReceiverAccountId</td>
<td><strong>integer.</strong> The ID of the receiver account, the account where the transfer amount was credited.</td>
</tr>
<tr>
<td>ReceiverUserName</td>
<td><strong>string.</strong> The username of the receiver account.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the asset or product that was transfered.</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount of the transfered asset or product.</td>
</tr>
<tr>
<td>Notes</td>
<td><strong>string.</strong> Some notes/comments that pertains to the transfer.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>Reason</td>
<td><strong>string.</strong> The reason for the transfer, defaults to <strong>User</strong> which means user initiated.</td>
</tr>
<tr>
<td>TransferState</td>
<td><strong>string.</strong> The state of the transfer; one of the following: <strong>Accepted</strong>, <strong>Pending</strong>, <strong>Rejected</strong>, <strong>Canceled</strong>, <strong>Failed</strong>.</td>
</tr>
<tr>
<td>CreatedTimeInTicks</td>
<td><strong>long integer.</strong> The exact date and time the transfer occured.</td>
</tr>
<tr>
<td>LastUpdatedInTimeTicks</td>
<td><strong>long integer.</strong> The exact date and time the transfer was last updated.</td>
</tr>
<tr>
<td>UniqueClientTransactionId</td>
<td><strong>string.</strong> Unique string that identifies a transfer, for idempotency.</td>
</tr>
<tr>
<td>InvoiceId</td>
<td><strong>integer.</strong> The invoice ID of the transfer, defaults to 0, reserved for future use.</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> The notional value of the transfer amount, calculated based on the notional product.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The ID of the notional product.</td>
</tr>
</tbody></table>
<h2 id='gettransfershistory'>GetTransfersHistory</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a list of transfers for an account, including both sent and received. Can be filtered with several search parameters/fields.</p>
<h3 id='request-125'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetTransfersHistory</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="na">TransferId</span><span class="p">:</span> <span class="mi">73</span><span class="p">,</span>
  <span class="na">TransferState</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Accepted</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">StartTimeStamp</span><span class="p">:</span> <span class="mi">637992910693518990</span><span class="p">,</span>
  <span class="na">EndTimeStamp</span><span class="p">:</span> <span class="mi">637992910693518990</span><span class="p">,</span>
  <span class="na">Limit</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="na">StartIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetTransfersHistory</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c0c5fb0b-2b9d-9a2e-9fe2-a2eb8bfcc252</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">242</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransferId"</span><span class="p">:</span><span class="w"> </span><span class="mi">73</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransferState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StartTimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">637992910693518990</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EndTimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">637992910693518990</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"StartIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Filter or search parameters/fields needs to be aligned and coordinated to arrive at the expected results.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which you wish to retrieve transfers. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product that was transfered, if defined only transfers of such product will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>TransferId</td>
<td><strong>integer.</strong> The ID of the specific transfer you wish to retrieve, if specified only 1 result will be returned(if TransferId is existing else reponse will be empty). <strong>optional.</strong></td>
</tr>
<tr>
<td>TransferState</td>
<td><strong>string.</strong> The state of the transfers you wish to retrieve, if defined, only transfers with the transfer state specified will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartTimeStamp</td>
<td><strong>long integer.</strong> If defined, only transfers that occured on or after the specified timestamp will be returned, format is in timeticks. <strong>optional.</strong></td>
</tr>
<tr>
<td>EndTimeStamp</td>
<td><strong>long integer.</strong> If defined, only transfers that occured on or before the specified timestamp will be returned, format is in timeticks. <strong>optional.</strong></td>
</tr>
<tr>
<td>Limit</td>
<td><strong>integer.</strong> The maximum number of transfers you wish to retrieve. Used for pagination together with the <strong>StartIndex</strong> field. If not set, all received transfers of the specified account will be returned but would still depend on the <strong>StartIndex</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer.</strong> Pagination field, value of 0 means results will start at the very first result, result set is ordered by transfer ID, ascending, means the first index would be the very first received transfer of the account, the most recent received transfer will have the highest index. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-125'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransferId"</span><span class="p">:</span><span class="w"> </span><span class="mi">73</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SenderAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SenderUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiverAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiverUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard.nemeth@alphapoint.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00000001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hey"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransferState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Accepted"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637992910693518990</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdatedTimeInTicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">637992910693685208</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UniqueClientTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InvoiceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0001899965</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>TransferId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>SenderAccountId</td>
<td><strong>integer.</strong> The ID of the sender account, the account where the transfer amount was debited.</td>
</tr>
<tr>
<td>SenderUserName</td>
<td><strong>string.</strong> The username of the sender account.</td>
</tr>
<tr>
<td>ReceiverAccountId</td>
<td><strong>integer.</strong> The ID of the receiver account, the account where the transfer amount was credited.</td>
</tr>
<tr>
<td>ReceiverUserName</td>
<td><strong>string.</strong> The username of the receiver account.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the asset or product that was transfered.</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount of the transfered asset or product.</td>
</tr>
<tr>
<td>Notes</td>
<td><strong>string.</strong> Some notes/comments that pertains to the transfer.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>Reason</td>
<td><strong>string.</strong> The reason for the transfer, defaults to <strong>User</strong> which means user initiated.</td>
</tr>
<tr>
<td>TransferState</td>
<td><strong>string.</strong> The state of the transfer; one of the following: <strong>Accepted</strong>, <strong>Pending</strong>, <strong>Rejected</strong>, <strong>Canceled</strong>, <strong>Failed</strong>.</td>
</tr>
<tr>
<td>CreatedTimeInTicks</td>
<td><strong>long integer.</strong> The exact date and time the transfer occured.</td>
</tr>
<tr>
<td>LastUpdatedInTimeTicks</td>
<td><strong>long integer.</strong> The exact date and time the transfer was last updated.</td>
</tr>
<tr>
<td>UniqueClientTransactionId</td>
<td><strong>string.</strong> Unique string that identifies a transfer, for idempotency.</td>
</tr>
<tr>
<td>InvoiceId</td>
<td><strong>integer.</strong> The invoice ID of the transfer, defaults to 0, reserved for future use.</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> The notional value of the transfer amount, calculated based on the notional product.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The ID of the notional product.</td>
</tr>
</tbody></table>
<h2 id='transferfunds'>TransferFunds</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Transfer funds between accounts.</p>

<p>The behavior of this API is somehow connected to 2FA:<br />
- If the user invoking the API has 2FA enabled, TransferFunds will initially respond with a message <strong>Waiting for 2FA</strong>. The user will need do Authenticate2FA providing the valid 2FA code so the funds transfer will be processed completely.<br />
- Otherwise, if the user invoking the API does not have 2FA enabled, TransferFunds will immediately respond with success, of course given that the payload is valid.<br /></p>
<h3 id='request-126'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">TransferFunds</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">SenderAccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ReceiverAccountId</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Amount</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
  <span class="na">Notes</span><span class="p">:</span> <span class="dl">"</span><span class="s2">User entered notes.</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">UniqueClientTransactionId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">UniqueTransferIdTag</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/TransferFunds</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c0c5fb0b-2b9d-9a2e-9fe2-a2eb8bfcc252</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">233</span>

<span class="p">{</span><span class="w">
     </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"SenderAccountId"</span><span class="p">:</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ReceiverAccountId"</span><span class="p">:</span><span class="w">  </span><span class="mi">10</span><span class="p">,</span><span class="w">
     </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w">  </span><span class="mf">100.00</span><span class="p">,</span><span class="w">
     </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User entered notes."</span><span class="p">,</span><span class="w">
     </span><span class="nl">"UniqueClientTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UniqueTransferIdTag"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>SenderAccountId</td>
<td><strong>integer.</strong> The ID of the account which will be sending the transfer amount to the receiver account, transfer amount will be debited from this account. <strong>required.</strong></td>
</tr>
<tr>
<td>ReceiverAccountId</td>
<td><strong>integer.</strong> The ID of the account which will be receiving the transfer amount from the sender account, transfer amount will be credited to this account. Required if <strong>ReceiverUsername</strong> is not defined. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>ReceiverUsername</td>
<td><strong>string.</strong> The email address of the user whose account will get credited or the one which will receive the transfer. Required if <strong>ReceiverAccountId</strong> is not defined. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product to that will be transfered from the sender account to the receiver account. <strong>required.</strong></td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount of product to be transfered from the sender account to the receiver account. <strong>required.</strong></td>
</tr>
<tr>
<td>Notes</td>
<td><strong>string.</strong> Notes/comments about the transfer that you wish to record, empty string is allowed but explicitly not including this particular field will cause an error. <strong>required.</strong></td>
</tr>
<tr>
<td>UniqueClientTransactionId</td>
<td><strong>string.</strong> A unique identifier for the transfer that you can define, will be used for idempotency: transfer won&#39;t be run twice or there will be no risk of double spending <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-126'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">TransferId</span><span class="se">\"</span><span class="s2">:220,</span><span class="se">\"</span><span class="s2">SenderAccountId</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">SenderUserName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">admin</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ReceiverAccountId</span><span class="se">\"</span><span class="s2">:10,</span><span class="se">\"</span><span class="s2">ReceiverUserName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">sample</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ProductId</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:100.00000000000000000000000000,</span><span class="se">\"</span><span class="s2">Notes</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">User entered notes.</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">OMSId</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">Reason</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">User</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">TransferState</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Accepted</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">CreatedTimeInTicks</span><span class="se">\"</span><span class="s2">:638181138234948611,</span><span class="se">\"</span><span class="s2">LastUpdatedTimeInTicks</span><span class="se">\"</span><span class="s2">:638181138235136420,</span><span class="se">\"</span><span class="s2">UniqueClientTransactionId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">UniqueTransferIdTag</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">InvoiceId</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">NotionalValue</span><span class="se">\"</span><span class="s2">:100.00000000000000000000000000,</span><span class="se">\"</span><span class="s2">NotionalProductId</span><span class="se">\"</span><span class="s2">:1}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. The details about the transfer that just occurred.</td>
</tr>
</tbody></table>
<h2 id='canceltransferfunds'>CancelTransferFunds</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Cancel a pending transfer of funds for a user. A user with the default permissions can only cancel pending transfers for its own account/s.</p>
<h3 id='request-127'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CancelTransferFunds</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">TransferId</span><span class="p">:</span> <span class="mi">306</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CancelTransferFunds</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">babf8e09-60bd-4c3e-8363-1220f5fe2b3a</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">65</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransferId"</span><span class="p">:</span><span class="w"> </span><span class="mi">306</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>TransferId</td>
<td><strong>integer.</strong> The ID of the specific pending transfer to be canceled.. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account who owns the pending transfer, the sender account. This is the default account associated to the authenticated user. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-127'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Additional details about the result. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='requesttransferfunds'>RequestTransferFunds</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Request a transfer of funds from another user in the exchange.</p>
<h3 id='request-128'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">RequestTransferFunds</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Notes</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sample only!</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">ReceiverUsername</span><span class="p">:</span> <span class="dl">"</span><span class="s2">sample.sample@alphapoint.com</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Amount</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/RequestTransferFunds</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">324050b5-639f-40cd-b2e4-274b71efe741</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">147</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample only!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReceiverUsername"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample.sample@alphapoint.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product to that will be transfered from the sender account to the receiver account. <strong>required.</strong></td>
</tr>
<tr>
<td>Notes</td>
<td><strong>string.</strong> Notes/comments about the transfer that you wish to record, empty string is allowed but explicitly not including this particular field will cause an error. <strong>required.</strong></td>
</tr>
<tr>
<td>ReceiverUsername</td>
<td><strong>string.</strong> The username of the user who will receive the transferfunds request, can either be the actual username or the email address of the user. <strong>required.</strong></td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The actual amount of product being requested to be transfered. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-128'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"requestcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0689a7c2-252e-4c5a-b79c-c908214d22cc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>requestcode</td>
<td><strong>string.</strong> The GUID of the transfer of funds request, will be used as the request payload for either confirming or rejecting the transfer of funds request using the API <a href="https://trading.alphapointuniversity.com/#confirmrequesttransferfunds">ConfirmRequestTransferFunds</a> or <a href="https://trading.alphapointuniversity.com/#rejectrequesttransferfunds">RejectRequestTransferFunds</a>.</td>
</tr>
</tbody></table>
<h2 id='confirmrequesttransferfunds'>ConfirmRequestTransferFunds</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Confirm a transfer of funds request</p>
<h3 id='request-129'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ConfirmRequestTransferFunds</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">RequestCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3c96533a-e2eb-4a6b-a240-8269738ca3c3</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">OperatorId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ConfirmRequestTransferFunds</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">324050b5-639f-40cd-b2e4-274b71efe741</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">102</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3c96533a-e2eb-4a6b-a240-8269738ca3c3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID of the transfer of funds request to be confirmed. <strong>required.</strong></td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the Operator where the OMS operates. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-129'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Response</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">transfer</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">funds</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">successfully</span><span class="w"> </span><span class="err">confirmed.</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requestcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3c96533a-e2eb-4a6b-a240-8269738ca3c3"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Response</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">transfer</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">funds</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">already</span><span class="w"> </span><span class="err">processed</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Request"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Transfer already processed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>requestcode</td>
<td><strong>string.</strong> The GUID of the confirmed transfer of funds request.</td>
</tr>
</tbody></table>
<h2 id='rejectrequesttransferfunds'>RejectRequestTransferFunds</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Reject a transfer of funds request</p>
<h3 id='request-130'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ConfirmRequestTransferFunds</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">RequestCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6e48c0bc-881a-41ea-a0aa-1f7359f3647b</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">OperatorId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/RejectRequestTransferFunds</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">324050b5-639f-40cd-b2e4-274b71efe741</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">102</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e48c0bc-881a-41ea-a0aa-1f7359f3647b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID of the transfer of funds request to be rejected. <strong>required.</strong></td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the Operator where the OMS operates. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-130'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">//Response if transfer of funds rejection is successful.</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">requestcode</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6e48c0bc-881a-41ea-a0aa-1f7359f3647b</span><span class="dl">"</span>
<span class="p">}</span>

<span class="c1">//Response if transfer of funds request is already processed</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">errormsg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Invalid Request</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">errorcode</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">detail</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Transfer already processed</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>requestcode</td>
<td><strong>string.</strong> The GUID of the rejected transfer of funds request.</td>
</tr>
</tbody></table>
<h2 id='getrequesttransfer'>GetRequestTransfer</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a transfer of funds request either sent or received by a user.</p>
<h3 id='request-131'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetRequestTransfer</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OperatorId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">RequestCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">039e47df-55c4-47b1-a2bc-8d424e833c46</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetRequestTransfer</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">8e6ea2c5-7ee2-4206-bf90-25f56e79e0b8</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">102</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"039e47df-55c4-47b1-a2bc-8d424e833c46"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID of the specific transfer of funds request to be retrieved. <strong>required.</strong></td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the Operator where the OMS operates. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-131'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"CreatedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-28T16:01:48.740Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastUpdateTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-28T16:11:47.451Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"039e47df-55c4-47b1-a2bc-8d424e833c46"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PayerUsername"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PayerAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestorUsername"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestorAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ProductName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TransferCompleted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>CreatedTimestamp</td>
<td><strong>string.</strong> The exact date and time the transfer of funds request got created.</td>
</tr>
<tr>
<td>LastUpdateTimestamp</td>
<td><strong>string.</strong> The exact date and time the transfer of funds request was last updated.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the Operator where the OMS operates.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>integer.</strong> The ID of the transfer of funds request.</td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID that uniquely identifies the transfer of funds request .</td>
</tr>
<tr>
<td>PayerUsername</td>
<td><strong>string.</strong> The username of the user who received the transfer of funds request, this will be the user who will either confirm or reject the request.</td>
</tr>
<tr>
<td>PayerAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the payer, this is the account where the transfer amount will come fron in case the request is approved or confirmed.</td>
</tr>
<tr>
<td>RequestorUsername</td>
<td><strong>string.</strong> The username of the user who requested the transfer of funds.</td>
</tr>
<tr>
<td>RequestorAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the user who requested the transfer of funds, this will be the account that will receive the transfer amount in case the request is approved or confirmed.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product which is being requested to be transfered.</td>
</tr>
<tr>
<td>ProductName</td>
<td><strong>string.</strong> The name of the product which is being requested to be transfered..</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount being requested to be transfered.</td>
</tr>
<tr>
<td>Notes</td>
<td><strong>string.</strong> Notes or comments about the transfer of funds request.</td>
</tr>
<tr>
<td>Status</td>
<td><strong>string.</strong> The current status of the transfer of funds request, one of the following: <strong>TransferCompleted</strong>, <strong>PayerRejected</strong>, <strong>Requested</strong></td>
</tr>
</tbody></table>
<h2 id='getrequesttransferrequestsreceived'>GetRequestTransferRequestsReceived</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a list of transfer of funds requests a user has recieved.</p>
<h3 id='request-132'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetRequestTransferRequestsReceived</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">PayerAccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">RequestorAccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetRequestTransferRequestsReceived</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">0db0b298-cc77-4f6d-809d-da79e2e0ef20</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">76</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PayerAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestorAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>PayerAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the user who received the transfer of funds request. Can be used to filter transfer of funds request with a specific payer account. This is usually the default account ID of the authenticated user. <strong>required.</strong></td>
</tr>
<tr>
<td>RequestorAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the user who requested the transfer of funds. <strong>optional.</strong></td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID of the specific transfer of funds request to be retrieved. If this will be defined, only 1 transfer of funds request will be returned, better use <a href="https://trading.alphapointuniversity.com/?javascript#getrequesttransfer">GetRequestTransfer</a>. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-132'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"CreatedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-27T04:54:01.032Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdateTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-27T04:54:01.032Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28ebb242-a7dd-4c95-ba4d-6a166350d9be"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PayerUsername"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PayerAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestorUsername"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestorAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Bitcoin request my friend!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Requested"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>CreatedTimestamp</td>
<td><strong>string.</strong> The exact date and time the transfer of funds request got created.</td>
</tr>
<tr>
<td>LastUpdateTimestamp</td>
<td><strong>string.</strong> The exact date and time the transfer of funds request was last updated.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the Operator where the OMS operates.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>integer.</strong> The ID of the transfer of funds request.</td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID that uniquely identifies the transfer of funds request .</td>
</tr>
<tr>
<td>PayerUsername</td>
<td><strong>string.</strong> The username of the user who received the transfer of funds request, this will be the user who will either confirm or reject the request.</td>
</tr>
<tr>
<td>PayerAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the payer, this is the account where the transfer amount will come fron in case the request is approved or confirmed.</td>
</tr>
<tr>
<td>RequestorUsername</td>
<td><strong>string.</strong> The username of the user who requested the transfer of funds.</td>
</tr>
<tr>
<td>RequestorAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the user who requested the transfer of funds, this will be the account that will receive the transfer amount in case the request is approved or confirmed.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product which is being requested to be transfered.</td>
</tr>
<tr>
<td>ProductName</td>
<td><strong>string.</strong> The name of the product which is being requested to be transfered..</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount being requested to be transfered.</td>
</tr>
<tr>
<td>Notes</td>
<td><strong>string.</strong> Notes or comments about the transfer of funds request.</td>
</tr>
<tr>
<td>Status</td>
<td><strong>string.</strong> The current status of the transfer of funds request, one of the following: <strong>TransferCompleted</strong>, <strong>PayerRejected</strong>, <strong>Requested</strong></td>
</tr>
</tbody></table>
<h2 id='getrequesttransferrequestsrequested'>GetRequestTransferRequestsRequested</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a list transfer of funds requests sent by a user.</p>
<h3 id='request-133'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetRequestTransferRequestsRequested</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">RequestorAccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">PayerAccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetRequestTransferRequestsRequested</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">0db0b298-cc77-4f6d-809d-da79e2e0ef20</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">79</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestorAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PayerAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>RequestorAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the user who requested the transfer of funds. This is usually ID of the default account of the authenticated user. <strong>required.</strong></td>
</tr>
<tr>
<td>PayerAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the user who received the transfer of funds request. Can be used to filter transfer of funds request with a specific payer account. <strong>optional.</strong></td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID of the specific transfer of funds request to be retrieved. If this will be defined, only 1 transfer of funds request will be returned, better use <a href="https://trading.alphapointuniversity.com/?javascript#getrequesttransfer">GetRequestTransfer</a>. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-133'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"CreatedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-28T16:01:48.740Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdateTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-28T16:11:47.451Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"039e47df-55c4-47b1-a2bc-8d424e833c46"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PayerUsername"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PayerAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestorUsername"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestorAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TransferCompleted"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>CreatedTimestamp</td>
<td><strong>string.</strong> The exact date and time the transfer of funds request got created.</td>
</tr>
<tr>
<td>LastUpdateTimestamp</td>
<td><strong>string.</strong> The exact date and time the transfer of funds request was last updated.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the Operator where the OMS operates.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>integer.</strong> The ID of the transfer of funds request.</td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID that uniquely identifies the transfer of funds request .</td>
</tr>
<tr>
<td>PayerUsername</td>
<td><strong>string.</strong> The username of the user who received the transfer of funds request, this will be the user who will either confirm or reject the request.</td>
</tr>
<tr>
<td>PayerAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the payer, this is the account where the transfer amount will come fron in case the request is approved or confirmed.</td>
</tr>
<tr>
<td>RequestorUsername</td>
<td><strong>string.</strong> The username of the user who requested the transfer of funds.</td>
</tr>
<tr>
<td>RequestorAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the user who requested the transfer of funds, this will be the account that will receive the transfer amount in case the request is approved or confirmed.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product which is being requested to be transfered.</td>
</tr>
<tr>
<td>ProductName</td>
<td><strong>string.</strong> The name of the product which is being requested to be transfered..</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount being requested to be transfered.</td>
</tr>
<tr>
<td>Notes</td>
<td><strong>string.</strong> Notes or comments about the transfer of funds request.</td>
</tr>
<tr>
<td>Status</td>
<td><strong>string.</strong> The current status of the transfer of funds request, one of the following: <strong>TransferCompleted</strong>, <strong>PayerRejected</strong>, <strong>Requested</strong></td>
</tr>
</tbody></table>
<h2 id='getrequesttransfers'>GetRequestTransfers</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get a list transfer of funds requests of a user.</p>
<h3 id='request-134'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetRequestTransfers</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">RequestorAccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">PayerAccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetRequestTransfers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">8e6ea2c5-7ee2-4206-bf90-25f56e79e0b8</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">76</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestorAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PayerAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>RequestorAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the user who requested the transfer of funds. <strong>required.</strong></td>
</tr>
<tr>
<td>PayerAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the user who received the transfer of funds request. Can be used to filter transfer of funds request with a specific payer account. <strong>optional.</strong></td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID of the specific transfer of funds request to be retrieved. If this will be defined, only 1 transfer of funds request will be returned, better use <a href="https://trading.alphapointuniversity.com/?javascript#getrequesttransfer">GetRequestTransfer</a>. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-134'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"CreatedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-28T16:01:48.740Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdateTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-28T16:11:47.451Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"039e47df-55c4-47b1-a2bc-8d424e833c46"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PayerUsername"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PayerAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestorUsername"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_user"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestorAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TransferCompleted"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>CreatedTimestamp</td>
<td><strong>string.</strong> The exact date and time the transfer of funds request got created.</td>
</tr>
<tr>
<td>LastUpdateTimestamp</td>
<td><strong>string.</strong> The exact date and time the transfer of funds request was last updated.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the Operator where the OMS operates.</td>
</tr>
<tr>
<td>RequestId</td>
<td><strong>integer.</strong> The ID of the transfer of funds request.</td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID that uniquely identifies the transfer of funds request .</td>
</tr>
<tr>
<td>PayerUsername</td>
<td><strong>string.</strong> The username of the user who received the transfer of funds request, this will be the user who will either confirm or reject the request.</td>
</tr>
<tr>
<td>PayerAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the payer, this is the account where the transfer amount will come fron in case the request is approved or confirmed.</td>
</tr>
<tr>
<td>RequestorUsername</td>
<td><strong>string.</strong> The username of the user who requested the transfer of funds.</td>
</tr>
<tr>
<td>RequestorAccountId</td>
<td><strong>integer.</strong> The ID of the default account of the user who requested the transfer of funds, this will be the account that will receive the transfer amount in case the request is approved or confirmed.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product which is being requested to be transfered.</td>
</tr>
<tr>
<td>ProductName</td>
<td><strong>string.</strong> The name of the product which is being requested to be transfered..</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount being requested to be transfered.</td>
</tr>
<tr>
<td>Notes</td>
<td><strong>string.</strong> Notes or comments about the transfer of funds request.</td>
</tr>
<tr>
<td>Status</td>
<td><strong>string.</strong> The current status of the transfer of funds request, one of the following: <strong>TransferCompleted</strong>, <strong>PayerRejected</strong>, <strong>Requested</strong></td>
</tr>
</tbody></table>
<h2 id='batchtransfer'>BatchTransfer</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Transfer funds from one or more accounts to one or more accounts in a single API call. Payload is an array containing JSON object/s, each JSON object represents a single <a href="https://trading.alphapointuniversity.com/?javascript#transferfunds">TransferFunds</a> request. The transfer of funds can be assorted, means that it can be for different products, different amount, and different receiver accounts.</p>
<h3 id='request-135'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">BatchTransfer</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">SenderAccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">ReceiverAccountId</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
    <span class="na">ProductId</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">Amount</span><span class="p">:</span> <span class="mf">110.0</span><span class="p">,</span>
    <span class="na">Notes</span><span class="p">:</span> <span class="dl">"</span><span class="s2">User entered notes.</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">SenderAccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">ReceiverAccountId</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="na">ProductId</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">Amount</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="na">Notes</span><span class="p">:</span> <span class="dl">"</span><span class="s2">User entered notes.</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">SenderAccountId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">ReceiverAccountId</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
    <span class="na">ProductId</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">Amount</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="na">Notes</span><span class="p">:</span> <span class="dl">"</span><span class="s2">User entered notes.</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">SenderAccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="na">ReceiverAccountId</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
    <span class="na">ProductId</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">Amount</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="na">Notes</span><span class="p">:</span> <span class="dl">"</span><span class="s2">User entered notes.</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">]);</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/BatchTransfer</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.ap-can-uat.apstage.net</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">40622d15-afbd-d525-1801-02120fc32367</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">598</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SenderAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceiverAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">110.00</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Notes"</span><span class="p">:</span><span class="s2">"User entered notes."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SenderAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceiverAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.00</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Notes"</span><span class="p">:</span><span class="s2">"User entered notes."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SenderAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReceiverAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.00</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Notes"</span><span class="p">:</span><span class="s2">"User entered notes."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="err">OMSId:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="err">SenderAccountId:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="err">ReceiverAccountId:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="err">ProductId:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="err">Amount:</span><span class="w"> </span><span class="mf">100.0</span><span class="p">,</span><span class="w">
    </span><span class="err">Notes:</span><span class="w"> </span><span class="s2">"User entered notes."</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>SenderAccountId</td>
<td><strong>integer.</strong> The ID of the account which will be sending the transfer amount to the receiver account, transfer amount will be debited from this account. <strong>required.</strong></td>
</tr>
<tr>
<td>ReceiverAccountId</td>
<td><strong>integer.</strong> The ID of the account which will be receiving the transfer amount from the sender account, transfer amount will be credited to this account. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product to that will be transfered from the sender account to the receiver account. <strong>required.</strong></td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The amount of product to be transfered from the sender account to the receiver account. <strong>required.</strong></td>
</tr>
<tr>
<td>Notes</td>
<td><strong>string.</strong> Notes/comments about the transfer that you wish to record, empty string is allowed but explicitly not including this particular field will cause an error. <strong>required.</strong></td>
</tr>
<tr>
<td>UniqueClientTransactionId</td>
<td><strong>string.</strong> A unique identifier for the transfer that you can define, will be used for idempotency: transfer won&#39;t be run twice or there will be no risk of double spending <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-135'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">" Transfer 1: Success=True </span><span class="se">\n</span><span class="s2"> Transfer 2: Success=True </span><span class="se">\n</span><span class="s2"> Transfer 3: Success=True </span><span class="se">\n</span><span class="s2">"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Will contain the results for individual transfer of funds, Success either <strong>True</strong> or <strong>False</strong>. As of now, Success is always <strong>True</strong> even if the actual transfer of funds did not succeed due to insufficient funds for instance.</td>
</tr>
</tbody></table>
<h2 id='confirmtransferfundsregisteruser'>ConfirmTransferFundsRegisterUser</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Called upon user confirmation of their email from a transfer of funds to register their account. When a user does an internal transfer of funds to an email address which does not have a corresponding user in the system, APEX will automatically create the user and send an email to the email address. This also controlled by the Gateway config <strong>SendTransferFundsRegisterUserEmail</strong>, when the value is set to True, the contents of the email template <strong>TransferFundsRegisterUser</strong> will be sent, otherwise, the contents of usual <strong>VerifyEmail</strong> template will be sent.</p>
<h3 id='request-136'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ConfirmTransferFundsRegisterUser</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">111</span><span class="p">,</span>
  <span class="na">VerifyEmailCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">985d6237-10c3-6c19-c30e-2d1347445163</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Password</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Users Desired Plain text Password</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/ap/ConfirmTransferFundsRegisterUser</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">115</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VerifyEmailCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"985d6237-10c3-6c19-c30e-2d1347445163"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DemoUs3r"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer</strong>. ID of the user which will be confirmed/verified. <strong>required.</strong></td>
</tr>
<tr>
<td>VerifyEmailCode</td>
<td><strong>string</strong>. GUID being generated by APEX, must be a valid GUID. <strong>required.</strong></td>
</tr>
<tr>
<td>Password</td>
<td><strong>string</strong>. The nominated password in plain text, will be hashed by the backend. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-136'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h1 id='user'>User</h1><h2 id='getuseraffiliatecount'>GetUserAffiliateCount</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets a count of users that were referred by a user.</p>
<h3 id='request-137'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserAffiliateCount</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserAffiliateCount</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">e6567bb5-0245-4cb3-b99e-b3adebe9c94c //valid session token</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">38</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the user belongs to. Not explicitly required, defaults to the OMSId where the specified UserId belongs. <strong>optional.</strong></td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user for which to get number of affiliates. Not explicitly required but would make sense to define it because the count will always be zero if no UserId will be specified. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-137'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Count"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a JSON object. The value of the field count is the total number of affiliates of the specific user in the request.</p>
<h2 id='getuseraffiliatetag'>GetUserAffiliateTag</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns the existing affiliate tag associated with the identified user. The exchange can use an affiliate tag to identify new users who join the exchange as a result of a recommendation from the identified user. An affiliate tag is globally unique for each user, there will be no user which can have duplicate affiliate tag.</p>

<p>A user with the standard permissions can only fetch its own affiliate tag, a user will elevated permission/s can fetch any user&#39;s affiliate tag.</p>
<h3 id='request-138'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserAffiliateTag</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserAffiliateTag</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">e6567bb5-0245-4cb3-b99e-b3adebe9c94c //valid session token</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">38</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose affiliate tag you want to retrieve.If not set, affiliate tag of the currently logged-in user will be returned <strong>optional.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the specified user is assigned. If not set, it will default to the OMSId from the userinfo of the specified user. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-138'>Response</h3>
<p>The response is a JSON object of affiliate tag information including the UserId.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AffiliateId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AffiliateTag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the user operates. This echoes the <em>omsId</em> in the request.</td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose affiliate tag is returned. Echoes the <em>userId</em> in the request.</td>
</tr>
<tr>
<td>AffiliateId</td>
<td><strong>integer.</strong> Affiliate ID of the user, this is unique per user.</td>
</tr>
<tr>
<td>AffiliateTag</td>
<td><strong>string.</strong> The actual affiliate tag of the specified user.</td>
</tr>
</tbody></table>
<h2 id='adduseraffiliatetag'>AddUserAffiliateTag</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Associates an affiliate tag to a user. An exchange operator boost signups by can encouraging its current users to invite others to join by rewarding a user for every invite. For a user to be rewarded for every successful invite he/she makes, he/she needs to send an invite link together with his <strong>AffiliateTag</strong>. A user with elevated permission can add an affiliate tag for another user. A user can only have 1 affiliate tag at a time, if there is already an existing affiliate tag for the user, the affiliate tag in the request will replace the existing one. An affiliate tag is globally unique for each user, an affiliate tag already being used by any user cannot be added to any other user.</p>
<h3 id='request-139'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">AddUserAffiliateTag</span><span class="dl">'</span><span class="p">,{</span>
    <span class="dl">"</span><span class="s2">OMSId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">UserId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span> <span class="c1">//optional</span>
    <span class="dl">"</span><span class="s2">AffiliateTag</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">myaffiliatetag</span><span class="dl">"</span>
<span class="p">})</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/AddUserAffiliateTag</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">e6567bb5-0245-4cb3-b99e-b3adebe9c94c //valid session token</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">59</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="err">//Optional</span><span class="w">
    </span><span class="nl">"AffiliateTag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myaffiliatetag"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the user operates. <strong>optional.</strong></td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> ID of the user to whom the Affiliate tag will be added. If not specified, affiliate tag will be added for the user currently logged-in. Operator may opt to add user affiliate tags using a middleware, that&#39;s when UserId needs to be defined. <strong>optional.</strong></td>
</tr>
<tr>
<td>AffiliateTag</td>
<td><strong>string.</strong> The alphanumeric tag that will be set for the user. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-139'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> <em>True</em> signifies that the server has received the request to associate the affiliate tag with a specific user (not that it has done so); <em>false</em> signifies an error.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (<em>errorcode</em> 20), Invalid Request (<em>errorcode</em> 100), Operation Failed (<em>errorcode</em> 101), Server Error (<em>errorcode</em> 102), Resource Not Found (<em>errorcode</em> 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful response returns 0. An unsuccessful response returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='updateuseraffiliatetag'>UpdateUserAffiliateTag</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Updates an existing affiliate tag of a user. An affiliate tag is globally unique for each user, an affiliate tag already being used by any user cannot be used to update any other user&#39;s affiliate tag.</p>
<h3 id='request-140'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">'</span><span class="s1">UpdateUserAffiliateTag</span><span class="dl">'</span><span class="p">,{</span>
    <span class="dl">"</span><span class="s2">AffiliateTag</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">myaffiliatetag</span><span class="dl">"</span>
    <span class="dl">"</span><span class="s2">AffiliateId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7</span>
<span class="p">})</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/UpdateUserAffiliateTag</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">e6567bb5-0245-4cb3-b99e-b3adebe9c94c //valid session token</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">59</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"AffiliateTag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myaffiliatetag"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AffiliateId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the user operates. <strong>optional.</strong></td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user, not explicitly required. Needs to be defined if an operator decides to update user&#39;s affiliated tags using a middleware. <strong>conditionally required.</strong></td>
</tr>
<tr>
<td>AffiliateId</td>
<td><strong>integer.</strong> The affiliate Id of the user, this id automatically gets assigned to a user upon registration/signup. <strong>required.</strong></td>
</tr>
<tr>
<td>AffiliateTag</td>
<td><strong>string.</strong> The new affiliate tag to replace the existing one. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-140'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> <em>True</em> signifies that the server has received the request to update the affiliate tag with a specific user (not that it has done so); <em>false</em> signifies an error.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful response returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful response returns one of the following messages: Not Authorized (<em>errorcode</em> 20), Invalid Request (<em>errorcode</em> 100), Operation Failed (<em>errorcode</em> 101), Server Error (<em>errorcode</em> 102), Resource Not Found (<em>errorcode</em> 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful response returns 0. An unsuccessful response returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='getuseraccounts'>GetUserAccounts</h2>
<p><strong>Permissions:</strong> Operator, Trading, AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns a list of account IDs for a given user. More than one user may be associated with a given account. All fields in the payload are optional.</p>
<h3 id='request-141'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserAccounts</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserAccounts</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">f385969b-6985-4310-86a9-71330ad7c62e</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">20</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. The OMS on which the user has one ore more accounts. <strong>optional.</strong></td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer</strong>. The ID of the user whose accounts you want to return. If not specified, the accounts of the user currently authenticated will be returned. A user with elevated permissions can specify any UserID and will be able to get the account/s owned by any user. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-141'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array as a response, each element represents an ID of an account associated to the user.</p>
<h2 id='getuserdevices'>GetUserDevices</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Get the Registered Device/s of a specific user.</p>
<h3 id='request-142'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserDevices</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserDevices</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">a241cfbd-ccb3-4f71-9b04-3416549bba6f</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">4</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user for whose registered device/s will be returned. If an authenticated user has elevated permission/s, other parameters can be used such as <strong>Username</strong> and <strong>Email</strong>, all parameters of optional too because if no parameter is defined, the registered devices of the authenticated user will be returned.<em>conditionally optional.</em></td>
</tr>
</tbody></table>
<h3 id='response-142'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"HashCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">345283502</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DeviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Windows NT 10.0; Win64; x64"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsTrusted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">638169851720253079</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"HashCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">1697796896</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DeviceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Windows NT 10.0; Win64; x64"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IsTrusted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ExpirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">637853361524214929</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>HashCode</td>
<td><strong>integer.</strong> A unique code that identifies the user registered device.</td>
</tr>
<tr>
<td>Location</td>
<td><strong>string.</strong> Defaults to empty string, for future provision.</td>
</tr>
<tr>
<td>DeviceName</td>
<td><strong>string.</strong> The name of the device.</td>
</tr>
<tr>
<td>IpAddress</td>
<td><strong>string.</strong> The IpAddress from where the user registered the device.</td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user who owns the device.</td>
</tr>
<tr>
<td>IsTrusted</td>
<td><strong>boolean.</strong> Either true or false, if true device is trusted which means the user has confirmed, otherwise it is false.</td>
</tr>
<tr>
<td>ExpirationTime</td>
<td><strong>long integer.</strong> The date and time up to when the device will be trusted. In <strong>ticks</strong> format.</td>
</tr>
</tbody></table>
<h2 id='getuserinfo'>GetUserInfo</h2>
<p><strong>Permissions:</strong> Operator,Trading,AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves the info of a specific user.</p>
<h3 id='request-143'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserInfo</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserInfo</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">60240266-6a71-4653-bbc3-7146777a37f9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">21</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>All request payload given below are optional, you can use any of those one at a time. The authenticated user&#39;s info will be returned even if no request payload will be defined. A user with default permissions can only get its own user info, user with elevated permissions can get any user&#39;s info.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user. <strong>optional.</strong></td>
</tr>
<tr>
<td>Email</td>
<td><strong>string.</strong> The email address of the user. <strong>optional.</strong></td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user. <strong>optional.</strong></td>
</tr>
<tr>
<td>AffiliateId</td>
<td><strong>integer.</strong> The affiliate ID of the user. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-143'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleuser"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleuser@dispostable.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PasswordHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PendingEmailCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"EmailVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"DateTimeCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-28T05:25:42.488Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AffiliateId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RefererId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Use2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Salt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PendingCodeTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LockedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-21T02:49:15.477Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"NumberOfFailedAttempt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MarginBorrowerEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MarginAcquisitionHalt"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user.</td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user.</td>
</tr>
<tr>
<td>Email</td>
<td><strong>string.</strong> The email address of the user.</td>
</tr>
<tr>
<td>PasswordHash</td>
<td><strong>string.</strong> Always empty for security purposes.</td>
</tr>
<tr>
<td>PendingEmailCode</td>
<td><strong>string.</strong> Always empty for security purposes.</td>
</tr>
<tr>
<td>EmailVerified</td>
<td><strong>boolean.</strong> If true, user email is verified, else email is not yet verified.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account associated to the user by default. During user signup/registration, a default account associated to the user is created. There is a significant difference between an account and a user in APEX.</td>
</tr>
<tr>
<td>DateTimeCreated</td>
<td><strong>string.</strong> The exact date and time the user is created, in UTC.</td>
</tr>
<tr>
<td>AffiliateId</td>
<td><strong>integer.</strong> The affiliate ID of the user.</td>
</tr>
<tr>
<td>RefererId</td>
<td><strong>integer.</strong> The affiliate ID of the referer if the user signup through an affiliate URL.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the user belongs to.</td>
</tr>
<tr>
<td>Use2FA</td>
<td><strong>boolean.</strong> If true, 2FA is enabled, else 2FA is not enabled.</td>
</tr>
<tr>
<td>Salt</td>
<td><strong>string.</strong> Always empty for security purposes.</td>
</tr>
<tr>
<td>Locked</td>
<td><strong>boolean.</strong> If true, user is locked. A locked user will not be able to login. Else, user is not locked.</td>
</tr>
<tr>
<td>LockedTime</td>
<td><strong>string.</strong> The exact date and time the user was locked, in UTC.</td>
</tr>
<tr>
<td>NumberOfFailedAttempt</td>
<td><strong>integer.</strong> The number of times the user had failed authentication attempts. An operator can set maximum number of failed authentication attempts, after the max number is hit, the user will automatically get locked.</td>
</tr>
<tr>
<td>MarginBorrowerEnabled</td>
<td><strong>boolean.</strong> Defaults to false. Reserved for future use.</td>
</tr>
<tr>
<td>MarginAcquisitionHalt</td>
<td><strong>boolean.</strong> Defaults to false. Reserved for future use.</td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the operator where the OMS operates.</td>
</tr>
</tbody></table>
<h2 id='setuserinfo'>SetUserInfo</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Updates a specific user&#39;s information.</p>

<p>Only the following can be updated using <strong>SetUserInfo</strong>:</p>

<ul>
<li><strong>UserName</strong>: any user can change this field, UserId is required to be defined in the payload in order to identify the specific user whose username will be set or changed.</li>
<li><strong>Email</strong>: any user can set this field, either UserId or Username is required in the payload in order to identify the specific user whose email will be set or changed. Once changed, <strong>EmailVerified</strong> for the user will automatically be set to <em>false</em>, the new email address needs to be verified.<br/></li>
<li><strong>EmailVerified</strong>: only a user with elevated permission can set this field to either true or false for any user.<br/></li>
<li><strong>RefererId</strong>: only a user with elevated permission can set this field for any user.<br/></li>
<li><strong>Use2FA</strong>: any user can set this field to true from False, seems like a bug because enabling 2FA is a 2 step process. On the other hand, only a user with elevated permission can set this field to false from true for any user.<br/></li>
</ul>
<h3 id='request-144'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SetUserInfo</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="na">Email</span><span class="p">:</span> <span class="dl">"</span><span class="s2">sample23@sample.com</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/SetUserInfo</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">aca4fb89-4985-4469-95c5-8208637b6710</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">56</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample23@sample.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose info will be set or changed. Not required if username is defined in the payload unless the request is for a username change.<em>conditionally required.</em></td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user whose info will be set or changed, it can also be the new username to be set. Not required if UserId is defined in the payload.<em>conditionally required.</em></td>
</tr>
<tr>
<td>Email</td>
<td><strong>string.</strong> The new email address to be set for the user, required if email will be changed.<em>conditionally required.</em></td>
</tr>
<tr>
<td>RefererId</td>
<td><strong>integer.</strong> The new referer ID to be set for the user, referer ID is the affiliate ID of the user who refered the specified user.<em>conditionally required.</em></td>
</tr>
</tbody></table>
<h3 id='response-144'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleuser"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample23@sample.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PasswordHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PendingEmailCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"EmailVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"DateTimeCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-28T05:25:42.488Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AffiliateId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RefererId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Use2FA"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Salt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"PendingCodeTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-24T00:55:25.121Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LockedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-21T02:49:15.477Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"NumberOfFailedAttempt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MarginBorrowerEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"MarginAcquisitionHalt"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user.</td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user.</td>
</tr>
<tr>
<td>Email</td>
<td><strong>string.</strong> The email address of the user.</td>
</tr>
<tr>
<td>PasswordHash</td>
<td><strong>string.</strong> Always empty for security purposes.</td>
</tr>
<tr>
<td>PendingEmailCode</td>
<td><strong>string.</strong> Always empty for security purposes.</td>
</tr>
<tr>
<td>EmailVerified</td>
<td><strong>boolean.</strong> If true, user email is verified, else email is not yet verified.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account associated to the user by default. During user signup/registration, a default account associated to the user is created. There is a significant difference between an account and a user in APEX.</td>
</tr>
<tr>
<td>DateTimeCreated</td>
<td><strong>string.</strong> The exact date and time the user is created, in UTC.</td>
</tr>
<tr>
<td>AffiliateId</td>
<td><strong>integer.</strong> The affiliate ID of the user.</td>
</tr>
<tr>
<td>RefererId</td>
<td><strong>integer.</strong> The affiliate ID of the referer if the user signup through an affiliate URL.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the user belongs to.</td>
</tr>
<tr>
<td>Use2FA</td>
<td><strong>boolean.</strong> If true, 2FA is enabled, else 2FA is not enabled.</td>
</tr>
<tr>
<td>Salt</td>
<td><strong>string.</strong> Always empty for security purposes.</td>
</tr>
<tr>
<td>Locked</td>
<td><strong>boolean.</strong> If true, user is locked. A locked user will not be able to login. Else, user is not locked.</td>
</tr>
<tr>
<td>LockedTime</td>
<td><strong>string.</strong> The exact date and time the user was locked, in UTC.</td>
</tr>
<tr>
<td>NumberOfFailedAttempt</td>
<td><strong>integer.</strong> The number of times the user had failed authentication attempts. An operator can set maximum number of failed authentication attempts, after the max number is hit, the user will automatically get locked.</td>
</tr>
<tr>
<td>MarginBorrowerEnabled</td>
<td><strong>boolean.</strong> Defaults to false. Reserved for future use.</td>
</tr>
<tr>
<td>MarginAcquisitionHalt</td>
<td><strong>boolean.</strong> Defaults to false. Reserved for future use.</td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the operator where the OMS operates.</td>
</tr>
</tbody></table>
<h2 id='getunredacteduserconfigbykey'>GetUnredactedUserConfigByKey</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets a unredacted config for a user, one key at a time.</p>
<h3 id='request-145'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUnredactedUserConfigByKey</span><span class="dl">"</span><span class="p">,</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">UserId</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span>
    <span class="dl">"</span><span class="s2">Key</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2FAType</span><span class="dl">"</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUnredactedUserConfigByKey</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">3f01261c-d5eb-4fad-85af-86f403d21531</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">43</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2FAType"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The key must be an existing one, else, response will be <strong>102 Server Error</strong>.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose unreducted config key value will be returned. If not defined, the authenticated user&#39;s unreducted config key value matching the key on the request will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user whose unreducted config key value will be returned. If not defined, the authenticated user&#39;s unreducted config key value matching the key on the request will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>Email</td>
<td><strong>string.</strong> The email of the user whose unreducted config key value will be returned. If not defined, the authenticated user&#39;s unreducted config key value matching the key on the request will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>AffiliateId</td>
<td><strong>integer.</strong> The affiliate ID of the user whose unreducted config key value will be returned. If not defined, unreducted config key value matching the key on the request will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>Key</td>
<td><strong>string.</strong> The actual user config key name for which unreducted value will be returned. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-145'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2FAType"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td><strong>string.</strong> The user config key name.</td>
</tr>
<tr>
<td>Value</td>
<td><strong>string.</strong> The unreducted user config key value.</td>
</tr>
</tbody></table>
<h2 id='unmaskuserconfig'>UnmaskUserConfig</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets all the unmasked configs for a user</p>
<h3 id='request-146'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">UnmaskUserConfig</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">AffiliateId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/UnmaskUserConfig</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">9689b493-5bab-4aae-9ac5-059a312d2cf9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">27</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"AffiliateId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>All request payload fields given in the Key-Value table below are optional if the authenticated user is getting its own unmasked user config/s, a user with default permission will always do that as it won&#39;t have access to other users&#39; config/s. A user with elevated permission can define any of those optional fields 1 at a time to get any user&#39;s unmasked user config/s.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose unmasked user config/s will be returned. If not defined, the authenticated user&#39;s unmasked user config/s will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user whose unmasked user config/s will be returned. If not defined, the authenticated user&#39;s unmasked user config/s will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>Email</td>
<td><strong>string.</strong> The email of the user whose unmasked user config/s will be returned. If not defined, the authenticated user&#39;s unmasked user config/s will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>AffiliateId</td>
<td><strong>integer.</strong> The affiliate ID of the user whose unmasked user config/s will be returned. If not defined, the authenticated user&#39;s unmasked user config/s will be returned. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-146'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2FAType"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GooglePassPhrase"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"********"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"levelIncreaseStatus"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"underReview"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td><strong>string.</strong> The user config key name.</td>
</tr>
<tr>
<td>Value</td>
<td><strong>string.</strong> The unmasked user config key value.</td>
</tr>
</tbody></table>
<h2 id='setuserconfig'>SetUserConfig</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Sets or updates a user&#39;s Key/Value pair configuration/s.</p>
<h3 id='request-147'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SetUserConfig</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="na">Config</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">Key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sample1</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">Value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">SampleValue</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">Key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">AnotherSample</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">Value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">AnotherSampleValue</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">],</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/SetUserConfig</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">9689b493-5bab-4aae-9ac5-059a312d2cf9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">219</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Config"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SampleValue"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnotherSample"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnotherSampleValue"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user for whom the user config will be added. If not defined, config will be added for the authenticated user. <strong>optional.</strong></td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user for whom the user config will be added. If not defined, config will be added for the authenticated user. <strong>optional.</strong></td>
</tr>
<tr>
<td>Email</td>
<td><strong>string.</strong> The email of the user for whom the user config will be added. If not defined, config will be added for the authenticated user. <strong>optional.</strong></td>
</tr>
<tr>
<td>AffiliateId</td>
<td><strong>integer.</strong> The affiliate ID of the user for whom the user config will be added. If not defined, config will be added for the authenticated user. <strong>optional.</strong></td>
</tr>
<tr>
<td>Config</td>
<td><strong>array.</strong> An array of objects where the actual key-value pair/s are defined. Each element is an object and represents 1 key-value pair.<br/><strong>Key</strong> - <strong>string</strong> - the actual key name of the user config. <strong>required.</strong><br/><strong>Value</strong> - <strong>string</strong> - the actual value to be set for the specific key. <strong>required.</strong><br/> If key is already existing, value will be updated.</td>
</tr>
</tbody></table>
<h3 id='response-147'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. An additional message that the system may give, usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='getuserconfig'>GetUserConfig</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a list of Key/Value configs for a user. Values are masked or obfuscated by default.</p>
<h3 id='request-148'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserConfig</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserConfig</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">9689b493-5bab-4aae-9ac5-059a312d2cf9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">21</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose user config/s will be returned. If not defined, the authenticated user&#39;s user config/s will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>Username</td>
<td><strong>string.</strong> The username of the user whose user config/s will be returned. If not defined, the authenticated user&#39;s user config/s will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>Email</td>
<td><strong>string.</strong> The email of the user whose user config/s will be returned. If not defined, the authenticated user&#39;s user config/s will be returned. <strong>optional.</strong></td>
</tr>
<tr>
<td>AffiliateId</td>
<td><strong>integer.</strong> The affiliate ID of the user whose user config/s will be returned. If not defined, the authenticated user&#39;s user config/s will be returned. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-148'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2FAType"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"********"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnotherSample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"********"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GooglePassPhrase"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"********"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"levelIncreaseStatus"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"********"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"********"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"********"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Key</td>
<td><strong>string.</strong> The user config key name.</td>
</tr>
<tr>
<td>Value</td>
<td><strong>string.</strong> The user config key value.</td>
</tr>
</tbody></table>
<h2 id='getuserpermissions'>GetUserPermissions</h2>
<p><strong>Permissions:</strong> Operator,Trading,AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves the list of permissions for a specific user.</p>
<h3 id='request-149'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserPermissions</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserPermissions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">2c262ce0-aebf-4dcb-8a70-cd60506a9ac8</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">21</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose permissions you wish to retrieve. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-149'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="s2">"Deposit"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Operator"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Trading"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Withdraw"</span><span class="p">]</span><span class="err">;</span><span class="w">
</span></code></pre></div>
<p>Returns an array as a response. Each element in the array represents a specific permission that belongs to the specified user in the request.</p>
<h2 id='removeuserapikeypermission'>RemoveUserAPIKeyPermission</h2>
<p><strong>Permissions:</strong> SUPERUSER,Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Remove permissions from an API Key, one permission at a time.</p>
<h3 id='request-150'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">RemoveUserAPIKeyPermission</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
  <span class="na">APIKey</span><span class="p">:</span> <span class="dl">"</span><span class="s2">75e81e03303c365cf5409bece487ced5</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Permission</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Deposit</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/RemoveUserAPIKeyPermission</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">66dde963-8a0c-d71a-15a2-57f2bd41d457</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">101</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"APIKey"</span><span class="p">:</span><span class="s2">"75e81e03303c365cf5409bece487ced5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Permission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deposit"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user who owns the API key. <strong>required.</strong></td>
</tr>
<tr>
<td>APIKey</td>
<td><strong>string.</strong> The actual API key whose permission will be removed. <strong>required.</strong></td>
</tr>
<tr>
<td>Permission</td>
<td><strong>string.</strong> The specific permission to be removed from the API key. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-150'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. An additional message that the system may give, usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='adduserapikeypermission'>AddUserAPIKeyPermission</h2>
<p><strong>Permissions:</strong> SUPERUSER,Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Add permissions to a user API key, one permission at a time.</p>
<h3 id='request-151'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">AddUserAPIKeyPermission</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
  <span class="na">APIKey</span><span class="p">:</span> <span class="dl">"</span><span class="s2">75e81e03303c365cf5409bece487ced5</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Permission</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Deposit</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/AddUserAPIKeyPermission</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">66dde963-8a0c-d71a-15a2-57f2bd41d457</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">101</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"APIKey"</span><span class="p">:</span><span class="s2">"75e81e03303c365cf5409bece487ced5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Permission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deposit"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user who owns the API key. <strong>required.</strong></td>
</tr>
<tr>
<td>APIKey</td>
<td><strong>string.</strong> The actual API key for which the permission will be added. <strong>required.</strong></td>
</tr>
<tr>
<td>Permission</td>
<td><strong>string.</strong> The specific permission to be added to the API key. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-151'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. An additional message that the system may give, usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='removeuserapikey'>RemoveUserAPIKey</h2>
<p><strong>Permissions:</strong> SUPERUSER,Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Remove a user API key</p>
<h3 id='request-152'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">RemoveUserAPIKey</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="na">APIKey</span><span class="p">:</span> <span class="dl">"</span><span class="s2">04c58e781cf23ddb7889beacebaf36ef</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/RemoveUserAPIKey</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">75956e2f-52c5-4286-b631-f063a6d2be1c</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">72</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"APIKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04c58e781cf23ddb7889beacebaf36ef"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose API key will be removed or deleted. <strong>required.</strong></td>
</tr>
<tr>
<td>APIKey</td>
<td><strong>string.</strong> The actual API key to be removed or deleted. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-152'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. An additional message that the system may give, usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='getuserapikeys'>GetUserAPIKeys</h2>
<p><strong>Permissions:</strong> SUPERUSER,Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Return a users active API keys</p>
<h3 id='request-153'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserAPIKeys</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserAPIKeys</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">95225cf6-e997-4315-bd56-7e82bb0542a2</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">21</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user whose API keys will be retrieved and returned at the response. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-153'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"APIKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0bad72d6353624305cd6fabecc11b7ad"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"APISecret"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Trading"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Withdraw"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Deposit"</span><span class="p">,</span><span class="w"> </span><span class="s2">"AccountReadOnly"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span><span class="err">//Starting</span><span class="w"> </span><span class="err">APEX</span><span class="w"> </span><span class="err">version</span><span class="w"> </span><span class="mf">4.4</span><span class="err">,</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">IP</span><span class="w"> </span><span class="err">whitelisting</span><span class="w"> </span><span class="err">feature</span><span class="w"> </span><span class="err">has</span><span class="w"> </span><span class="err">been</span><span class="w"> </span><span class="err">added,</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">used</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">connected</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">whitelisted</span><span class="w"> </span><span class="err">IP</span><span class="w">
</span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"APIKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b0a58da50d64df5dc5ec11b851aa1a3a"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"APISecret"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"Trading"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Withdraw"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Deposit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"AccountReadOnly"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"IpWhiteList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.2.3.4"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>APIKey</td>
<td><strong>string.</strong> The actual API key.</td>
</tr>
<tr>
<td>APISecret</td>
<td><strong>string.</strong> The secret key for the API, always empty in responses for security purposes, it will only be shown one time right after the creation of the API Key.</td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user who owns the API Key.</td>
</tr>
<tr>
<td>Permissions</td>
<td><strong>array.</strong> An array with each element representing a specific permission. An API key can have very granular permissions.</td>
</tr>
<tr>
<td>IpWhiteList</td>
<td><strong>string.</strong> A string of comma separated IPs. If there is/are IPs in the value, API key can only be used while connected to that IP or those IPs if there are multiple IPs.</td>
</tr>
</tbody></table>
<h2 id='adduserapikey'>AddUserAPIKey</h2>
<p><strong>Permissions:</strong> SUPERUSER,Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Create an API key for a user. IP whitelisting is supported starting APEX version 4.4</p>
<h3 id='request-154'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">AddUserAPIKey</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="na">Permissions</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Trading</span><span class="dl">"</span><span class="p">],</span>
<span class="p">});</span>

<span class="c1">//with IP whitelisting, supported starting APEX version 4.4</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">AddUserAPIKey</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="na">Permissions</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Trading</span><span class="dl">"</span><span class="p">],</span>
  <span class="na">IpWhiteList</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.1.2.3</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/AddUserAPIKey</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">95225cf6-e997-4315-bd56-7e82bb0542a2</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">52</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Permissions"</span><span class="p">:[</span><span class="s2">"Trading"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//With</span><span class="w"> </span><span class="err">IP</span><span class="w"> </span><span class="err">whitelisting,</span><span class="w"> </span><span class="err">supported</span><span class="w"> </span><span class="err">starting</span><span class="w"> </span><span class="err">APEX</span><span class="w"> </span><span class="err">version</span><span class="w"> </span><span class="mf">4.4</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Permissions"</span><span class="p">:[</span><span class="s2">"Trading"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"IpWhiteList"</span><span class="p">:</span><span class="s2">"1.1.2.3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user for whom the API key will be created. <strong>required.</strong></td>
</tr>
<tr>
<td>Permissions</td>
<td><strong>array.</strong> The specific permission/s to be assigned to the API Key, each element represents a specific permission that will be assigned to the API key. Requires atleast 1 permission. <strong>required.</strong></td>
</tr>
<tr>
<td>IpWhiteList</td>
<td><strong>string.</strong> A string of comma separated IPs. API key can only be used when connected to whitelisted IP/s if there is/are whitelisted IP/s. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-154'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Response</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">APEX</span><span class="w"> </span><span class="err">versions</span><span class="w"> </span><span class="err">below</span><span class="w"> </span><span class="mf">4.4</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"APIKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"622c53ce8cf61ca825ec20a51300778e"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"APISecret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdef6b533fc9b2fcfe4dba789045d0123121"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Trading"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Response</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">APEX</span><span class="w"> </span><span class="err">version</span><span class="w"> </span><span class="mf">4.4</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"APIKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75e81e03303c365cf5409bece487ced5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"APISecret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12323c2854d28f5947e75191212121211"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Trading"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpWhiteList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1.2.3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>APIKey</td>
<td><strong>string.</strong> The actual API key.</td>
</tr>
<tr>
<td>APISecret</td>
<td><strong>string.</strong> The secret key for the API, it will only be shown one time right after the creation of the API Key. Needs to be noted and kept securely. Needed for generating Signature to be used for <a href="https://trading.alphapointuniversity.com/?http#authenticateuser">authentication</a>.</td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user who owns the API Key.</td>
</tr>
<tr>
<td>Permissions</td>
<td><strong>array.</strong> An array with each element representing a specific permission. An API key can have very granular permissions.</td>
</tr>
<tr>
<td>Nonce</td>
<td><strong>integer.</strong> A random number being used to generate Signature, defaults to 0, can be edited during Signature generation.</td>
</tr>
<tr>
<td>IpWhiteList</td>
<td><strong>string.</strong> A string of comma separated IPs. If there is/are IPs in the value, API key can only be used while connected to that IP or those IPs if there are multiple IPs.</td>
</tr>
</tbody></table>
<h2 id='updateuserapikeywhitelist'>UpdateUserAPIKeyWhitelist</h2>
<p><strong>Permissions:</strong> SUPERUSER,Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Update an APIKey whitelist for a given APIKey, can be used to add one or more new IPs or delete one or more existing IPs.</p>
<h3 id='request-155'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">UpdateUserAPIKeyWhitelist</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
  <span class="na">APIKey</span><span class="p">:</span> <span class="dl">"</span><span class="s2">b0a58da50d64df5dc5ec11b851aa1a3a</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">IpWhiteList</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.2.3.4</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/UpdateUserAPIKeyWhitelist</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">66dde963-8a0c-d71a-15a2-57f2bd41d457</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">172</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"APIKey"</span><span class="p">:</span><span class="s2">"b0a58da50d64df5dc5ec11b851aa1a3a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"IpWhiteList"</span><span class="p">:</span><span class="s2">"1.2.3.4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user who owns the API. <strong>required.</strong></td>
</tr>
<tr>
<td>APIKey</td>
<td><strong>string</strong> The actual API key which IP whitelisting will be updated. <strong>required.</strong></td>
</tr>
<tr>
<td>IpWhiteList</td>
<td><strong>string.</strong> A string of comma separated IPs. The new IP/s to be whitelisted if there is any value assigned, sending an empty string or not including the IpWhiteList field in the request payload will remove all existing whitelisted IP/s if there is any. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-155'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"APIKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b0a58da50d64df5dc5ec11b851aa1a3a"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"APISecret"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Trading"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Withdraw"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Deposit"</span><span class="p">,</span><span class="w"> </span><span class="s2">"AccountReadOnly"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"Nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"IpWhiteList"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.2.3.4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>APIKey</td>
<td><strong>string.</strong> The actual API key.</td>
</tr>
<tr>
<td>APISecret</td>
<td><strong>string.</strong> null for security purposes.</td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user who owns the API Key.</td>
</tr>
<tr>
<td>Permissions</td>
<td><strong>array.</strong> An array with each element representing a specific permission. An API key can have very granular permissions.</td>
</tr>
<tr>
<td>Nonce</td>
<td><strong>integer.</strong> A random number being used to generate Signature, defaults to 0, can be edited during Signature generation.</td>
</tr>
<tr>
<td>IpWhiteList</td>
<td><strong>string.</strong> The updated whitelisted IP/s.</td>
</tr>
</tbody></table>
<h2 id='getusermarketdatapermissions'>GetUserMarketDataPermissions</h2>
<p><strong>Permissions:</strong> Operator,Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves a list of permissions a user has for viewing market data on each Instrument. Users will need market data permissions to view access Level1 or Level2 data of an instrument if an operator decides to turn on <strong>Permissioned Market Data</strong>.</p>
<h3 id='request-156'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetUserMarketDataPermissions</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetUserMarketDataPermissions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">7cb8f194-6ee6-4bf3-8e50-b11251eba458</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">21</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user you wish to retrieve market data permissions of. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-156'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Level2"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"InstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Level2"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user owning the specific market data permission on a specific instrument.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of OMS where the user and the instrument belongs.</td>
</tr>
<tr>
<td>InstrumentId</td>
<td><strong>integer.</strong> The ID of the instrument where the user has market data permission</td>
</tr>
<tr>
<td>Level2</td>
<td><strong>boolean.</strong> If true, user will have access to the Level2 data or the orderbook of the instrument. If false, user only has access to Level1 data such as the BestBid and BestAsk.</td>
</tr>
</tbody></table>
<h2 id='validateuserregistration'>ValidateUserRegistration</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>This API is being used for KYC integration, it is being invoked whenever a user will attempt to do a KYC verification with any integrated KYC service provider(e.g. Jumio, Sumsub). The KYC service provider or the Validator needs to be configured properly otherwise, the response will always be false which means there was an error. Upon successful invocation of this API, a user config will be added for the user: <strong>Key: levelIncreaseStatus, Value: underReview</strong>, that user config will prevent user from trying to submit another request while the verification for the current request is still ongoing.</p>
<h3 id='request-157'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ValidateUserRegistration</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">clientInfo</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">validator</span><span class="p">:</span> <span class="dl">"</span><span class="s2">sumsub</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">validationStage</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">userInfo</span><span class="p">:</span> <span class="p">{},</span>
  <span class="na">additionalValidationData</span><span class="p">:</span> <span class="p">[],</span>
  <span class="na">requestIdentifier</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2f9f96a5-ffbd-4e39-a071-0c21c85a5803</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ValidateUserRegistration</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">92b0b4e1-0625-4be7-b276-98494033d3c8</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">232</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"clientInfo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"validator"</span><span class="p">:</span><span class="s2">"sumsub"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"validationStage"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"userInfo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">

    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"additionalValidationData"</span><span class="p">:[],</span><span class="w">
    </span><span class="nl">"requestIdentifier"</span><span class="p">:</span><span class="s2">"2f9f96a5-ffbd-4e39-a071-0c21c85a5803"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Request payload varies according to the KYC service provider or the <strong>Validator</strong>. For instance, Sumsub requires just very few parameters, whereas Jumio has more parameters needed. The example is specific for <strong>Sumsub</strong>.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Validator</td>
<td><strong>string.</strong> The KYC service provider. <strong>required.</strong></td>
</tr>
<tr>
<td>ValidationStage</td>
<td><strong>integer.</strong> The verification level number to which the account will be put into if the KYC will be approved and successful. <strong>required.</strong></td>
</tr>
<tr>
<td>RequestIdentifier</td>
<td><strong>string.</strong> The unique identifier of the KYC verification request, this will let the KYC service provider know which user on the side of APEX it will update later on. Not explicitly required but should be defined. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-157'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">ErrorMessage</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">ValidationAnswerData</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">ProcessorTransactionID</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">a8b5c7a0-9f59-42d2-9f8e-bbc03319695c</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">IsAccepted</span><span class="se">\"</span><span class="s2">:false,</span><span class="se">\"</span><span class="s2">NeedsManualReview</span><span class="se">\"</span><span class="s2">:false,</span><span class="se">\"</span><span class="s2">DoNotSendNeedsManualReviewEmail</span><span class="se">\"</span><span class="s2">:false,</span><span class="se">\"</span><span class="s2">AcceptedStage</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">ApiError</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">ApiErrorDescription</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">DoNotEscalateLevel</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">ProcessorData</span><span class="se">\"</span><span class="s2">:{</span><span class="se">\"</span><span class="s2">accessToken</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">_act-sbx-ce4e3ad6-57a9-4f83-886d-91be31a5d92e</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">userId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">a8b5c7a0-9f59-42d2-9f8e-bbc03319695c</span><span class="se">\"</span><span class="s2">},</span><span class="se">\"</span><span class="s2">ValidatorTransactionID</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">RawData</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">{</span><span class="se">\\</span><span class="s2">n  </span><span class="se">\\\"</span><span class="s2">token</span><span class="se">\\\"</span><span class="s2"> : </span><span class="se">\\\"</span><span class="s2">_act-sbx-ce4e3ad6-57a9-4f83-886d-91be31a5d92e</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\</span><span class="s2">n  </span><span class="se">\\\"</span><span class="s2">userId</span><span class="se">\\\"</span><span class="s2"> : </span><span class="se">\\\"</span><span class="s2">a8b5c7a0-9f59-42d2-9f8e-bbc03319695c</span><span class="se">\\\"\\</span><span class="s2">n}</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">RawDataFormat</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">json</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">RedirectUrl</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"\"</span><span class="s2">}}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Just like with the request payload, the response payload varies according to the KYC service provider or the <strong>Validator</strong>. The example is specific for <strong>Sumsub</strong>.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>string.</strong> The result of user validation, a stringtified JSON object; fields may vary depending on the KYC provider.</td>
</tr>
</tbody></table>
<h2 id='registeruser'>RegisterUser</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Register a new user on the system.</p>
<h3 id='request-158'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">RegisterUser</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserInfo</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">UserName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">username</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">Email</span><span class="p">:</span> <span class="dl">"</span><span class="s2">username@email.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">PasswordHash</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1234</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">UserConfig</span><span class="p">:</span> <span class="p">[{</span> <span class="na">Name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Firstname</span><span class="dl">"</span><span class="p">,</span> <span class="na">Value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sample</span><span class="dl">"</span> <span class="p">}],</span>
  <span class="na">OperatorId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/RegisterUser</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">239</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserInfo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"UserName"</span><span class="p">:</span><span class="s2">"username"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"username@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PasswordHash"</span><span class="p">:</span><span class="s2">"1234"</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span><span class="nl">"UserConfig"</span><span class="p">:</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Firstname"</span><span class="p">,</span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"Sample"</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
</span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserInfo</td>
<td><strong>object</strong>. Username <strong>string.</strong> Nominated username. <strong>required.</strong><br/>Email <strong>string</strong> Nominated email address. <strong>required.</strong><br/> PasswordHash <strong>string</strong> Nominated password. <strong>required.</strong>.</td>
</tr>
<tr>
<td>UserConfig</td>
<td><strong>object</strong>. Key-value pairs, will reflect at the user settings/config. <strong>optional.</strong></td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer</strong>. ID of the Operator, defaults to 1 but if not defined, the newly registered user will be assigned to OMSId 0 so this needs to be defined and set to 1. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-158'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">195</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer</strong>. ID of the newly created/registered user.</td>
</tr>
</tbody></table>
<h2 id='registernewuser'>RegisterNewUser</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Register a new user on the system.</p>
<h3 id='request-159'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">RegisterNewUser</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserInfo</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">UserName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">username</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">Email</span><span class="p">:</span> <span class="dl">"</span><span class="s2">username@email.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">passwordHash</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1234</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">UserConfig</span><span class="p">:</span> <span class="p">[{</span> <span class="na">Name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Firstname</span><span class="dl">"</span><span class="p">,</span> <span class="na">Value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sample</span><span class="dl">"</span> <span class="p">}],</span>
  <span class="na">OperatorId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/RegisterNewUser</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">239</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserInfo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"UserName"</span><span class="p">:</span><span class="s2">"username"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Email"</span><span class="p">:</span><span class="s2">"username@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"passwordHash"</span><span class="p">:</span><span class="s2">"1234"</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span><span class="nl">"UserConfig"</span><span class="p">:</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nl">"Name"</span><span class="p">:</span><span class="s2">"Firstname"</span><span class="p">,</span><span class="nl">"Value"</span><span class="p">:</span><span class="s2">"Sample"</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
</span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserInfo</td>
<td><strong>object</strong>. Username <strong>string.</strong> Nominated username. <strong>required.</strong><br/>Email <strong>*string</strong> Nominated email address. <strong>required.</strong><br/> Password <strong>string</strong> Nominated password. <strong>required.</strong>.</td>
</tr>
<tr>
<td>UserConfig</td>
<td><strong>object</strong>. Key-value pairs, will reflect at the user settings/config. <strong>optional.</strong></td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer</strong>. ID of the Operator, defaults to 1. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-159'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">195</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer</strong>. ID of the newly created user.</td>
</tr>
</tbody></table>
<h2 id='confirmuseremail'>ConfirmUserEmail</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Called upon when a newly registered user clicks the veriication link sent via email.</p>
<h3 id='request-160'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ConfirmUserEmail</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">194</span><span class="p">,</span>
  <span class="na">VerifyEmailCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7b495a17-d571-4fc5-bbe8-2941315457cd</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ConfirmUserEmail</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">87</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">194</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VerifyEmailCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b495a17-d571-4fc5-bbe8-2941315457cd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer</strong>. ID of the user for which will be confirmed/verified. <strong>required.</strong></td>
</tr>
<tr>
<td>VerifyEmailCode</td>
<td><strong>string</strong>. GUID being generated by APEX and being sent to the email address a newly created user. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-160'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='resendverificationemail'>ResendVerificationEmail</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Allow user or admin to resendverificationEmail if user is not EmailVerified.</p>
<h3 id='request-161'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ResendVerificationEmail</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">Email</span><span class="p">:</span> <span class="dl">"</span><span class="s2">useremail@email.com</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ResendVerificationEmail</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">46</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"Email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"useremail@email.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Email</td>
<td><strong>string</strong>. Email address of the user to resend the verification email for. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-161'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='resetpassword'>ResetPassword</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates a password reset on a user. The user will receive a reset password email containing the reset password link. The user must be email verified in order the be able to reset his/her password.</p>
<h3 id='request-162'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ResetPassword</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">Username</span><span class="p">:</span> <span class="dl">"</span><span class="s2">username</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ResetPassword</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">49</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"Username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Username</td>
<td><strong>string</strong>. Username of the user to initiate password reset for. Value can also be the email address of the user. Not case-sensitive. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-162'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='resetpassword2'>ResetPassword2</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>This is the actual API that resets the password of a user after clicking the reset password link and submitting new set of password.</p>
<h3 id='request-163'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ResetPassword2</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Password</span><span class="p">:</span> <span class="dl">"</span><span class="s2">newpassword</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">PendingCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">asdfasdfsdfsdfsadf121asdf</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ResetPassword2</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">95</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PendingCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asdfasdfsdfsdfsadf121asdf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>string</strong>. The ID of the user whose password will be reset. <strong>required.</strong></td>
</tr>
<tr>
<td>Password</td>
<td><strong>string</strong>. The actual new password. <strong>required.</strong></td>
</tr>
<tr>
<td>PendingCode</td>
<td><strong>string</strong>. GUID generated after <a href="https://trading.alphapointuniversity.com/?javascript#resetpassword">ResetPassword</a> call, identifies a unique user that has a password reset request. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-163'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='registernewdevice'>RegisterNewDevice</h2>
<p><strong>Permissions:</strong> Operator,Trading,Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p><strong>RegisterNewDevice</strong> is the device registration confirmation call. It will take the hashcode and validation code sent in an email to verify a device as trusted.</p>
<h3 id='request-164'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">RegisterNewDevice</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">HashCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1032885396</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">PendingEmailCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">16b4be39-fd77-48fa-834b-396c8d510073</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/RegisterNewDevice</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">99</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"HashCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1032885396"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PendingEmailCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16b4be39-fd77-48fa-834b-396c8d510073"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>HashCode</td>
<td><strong>string.</strong> Hash code associated with the device. <strong>required.</strong></td>
</tr>
<tr>
<td>PendingEmailCode</td>
<td><strong>string.</strong> Email code to register device. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-164'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> If the hash code and validation code have successfully verified a device, <em>result</em> is <em>true;</em> otherwise it is <em>false.</em></td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of the call returns <em>null.</em> The <em>errormsg</em> key for an unsuccessful call returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Response (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)<br />Operation Not Supported (errorcode 106)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful receipt of the call returns 0. An unsuccessful receipt of the call returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send.</td>
</tr>
</tbody></table>
<h2 id='validatecode'>ValidateCode</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>This checks pending code for password reset.</p>
<h3 id='request-165'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ValidateCode</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span>
  <span class="na">VerifyCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">dc4f8568-a85b-4c4d-85c8-17847fa3bcab</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ValidateCode</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">81</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VerifyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc4f8568-a85b-4c4d-85c8-17847fa3bcab"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>string.</strong> The ID of the user for whom the code is being validated. <strong>required.</strong></td>
</tr>
<tr>
<td>VerifyCode</td>
<td><strong>string.</strong> The code to be verified. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-165'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean.</strong> If the VerifyCode is still valid, <em>result</em> is <em>true;</em> otherwise it is <em>false.</em></td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful receipt of the call returns <em>null.</em> The <em>errormsg</em> key for an unsuccessful call returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Response (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)<br />Operation Not Supported (errorcode 106)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer.</strong> A successful receipt of the call returns 0. An unsuccessful receipt of the call returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string.</strong> Message text that the system may send.</td>
</tr>
</tbody></table>
<h1 id='withdraw'>Withdraw</h1><h2 id='createaccountwithdrawinfo'>CreateAccountWithdrawInfo</h2>
<p><strong>Permissions:</strong> Operator,Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Creates a new withdraw info for an account to store and use later for withdrawals. The accountwithdrawinfo to that will be created is also known as the whitelisted withdraw address.</p>
<h3 id='request-166'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CreateAccountWithdrawInfo</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountIdentifier</span><span class="p">:</span> <span class="dl">"</span><span class="s2">asfasfasdf11dasfasf11</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">Name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sample</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CreateAccountWithdrawInfo</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">e6567bb5-0245-4cb3-b99e-b3adebe9c94c //valid session token</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">136</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountIdentifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asfasfasdf11dasfasf11"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account for which the withdraw info will be created. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product for which the withdraw info will be created for. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountIdentifier</td>
<td><strong>string.</strong> The actual withdraw address. <strong>required.</strong></td>
</tr>
<tr>
<td>Name</td>
<td><strong>string.</strong> Any string that can be used to identify the withdraw info. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-166'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4ed30f50-b8ad-491b-823d-70acdfdeb0be"</span><span class="w"> </span><span class="err">//ID</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">withdraw</span><span class="w"> </span><span class="err">info</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. The account withdraw info ID, GUID.</td>
</tr>
</tbody></table>
<h2 id='getaccountwithdrawtransactions'>GetAccountWithdrawTransactions</h2>
<p><strong>Permissions:</strong> Trading, AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets a list of transactions which are of <strong>TransactionReferenceType Withdraw</strong> for a specific account.</p>

<p>Users with Trading and AccountReadOnly permission can get withdraw transactions only for the account/s with which they are associated. Users with elevated permission such as Operator can get withdraw transactions for any account.</p>

<aside class="notice"><strong>Note: </strong>Depth in this call is the maximum number/count of withdraw transactions that can be fetched per request. It is not "depth of market."</aside>
<h3 id='request-167'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountWithdrawTransactions</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountWithdrawTransactions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c5f917b9-f173-4c29-a615-1503d2e78023 //valid sessiontoken</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the account transactions took place. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account whose transactions will be returned. <strong>required.</strong></td>
</tr>
<tr>
<td>Depth</td>
<td><strong>integer.</strong> The maximum number/count of withdraw transactions that can be fetched. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-167'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">22693</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">286</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Counterparty"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Withdraw"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.11033172</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1676348233473</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">22671</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">281</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Counterparty"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TransactionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fee"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ReferenceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Withdraw"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1020604462.5137057184022</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TimeStamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1676346027780</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects as a response, each object represents a withdraw transaction.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>TransactionId</td>
<td><strong>integer.</strong> The ID of the transaction.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS under which the requested transactions took place.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The single account under which the transactions took place.</td>
</tr>
<tr>
<td>CR</td>
<td><strong>decimal.</strong> Credit entry for the account on the order book. Funds entering an account.</td>
</tr>
<tr>
<td>DR</td>
<td><strong>decimal.</strong> Debit entry for the account on the order book. Funds leaving an account.</td>
</tr>
<tr>
<td>Counterparty</td>
<td><strong>long integer.</strong> The account which was either debited or credited with the same amount of either the CR or DR.</td>
</tr>
<tr>
<td>TransacitionType</td>
<td><strong>string.</strong> Can either be <strong>Other</strong> or <strong>Fee</strong>.</td>
</tr>
<tr>
<td>ReferenceId</td>
<td><strong>long integer.</strong> The ID of the action or event that triggered this transaction.</td>
</tr>
<tr>
<td>ReferenceType</td>
<td><strong>string.</strong> A withdraw transaction is always a <strong>withdraw</strong> ReferenceType</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product in which the withdraw was made. Use <strong>GetProduct</strong> to return information about a product based on its ID.</td>
</tr>
<tr>
<td>Balance</td>
<td><strong>decimal.</strong> The balance in the account after the withdraw transaction.</td>
</tr>
<tr>
<td>Timestamp</td>
<td><strong>long integer.</strong> Time at which the transaction took place, in POSIX format.</td>
</tr>
</tbody></table>
<h2 id='confirmwithdrawinfo'>ConfirmWithdrawInfo</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Confirms a withdraw address, completes the withdraw address whitelisting process.</p>
<h3 id='request-168'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ConfirmWithdrawInfo</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">VerifyEmailCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">60f3528b-04f7-4c91-9629-02687725d61b</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ConfirmWithdrawInfo</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">102</span>

<span class="p">{</span><span class="w">
   </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
   </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
   </span><span class="nl">"VerifyEmailCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60f3528b-04f7-4c91-9629-02687725d61b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong>. ID of the OMS where the account belongs. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer</strong>. ID of the account for which the withdraw address will be verified. <strong>required.</strong></td>
</tr>
<tr>
<td>VerifyEmailCode</td>
<td><strong>string</strong>. GUID being generated by APEX and being sent to the email address the user who owns the account. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-168'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='confirmwithdraw'>ConfirmWithdraw</h2>
<p><strong>Permissions:</strong> Public<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Confirms a withdrawal, transitions a withdraw ticket from Pending2Fa to Confirmed2Fa status.</p>
<h3 id='request-169'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">ConfirmWithdraw</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">VerifyCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">57791f11-c7f1-4be3-b098-94e04091928e</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/ConfirmWithdraw</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">80</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VerifyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57791f11-c7f1-4be3-b098-94e04091928e"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>UserId</td>
<td><strong>integer</strong>. ID of the user for which the withdraw will be confirmed. <strong>required.</strong></td>
</tr>
<tr>
<td>VerifyCode</td>
<td><strong>string</strong>. GUID being generated by APEX and being sent to the email address the user. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-169'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. The error message. Only shows if there is an error.</td>
</tr>
</tbody></table>
<h2 id='getaccountwithdrawinfos'>GetAccountWithdrawInfos</h2>
<p><strong>Permissions:</strong> Operator,Withdraw,AccountReadOnly<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Retrieves configuration information for a list of all withdraw info configurations for an account. Withdraw info is also referred to as a whitelisted withdraw address. It is needed whenever an exchange operator decides to require whitelisted withdraw address for withdrawal of certain product or all products.</p>
<h3 id='request-170'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetAccountWithdrawInfos</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetAccountWithdrawInfos</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">f274561b-a7c6-4e49-9781-8c50ed05caa5</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">41</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong> The ID of the OMS where the account belongs to. <strong>optional.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer</strong> The ID of the account for which you wish to withdraw infos for. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-170'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"AccountWithdrawInfoId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4ed30f50-b8ad-491b-823d-70acdfdeb0be"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US Dollar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountIdentifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asfasfasdf11dasfasf11"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccountWithdrawInfoId</td>
<td><strong>string</strong> GUID of the withdraw info.</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer</strong> The ID of the OMS where the account belongs to.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer</strong> The ID of the account who owns the withdraw info.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer</strong> The ID of the product the account withdraw info is for.</td>
</tr>
<tr>
<td>ProductName</td>
<td><strong>string</strong> The name of the product the account withdraw info is for.</td>
</tr>
<tr>
<td>Name</td>
<td><strong>string</strong> The name of the withdraw info.</td>
</tr>
<tr>
<td>AccountIdentifier</td>
<td><strong>string</strong> The actual withdraw info or whitelisted withdraw address.</td>
</tr>
<tr>
<td>Verified</td>
<td><strong>boolean</strong> Only verified withdraw info can be used for withdrawal of product which requires whitelisted withdraw address. If true, it means that user verified it and it can be used for withdrawals already, if False, user have not verified it yet and thus it can&#39;t still be used for withdrawals.</td>
</tr>
</tbody></table>
<h2 id='deleteaccountwithdrawinfo'>DeleteAccountWithdrawInfo</h2>
<p><strong>Permissions:</strong> Operator,Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Deletes a whitelisted address.</p>
<h3 id='request-171'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">DeleteAccountWithdrawInfo</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">AccountWithdrawInfoId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">e9f23d13-59fa-4bc7-aba6-3a5151045483</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>POST /AP/DeleteAccountWithdrawInfo HTTP/1.1
Host: hostname goes here...
aptoken: 2c3a0675-1136-45c0-84a9-a9f40d07a290
Content-Type: application/json
Content-Length: 109

{
    "OMSId":1,
    "AccountId": 7,
    "AccountWithdrawInfoId":"e9f23d13-59fa-4bc7-aba6-3a5151045483"
}
</code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account who owns the accountwithdrawinfo to be deleted. If the authenticated user has elevated permission such as Operator, no need to specify account ID, for users with the standard permissions only, it is required.<em>conditionally required.</em></td>
</tr>
<tr>
<td>AccountWithdrawInfoId</td>
<td><strong>string.</strong> The GUID of the accountwithdrawinfo that will be deleted. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-171'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Message text that the system may send. Usually <em>null</em>.</td>
</tr>
</tbody></table>
<h2 id='getwithdrawformtemplatetypes'>GetWithdrawFormTemplateTypes</h2>
<p><strong>Permissions:</strong> Operator, Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets a list of withdraw template types for a specific asset or product.</p>
<h3 id='request-172'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetWithdrawFormTemplateTypes</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetWithdrawFormTemplateTypes</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c75a49f1-6a12-4853-b136-7447be600eb9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">39</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product for which withdraw template types will be retrieved. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-172'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Example</span><span class="w"> </span><span class="err">response</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">product</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">fiat,</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">one</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">USD</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"TemplateTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"TemplateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"AccountProviderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD AP"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Example</span><span class="w"> </span><span class="err">response</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">product</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">cryptocurrency,</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">one</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">Bitcoin</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"TemplateTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nl">"TemplateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ToExternalBitcoinAddress"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"AccountProviderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Secondary-BitgoRPC-BTC"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Responds with an object, one field is named <strong>TemplateTypes</strong> which is an array of objects, each object represents an account provider withdraw template type whose fields are described below:</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the account provider of a specific withdraw template type.</td>
</tr>
<tr>
<td>TemplateName</td>
<td><strong>string.</strong> The name of the specific withdraw template type.</td>
</tr>
<tr>
<td>AccountProviderName</td>
<td><strong>string.</strong> The name of the account provider for the specific withdraw template type. An asset or a product can have multiple account providers.</td>
</tr>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns <em>true</em>; and unsuccessful request (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>statuscode</td>
<td><strong>integer.</strong> A successful request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
</tbody></table>
<h2 id='getwithdrawtemplate'>GetWithdrawTemplate</h2>
<p><strong>Permissions:</strong> Operator, Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets the withdraw template for a specified asset or product.</p>
<h3 id='request-173'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetWithdrawTemplate</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">TemplateType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Standard</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">AccountProviderId</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="c1">//optional</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetWithdrawTemplate</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c75a49f1-6a12-4853-b136-7447be600eb9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">101</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TemplateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product for which withdraw template will be retrieved. <strong>required.</strong></td>
</tr>
<tr>
<td>TemplateType</td>
<td><strong>string.</strong> The template type where the withdraw form of the specified product belongs. <strong>optional.</strong></td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>string.</strong> The ID of the account provider where the withdraw form of the specified product belongs. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-173'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">FullName</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">Language</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">Comment</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">BankAddress</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">BankAccountNumber</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">BankAccountName</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">SwiftCode</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">ExternalAddress</span><span class="se">\"</span><span class="s2">:null}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Template</td>
<td><strong>string.</strong> The actual withdraw form fields for the specific withdraw template. Can be customized for some account provider.</td>
</tr>
<tr>
<td>result</td>
<td><strong>boolean.</strong> A successful request returns <em>true</em>; and unsuccessful request (an error condition) returns <em>false</em>.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string.</strong> A successful request returns <em>null</em>; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages:<br />Not Authorized (errorcode 20)<br />Invalid Request (errorcode 100)<br />Operation Failed (errorcode 101)<br />Server Error (errorcode 102)<br />Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>statuscode</td>
<td><strong>integer.</strong> A successful request returns 0. An unsuccessful receipt returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
</tbody></table>
<h2 id='getwithdrawtemplatetypes'>GetWithdrawTemplateTypes</h2>
<p><strong>Permissions:</strong> Operator, Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Gets a list of Templates for a specific asset or product. Functions exactly the same as <a href="https://trading.alphapointuniversity.com/?javascript#getwithdrawformtemplatetypes"><strong>GetWithdrawFormTemplateTypes</strong></a></p>
<h3 id='request-174'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="p">{</span>
     <span class="dl">"</span><span class="s2">OMSId</span><span class="dl">"</span><span class="p">:</span>  <span class="mi">1</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">ProductId</span><span class="dl">"</span><span class="p">:</span>  <span class="mi">1</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetWithdrawFormTemplateTypes</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c75a49f1-6a12-4853-b136-7447be600eb9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">68</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of the product for which withdraw template types will be retrieved. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-174'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Example</span><span class="w"> </span><span class="err">response</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">product</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">fiat,</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">one</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">USD</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"TemplateTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"TemplateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"AccountProviderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD AP"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Example</span><span class="w"> </span><span class="err">response</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">product</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">cryptocurrency,</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">one</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">Bitcoin</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"TemplateTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nl">"TemplateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ToExternalBitcoinAddress"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"AccountProviderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Secondary-BitgoRPC-BTC"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"statuscode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the account provider of a specific withdraw template type.</td>
</tr>
<tr>
<td>TemplateName</td>
<td><strong>string.</strong> The name of the specific withdraw template type.</td>
</tr>
<tr>
<td>AccountProviderName</td>
<td><strong>string.</strong> The name of the account provider for the specific withdraw template type. An asset or a product can have multiple account providers.</td>
</tr>
</tbody></table>
<h2 id='cancelwithdraw'>CancelWithdraw</h2>
<p><strong>Permissions:</strong> Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Cancel Pending Withdraws</p>
<h3 id='request-175'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CancelWithdraw</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">UserId</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">RequestCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2c89b0c1-fcf0-4710-9955-a7ac26fcdd54</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CancelWithdraw</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c75a49f1-6a12-4853-b136-7447be600eb9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">118</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2c89b0c1-fcf0-4710-9955-a7ac26fcdd54"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>required.</strong></td>
</tr>
<tr>
<td>UserId</td>
<td><strong>integer.</strong> The ID of the user who owns the account. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account who owns the withdraw ticket. <strong>required.</strong></td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID of the specific withdraw ticket that will be canceled. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-175'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//Response</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">successful</span><span class="w"> </span><span class="err">cancellation</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">withdraw</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2c89b0c1-fcf0-4710-9955-a7ac26fcdd54"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Response</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">UserId,</span><span class="w"> </span><span class="err">AccountId,</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">RequestCode</span><span class="w"> </span><span class="err">doesn't</span><span class="w"> </span><span class="err">align,</span><span class="w"> </span><span class="err">means</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">either</span><span class="w"> </span><span class="err">one</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">them</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">correct,</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">instance</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">code</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">withdraw</span><span class="w"> </span><span class="err">being</span><span class="w"> </span><span class="err">cancelled</span><span class="w"> </span><span class="err">does</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">belong</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">either</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">userid</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">accountid</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">both.</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Withdraw Ticket not found for OmsId, AccountId, RequestCode"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Response</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">withdraw</span><span class="w"> </span><span class="err">ticket</span><span class="w"> </span><span class="err">being</span><span class="w"> </span><span class="err">cancelled</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">already</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">terminal</span><span class="w"> </span><span class="err">state.</span><span class="w"> </span><span class="err">For</span><span class="w"> </span><span class="err">instance,</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">was</span><span class="w"> </span><span class="err">already</span><span class="w"> </span><span class="err">previously</span><span class="w"> </span><span class="err">cancelled.</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation Failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Withdraw ticket already processed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. The RequestCode of the canceled withdraw ticket.</td>
</tr>
</tbody></table>
<h2 id='createfiatwithdrawticket'>CreateFiatWithdrawTicket</h2>
<p><strong>Permissions:</strong> Operator, Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates the withdrawal of national currency funds from an account</p>
<h3 id='request-176'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CreateFiatWithdrawTicket</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">Amount</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">TemplateForm</span><span class="p">:</span> <span class="dl">'</span><span class="s1">{"Amount":1,"Type":"a","ClearingBank":"a","BankCode":"a","BankBranchCode":"a","BankAccountNumber":"a","Remark":"a"}</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">TemplateType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Custom</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">AccountProviderId</span><span class="p">:</span> <span class="mi">5</span>
<span class="p">});</span>


<span class="c1">//If sending request using WSClient, request should look like something below:</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">m</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">i</span><span class="dl">"</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">n</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">CreateFiatWithdrawTicket</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">o</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">OMSId</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">AccountId</span><span class="se">\"</span><span class="s2">:9,</span><span class="se">\"</span><span class="s2">ProductId</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">TemplateForm</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">{</span><span class="se">\\\"</span><span class="s2">Amount</span><span class="se">\\\"</span><span class="s2">:1,</span><span class="se">\\\"</span><span class="s2">Type</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">a</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">ClearingBank</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">a</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">BankCode</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">a</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">BankBranchCode</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">a</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">BankAccountNumber</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">a</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">Remark</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">a</span><span class="se">\\\"</span><span class="s2">}</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">TemplateType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Custom</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">AccountProviderId</span><span class="se">\"</span><span class="s2">:5}</span><span class="dl">"</span>
<span class="p">}</span>
<span class="c1">//The TemplateForm field should be properly serialized as a string. When that payload is parsed as JSON, it will be exactly the same as the payload when passing it via javascript code.</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CreateFiatWithdrawTicket</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">9c0faeb9-4d29-4eb8-aca7-b36a9b46923c</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">374</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TemplateForm"</span><span class="p">:</span><span class="s2">"{</span><span class="se">\"</span><span class="s2">TemplateType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">8</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">FullName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Name</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Language</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">EN</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Comment</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Comment</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">BankAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12345</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">BankAccountNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12345</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">BankAccountName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Bank</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">SwiftCode</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">12345</span><span class="se">\"</span><span class="s2">}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TemplateType"</span><span class="p">:</span><span class="s2">"Standard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="mi">8</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong> The ID of the OMS where the account belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer</strong> The ID of the account from which the withdraw amount of the specific asset/product will be debited.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer</strong> The ID of the asset or product for which the withdraw amount will reflect as debit. <strong>required.</strong></td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal</strong> The actual amount to be withdrawn. Amount must be greater than 0. <strong>required.</strong></td>
</tr>
<tr>
<td>TemplateForm</td>
<td><strong>string</strong> An object serialized as string. The fields in the object are usually the fields shown in the withdraw form. Needs to be properly serialized as a string. <strong>required.</strong></td>
</tr>
<tr>
<td>TemplateType</td>
<td><strong>string</strong> The withdraw form template type. Can be identified through the <a href="https://trading.alphapointuniversity.com/?javascript#getwithdrawtemplatetypes">GetWithdrawTemplateTypes</a> API.<strong>required.</strong></td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>string</strong> The ID of the account provider that will handle the withdraw. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-176'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2dd6b53a-e7ba-49e1-9f31-db63a61e9b2e"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Response</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">product</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">national</span><span class="w"> </span><span class="err">currency</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Request"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Product, not a national currency"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Additional details: the <strong>RequestCode</strong> of the newly created withdraw ticket if request is successful, some additional details about the error if request failed.</td>
</tr>
</tbody></table>
<h2 id='createcryptocurrencywithdrawticket'>CreateCryptocurrencyWithdrawTicket</h2>
<p><strong>Permissions:</strong> Operator, Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates the withdrawal of crypto currency funds from an account</p>
<h3 id='request-177'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CreateCryptocurrencyWithdrawTicket</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">Amount</span><span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span>
  <span class="na">TemplateForm</span><span class="p">:</span>
    <span class="dl">'</span><span class="s1">{"TemplateType":"ToExternalBitcoinAddress","Comment":"Sample only!","ExternalAddress":"n2EuXCpMjA8XrqTAiGbDMi3qNsRS8HeZ1i","Amount":0.001}</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">TemplateType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ToExternalBitcoinAddress</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">AccountProviderId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>


<span class="c1">//If sending request using WSClient, request should look like something below:</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">m</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">i</span><span class="dl">"</span><span class="p">:</span><span class="mi">82</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">n</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">CreateWithdrawTicket</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">o</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">OMSId</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">AccountId</span><span class="se">\"</span><span class="s2">:9,</span><span class="se">\"</span><span class="s2">ProductId</span><span class="se">\"</span><span class="s2">:3,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:0.001,</span><span class="se">\"</span><span class="s2">TemplateForm</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">{</span><span class="se">\\\"</span><span class="s2">TemplateType</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">ToExternalBitcoinAddress</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">Comment</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">Sample only!</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">ExternalAddress</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">n2EuXCpMjA8XrqTAiGbDMi3qNsRS8HeZ1i</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">Amount</span><span class="se">\\\"</span><span class="s2">:0.001}</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">TemplateType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ToExternalBitcoinAddress</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">AccountProviderId</span><span class="se">\"</span><span class="s2">:7}</span><span class="dl">"</span>
<span class="p">}</span>
<span class="c1">//The TemplateForm field should be properly serialized as a string. When that payload is parsed as JSON, it will be exactly the same as the payload when passing it via javascript code.</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CreateWithdrawTicket</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">9c0faeb9-4d29-4eb8-aca7-b36a9b46923c</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">329</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TemplateForm"</span><span class="p">:</span><span class="w">
    </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">TemplateType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ToExternalBitcoinAddress</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Comment</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Sample only!</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ExternalAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">sdlkfjasdlkfjslkdfjlksfdj</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:0.001}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TemplateType"</span><span class="p">:</span><span class="s2">"ToExternalBitcoinAddress"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong> The ID of the OMS where the account belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer</strong> The ID of the account from which the withdraw amount of the specific asset/product will be debited.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer</strong> The ID of the asset or product for which the withdraw amount will reflect as debit. <strong>required.</strong></td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal</strong> The actual amount to be withdrawn. Amount must be greater than 0. <strong>required.</strong></td>
</tr>
<tr>
<td>TemplateForm</td>
<td><strong>string</strong> An object serialized as string. The fields in the object are usually the fields shown in the withdraw form. Needs to be properly serialized as a string. <strong>required.</strong></td>
</tr>
<tr>
<td>TemplateType</td>
<td><strong>string</strong> The withdraw form template type. Can be identified through the <a href="https://trading.alphapointuniversity.com/?javascript#getwithdrawtemplatetypes">GetWithdrawTemplateTypes</a> API.<strong>required.</strong></td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>string</strong> The ID of the account provider that will handle the withdraw. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-177'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e184507-5004-439c-886d-b587490d53be"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//Response</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">product</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">crypto</span><span class="w"> </span><span class="err">currency</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Request"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Product, not a crypto currency"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Additional details: the <strong>RequestCode</strong> of the newly created withdraw ticket if request is successful, some additional details about the error if request failed.</td>
</tr>
</tbody></table>
<h2 id='createwithdrawticket'>CreateWithdrawTicket</h2>
<p><strong>Permissions:</strong> Operator, Withdraw<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Initiates the withdrawal of funds(any product type) from an account</p>
<h3 id='request-178'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">CreateWithdrawTicket</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="na">ProductId</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">Amount</span><span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span>
  <span class="na">TemplateForm</span><span class="p">:</span>
    <span class="dl">'</span><span class="s1">{"TemplateType":"ToExternalBitcoinAddress","Comment":"Sample only!","ExternalAddress":"n2EuXCpMjA8XrqTAiGbDMi3qNsRS8HeZ1i","Amount":0.001}</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">TemplateType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ToExternalBitcoinAddress</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">AccountProviderId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">});</span>


<span class="c1">//If sending request using WSClient, request should look like something below:</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">m</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">i</span><span class="dl">"</span><span class="p">:</span><span class="mi">82</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">n</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">CreateWithdrawTicket</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">o</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">OMSId</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">AccountId</span><span class="se">\"</span><span class="s2">:9,</span><span class="se">\"</span><span class="s2">ProductId</span><span class="se">\"</span><span class="s2">:3,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:0.001,</span><span class="se">\"</span><span class="s2">TemplateForm</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">{</span><span class="se">\\\"</span><span class="s2">TemplateType</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">ToExternalBitcoinAddress</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">Comment</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">Sample only!</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">ExternalAddress</span><span class="se">\\\"</span><span class="s2">:</span><span class="se">\\\"</span><span class="s2">n2EuXCpMjA8XrqTAiGbDMi3qNsRS8HeZ1i</span><span class="se">\\\"</span><span class="s2">,</span><span class="se">\\\"</span><span class="s2">Amount</span><span class="se">\\\"</span><span class="s2">:0.001}</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">TemplateType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ToExternalBitcoinAddress</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">AccountProviderId</span><span class="se">\"</span><span class="s2">:7}</span><span class="dl">"</span>
<span class="p">}</span>
<span class="c1">//The TemplateForm field should be properly serialized as a string. When that payload is parsed as JSON, it will be exactly the same as the payload when passing it via javascript code.</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/CreateWithdrawTicket</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">9c0faeb9-4d29-4eb8-aca7-b36a9b46923c</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">329</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ProductId"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TemplateForm"</span><span class="p">:</span><span class="w">
    </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">TemplateType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ToExternalBitcoinAddress</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Comment</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Sample only!</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ExternalAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">sdlkfjasdlkfjslkdfjlksfdj</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:0.001}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TemplateType"</span><span class="p">:</span><span class="s2">"ToExternalBitcoinAddress"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="mi">7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer</strong> The ID of the OMS where the account belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer</strong> The ID of the account from which the withdraw amount of the specific asset/product will be debited.</td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer</strong> The ID of the asset or product for which the withdraw amount will reflect as debit. <strong>required.</strong></td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal</strong> The actual amount to be withdrawn. Amount must be greater than 0. <strong>required.</strong></td>
</tr>
<tr>
<td>TemplateForm</td>
<td><strong>string</strong> An object serialized as string. The fields in the object are usually the fields shown in the withdraw form. Needs to be properly serialized as a string. <strong>required.</strong></td>
</tr>
<tr>
<td>TemplateType</td>
<td><strong>string</strong> The withdraw form template type. Can be identified through the <a href="https://trading.alphapointuniversity.com/?javascript#getwithdrawtemplatetypes">GetWithdrawTemplateTypes</a> API.<strong>required.</strong></td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>string</strong> The ID of the account provider that will handle the withdraw. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-178'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errormsg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errorcode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27976f52-2197-451c-b443-aa11aa2c1e76"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td><strong>boolean</strong>. A successful request returns true; and unsuccessful request (an error condition) returns false.</td>
</tr>
<tr>
<td>errormsg</td>
<td><strong>string</strong>. A successful request returns null; the <em>errormsg</em> parameter for an unsuccessful request returns one of the following messages: Not Authorized (errorcode 20), Invalid Request (errorcode 100), Operation Failed (errorcode 101), Server Error (errorcode 102), Resource Not Found (errorcode 104)</td>
</tr>
<tr>
<td>errorcode</td>
<td><strong>integer</strong>. A successful request returns 0. An unsuccessful request returns one of the <em>errorcodes</em> shown in the <em>errormsg</em> list.</td>
</tr>
<tr>
<td>detail</td>
<td><strong>string</strong>. Additional details: the <strong>RequestCode</strong> of the newly created withdraw ticket if request is successful, some additional details about the error if request failed.</td>
</tr>
</tbody></table>
<h2 id='getwithdrawtickets'>GetWithdrawTickets</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns an array of limited withdraw tickets from the specified OMS and Account, can also be filtered using <strong>ProductId</strong>.</p>
<h3 id='request-179'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetWithdrawTickets</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OperatorId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">Limit</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="c1">//optional filter field</span>
  <span class="na">StartIndex</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="c1">// value of 0 means it will start at the most recent deposit ticket, value of 1 means it will start from the second most recent deposit ticket</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetWithdrawTickets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c75a49f1-6a12-4853-b136-7447be600eb9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">40</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w"> </span><span class="err">filter</span><span class="w"> </span><span class="err">field</span><span class="w">
  </span><span class="nl">"StartIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">value</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">means</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">start</span><span class="w"> </span><span class="err">at</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">most</span><span class="w"> </span><span class="err">recent</span><span class="w"> </span><span class="err">withdraw</span><span class="w"> </span><span class="err">ticket</span><span class="p">,</span><span class="w"> </span><span class="err">value</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">means</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">start</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">second</span><span class="w"> </span><span class="err">most</span><span class="w"> </span><span class="err">recent</span><span class="w"> </span><span class="err">withdraw</span><span class="w"> </span><span class="err">ticket</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS on which the account operates whose withdraw tickets you wish to return. <strong>required.</strong></td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the operator where the OMS is operating. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account whose withdraw tickets will be included in the response. <strong>required.</strong></td>
</tr>
<tr>
<td>ProductId</td>
<td><strong>integer.</strong> The ID of a product. Filter parameter, response will only include withdraw tickets for the specified product. <strong>optional.</strong></td>
</tr>
<tr>
<td>Limit</td>
<td><strong>integer.</strong> Filter field to limit number of results. Used for pagination together with the <strong>StartIndex</strong> field. If not set, all withdraw tickets of the specified account will be returned but would still depend on the <strong>StartIndex</strong>. <strong>optional.</strong></td>
</tr>
<tr>
<td>StartIndex</td>
<td><strong>integer.</strong> Pagination field, value of 0 means results will start at the most recent withdraw ticket, value of 1 means results start from the second most recent withdraw ticket. If not set, results will always start with the most recent withdraw ticket of the specified account. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-179'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"AssetManagerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AssetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AssetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"StellarLumens"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TemplateForm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">MemoType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">id</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Memo</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">TemplateType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ToExternalStellarAddress</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Comment</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Another sample!</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ExternalAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">GAVG3OCPF2Z3GN3ZUMMX4GZHRJ5WPGDHNQIMDOYXRXX2C6XFR2GUAKJL</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:1000}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TemplateFormType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ToExternalStellarAddress"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cf8fa35-4490-4ea7-8e19-2ffe78efb4be"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestIP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RequestUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FullyProcessed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"FeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UpdatedByUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UpdatedByUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">304</span><span class="p">,</span><span class="w">
    </span><span class="nl">"WithdrawTransactionDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">TxId</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2569b7434b2829485321868efe52b0af58d9761b3cb2bc551a88f084d524efa1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ExternalAddress</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:1000.0000000000000000000000000,</span><span class="se">\"</span><span class="s2">Confirmed</span><span class="se">\"</span><span class="s2">:true,</span><span class="se">\"</span><span class="s2">LastUpdated</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2023-04-18T23:54:59.975Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">TimeSubmitted</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">2023-04-18T23:54:59.975Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">AccountProviderName</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">AccountProviderId</span><span class="se">\"</span><span class="s2">:21}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreatedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-18T23:50:58.251Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdateTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-18T23:55:00.087Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"CreatedTimestampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638174586582516883</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LastUpdateTimestampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638174589000878307</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"CommentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">959</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EnteredDateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-18T23:54:38.816Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EnteredDateTimeTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638174588788163630</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Auto accepting the ticket and Amount is less then AutoWithdrawThreshold"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TicketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cf8fa35-4490-4ea7-8e19-2ffe78efb4be"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TicketId"</span><span class="p">:</span><span class="w"> </span><span class="mi">304</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"CommentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">960</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EnteredDateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-18T23:54:38.817Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EnteredDateTimeTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638174588788174328</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Status updated to (Confirmed2Fa) by user admin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TicketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cf8fa35-4490-4ea7-8e19-2ffe78efb4be"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TicketId"</span><span class="p">:</span><span class="w"> </span><span class="mi">304</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"CommentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">964</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EnteredDateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-04-18T23:55:00.106Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EnteredDateTimeTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638174589001061030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AmlProviderConfig is either not enabled or set to PassThrough. Skipping transaction registration and setting status to FullyProcessed "</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TicketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cf8fa35-4490-4ea7-8e19-2ffe78efb4be"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"TicketId"</span><span class="p">:</span><span class="w"> </span><span class="mi">304</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"Attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"AuditLog"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects, each object represents a withdraw ticket with all its details.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AssetManagerId</td>
<td><strong>integer.</strong> The ID of the Asset Manager on which the withdraw was made.</td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the Account Provider of the product where the the withdraw was made. A product can have multiple account provider.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account from which the withdraw was made.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> The name of the account.</td>
</tr>
<tr>
<td>AssetId</td>
<td><strong>integer.</strong> The ID of the asset (product) that was withdrawn.</td>
</tr>
<tr>
<td>AssetName</td>
<td><strong>string.</strong> The short name of the asset (product) that was withdrawn, for example BTC for BitCoin or USD for US Dollars.</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The unit and fractional amount of the asset that was withdrawn, for example 2.5 BitCoin or 2018.17 US Dollars.</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> The value of the withdraw amount in the NotionalProduct set in the verification level of the account for the product withdrawn.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The product ID of the <strong>NotionalProduct</strong> set on the verification level of the account for the product withdrawn.</td>
</tr>
<tr>
<td>TemplateForm</td>
<td><strong>string.</strong> A stringtified object which has the fields of the actual withdraw form together with the values provided by the user. Will usually have the withdrawal address, and other relevant infos such as comments.</td>
</tr>
<tr>
<td>TemplateFormType</td>
<td><strong>string.</strong> The type of the template form. Usually Standard for fiat withdrawals, needs a very specific value for crypto withdrawals such as <strong>ToExternalBitcoinAddress</strong>, <strong>ToExternalEthereumAddress</strong> depending on the <strong>Account Provider</strong> type. Those values are usually automatically provided(pre-defined on the account provider).</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> A globally unique identifier (GUID) assigned by the system that identifies this specific withdraw.</td>
</tr>
<tr>
<td>RequestIP</td>
<td><strong>string.</strong> The IP address from which the withdraw request was submitted from.</td>
</tr>
<tr>
<td>RequestUserId</td>
<td><strong>integer.</strong> The ID of the user who submitted the withdrawal request.</td>
</tr>
<tr>
<td>RequestUserName</td>
<td><strong>string.</strong> The username of the user who submitted the withdrawal request.</td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the operator where the OMS is operating.</td>
</tr>
<tr>
<td>Status</td>
<td><strong>integer.</strong> The current status of the withdrawal ticket. Some of these statuses are valid only for cryptocurrency withdrawals, which uses an automated withdrawal process, and some are valid for fiat currency withdrawals, which requires a human admin (operator). Some of these statuses are used by AlphaPoint internally, yet they may appear on a returned Withdraw Ticket.<br /><br /><strong>Withdraw ticket statuses:</strong><br /><strong>0</strong> New (awaiting operator review)<br /><strong>1</strong> AdminProcessing (An admin is looking at the ticket)<br /><strong>2</strong> Accepted (withdrawal will proceed)<br /><strong>3</strong> Rejected (admin or automatic rejection)<br /><strong>4</strong> SystemProcessing (automatic processing underway)<br /><strong>5</strong> FullyProcessed (the withdrawal has concluded)<br /><strong>6</strong> Failed (the withdrawal failed for some reason)<br /><strong>7</strong> Pending (the admin has placed the withdrawal in pending status)<br /><strong>8</strong> Pending2Fa (user must click 2-factor authentication confirmation link)<br /><strong>9</strong> AutoAccepted (withdrawal will be automatically processed)<br /><strong>10</strong> Delayed (waiting for funds to be allocated for the withdrawal)<br /><strong>11</strong> UserCanceled (withdraw canceled by user or Superuser)<br /><strong>12</strong> AdminCanceled (withdraw canceled by Superuser)<br /><strong>13</strong> AmlProcessing (anti-money-laundering process underway)<br /><strong>14</strong> AmlAccepted (anti-money-laundering process complete)<br /><strong>15</strong> AmlRejected (withdrawal did not stand up to anti-money-laundering process)<br /><strong>16</strong> AmlFailed (withdrawal did not complete anti-money-laundering process)<br /><strong>17</strong> LimitsAccepted (withdrawal meets limits for fiat or crypto asset)<br /><strong>18</strong> LimitsRejected (withdrawal does not meet limits for fiat or crypto asset)<br /><strong>19</strong> Submitted (withdrawal sent to Account Provider; awaiting blockchain confirmation)<br /><strong>20</strong> Confirmed (Account Provider confirms that withdrawal is on the blockchain)<br /><strong>21</strong> ManuallyConfirmed (admin has sent withdrawal via wallet or admin function directly; marks ticket as FullyProcessed; debits account)<br /><strong>22</strong> Confirmed2Fa (user has confirmed withdraw via 2-factor authentication.)</td>
</tr>
<tr>
<td>FeeAmt</td>
<td><strong>decimal.</strong> The fee assessed for making the withdraw, if any. withdraw fees usually are assessed in the asset/product being withdrawn.</td>
</tr>
<tr>
<td>UpdatedByUser</td>
<td><strong>integer.</strong> The user ID of the last user to have updated the ticket (status, amount, etc.; this is usually an admin).</td>
</tr>
<tr>
<td>UpdatedByUserName</td>
<td><strong>string.</strong> The user name of the last user to have updated the ticket, for example, jsmith.</td>
</tr>
<tr>
<td>TicketNumber</td>
<td><strong>long integer.</strong> An ID number assigned by the system to identify the ticket (as opposed to identifying the withdraw).</td>
</tr>
<tr>
<td>WithdrawTransactionDetails</td>
<td><strong>string.</strong> For fiat withdraw, it is the information entered by the user at the withdraw form, for cryptocurrency withdraw from blockchain, it will contain the TXID, FromAddress, ToAddress, AccountProviderName, and AccountProviderId</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If the withdrawal request is rejected, this field will contain the reason that will be optionally provided by the operator.</td>
</tr>
<tr>
<td>CreatedTimeStamp</td>
<td><strong>string.</strong> The date and time when the withdraw ticket was created, in standard DateTime format. All dates and times are UTC.</td>
</tr>
<tr>
<td>LastUpdateTimeStamp</td>
<td><strong>string.</strong> The date and time when the withdraw ticket last was updated &mdash; usually by an admin changing its status &mdash; in standard DateTime format. All dates and times are UTC.</td>
</tr>
<tr>
<td>CreatedTimestampTick</td>
<td><strong>long integer.</strong> The date and time when the withdraw ticket was created, in Microsoft Time Ticks format.</td>
</tr>
<tr>
<td>LastUpdateTimestampTick</td>
<td><strong>long integer.</strong> The date and time when the withdraw ticket last was updated &mdash; usually by an admin changing its status &mdash; in Microsoft Time Ticks format.</td>
</tr>
<tr>
<td>Comments</td>
<td><strong>array.</strong> Any comment appended to the withdraw ticket. Please see request payload fields of <a href="https://trading.alphapointuniversity.com/#submitwithdrawticketcomment">SubmitWithdrawTicketComment</a>.</td>
</tr>
<tr>
<td>Attachments</td>
<td><strong>array.</strong> Any attachment to the withdraw ticket.</td>
</tr>
<tr>
<td>AuditLog</td>
<td><strong>array.</strong> Log trail of a specific withdraw ticket.</td>
</tr>
</tbody></table>
<h2 id='getwithdrawticket'>GetWithdrawTicket</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns a single withdraw ticket from OMS,trading venue operator and account that matches the GUID in Request Code.</p>
<h3 id='request-180'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>

<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetWithdrawTicket</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">AccountId</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="na">RequestCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">d8c88f7c-a6ff-439c-a253-bf5462716429</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetWithdrawTicket</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c75a49f1-6a12-4853-b136-7447be600eb9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">40</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
    </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d8c88f7c-a6ff-439c-a253-bf5462716429"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account owning the withdraw ticket belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account who owns the withdraw ticket. <strong>required.</strong></td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> The GUID that identifies a specific withdraw ticket you wish to get details of. If not set, response will be the very first withdraw ticket owned by the AccountId defined in the request. <strong>optional.</strong></td>
</tr>
</tbody></table>
<h3 id='response-180'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"AssetManagerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin Testnet"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.1048</span><span class="p">,</span><span class="w">
  </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TemplateForm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">TemplateType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ToExternalBitcoinAddress</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Comment</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Send back to faucet</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ExternalAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">tb1ql7w62elx9ucw4pj5lgw4l028hmuw80sndtntxt</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:0.0001}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TemplateFormType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ToExternalBitcoinAddress"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d8c88f7c-a6ff-439c-a253-bf5462716429"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestIP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"136.158.44.105"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rejected"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"FeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UpdatedByUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UpdatedByUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
  </span><span class="nl">"WithdrawTransactionDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">TxId</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">ExternalAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">tb1ql7w62elx9ucw4pj5lgw4l028hmuw80sndtntxt</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">Confirmed</span><span class="se">\"</span><span class="s2">:false,</span><span class="se">\"</span><span class="s2">LastUpdated</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0001-01-01T00:00:00.000Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">TimeSubmitted</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0001-01-01T00:00:00.000Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">AccountProviderName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ToExternalBitcoinAddress</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">AccountProviderId</span><span class="se">\"</span><span class="s2">:3}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"overlimit"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreatedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-21T18:12:17.614Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastUpdateTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-21T18:16:02.640Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreatedTimestampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">637834831376143088</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastUpdateTimestampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">637834833626400722</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CommentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">72</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredDateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-21T18:12:43.509Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredDateTimeTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">637834831635099470</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Status as new because RejectReason is not OverLimitRejected"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TicketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d8c88f7c-a6ff-439c-a253-bf5462716429"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TicketId"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CommentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">73</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredDateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-21T18:16:02.661Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredDateTimeTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">637834833626615272</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Status updated to (Rejected) by user admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TicketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d8c88f7c-a6ff-439c-a253-bf5462716429"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TicketId"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"AuditLog"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects, each object represents a withdraw ticket with all its details.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AssetManagerId</td>
<td><strong>integer.</strong> The ID of the Asset Manager on which the withdraw was made.</td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the Account Provider of the product where the the withdraw was made. A product can have multiple account provider.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account from which the withdraw was made.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> The name of the account.</td>
</tr>
<tr>
<td>AssetId</td>
<td><strong>integer.</strong> The ID of the asset (product) that was withdrawn.</td>
</tr>
<tr>
<td>AssetName</td>
<td><strong>string.</strong> The short name of the asset (product) that was withdrawn, for example BTC for BitCoin or USD for US Dollars.</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The unit and fractional amount of the asset that was withdrawn, for example 2.5 BitCoin or 2018.17 US Dollars.</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> The value of the withdraw amount in the NotionalProduct set in the verification level of the account for the product withdrawn.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The product ID of the <strong>NotionalProduct</strong> set on the verification level of the account for the product withdrawn.</td>
</tr>
<tr>
<td>TemplateForm</td>
<td><strong>string.</strong> A stringtified object which has the fields of the actual withdraw form together with the values provided by the user. Will usually have the withdrawal address, and other relevant infos such as comments.</td>
</tr>
<tr>
<td>TemplateFormType</td>
<td><strong>string.</strong> The type of the template form. Usually Standard for fiat withdrawals, needs a very specific value for crypto withdrawals such as <strong>ToExternalBitcoinAddress</strong>, <strong>ToExternalEthereumAddress</strong> depending on the <strong>Account Provider</strong> type. Those values are usually automatically provided(pre-defined on the account provider).</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> A globally unique identifier (GUID) assigned by the system that identifies this specific withdraw.</td>
</tr>
<tr>
<td>RequestIP</td>
<td><strong>string.</strong> The IP address from which the withdraw request was submitted from.</td>
</tr>
<tr>
<td>RequestUserId</td>
<td><strong>integer.</strong> The ID of the user who submitted the withdrawal request.</td>
</tr>
<tr>
<td>RequestUserName</td>
<td><strong>string.</strong> The username of the user who submitted the withdrawal request.</td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the operator where the OMS is operating.</td>
</tr>
<tr>
<td>Status</td>
<td><strong>integer.</strong> The current status of the withdrawal ticket. Some of these statuses are valid only for cryptocurrency withdrawals, which uses an automated withdrawal process, and some are valid for fiat currency withdrawals, which requires a human admin (operator). Some of these statuses are used by AlphaPoint internally, yet they may appear on a returned Withdraw Ticket.<br /><br /><strong>Withdraw ticket statuses:</strong><br /><strong>0</strong> New (awaiting operator review)<br /><strong>1</strong> AdminProcessing (An admin is looking at the ticket)<br /><strong>2</strong> Accepted (withdrawal will proceed)<br /><strong>3</strong> Rejected (admin or automatic rejection)<br /><strong>4</strong> SystemProcessing (automatic processing underway)<br /><strong>5</strong> FullyProcessed (the withdrawal has concluded)<br /><strong>6</strong> Failed (the withdrawal failed for some reason)<br /><strong>7</strong> Pending (the admin has placed the withdrawal in pending status)<br /><strong>8</strong> Pending2Fa (user must click 2-factor authentication confirmation link)<br /><strong>9</strong> AutoAccepted (withdrawal will be automatically processed)<br /><strong>10</strong> Delayed (waiting for funds to be allocated for the withdrawal)<br /><strong>11</strong> UserCanceled (withdraw canceled by user or Superuser)<br /><strong>12</strong> AdminCanceled (withdraw canceled by Superuser)<br /><strong>13</strong> AmlProcessing (anti-money-laundering process underway)<br /><strong>14</strong> AmlAccepted (anti-money-laundering process complete)<br /><strong>15</strong> AmlRejected (withdrawal did not stand up to anti-money-laundering process)<br /><strong>16</strong> AmlFailed (withdrawal did not complete anti-money-laundering process)<br /><strong>17</strong> LimitsAccepted (withdrawal meets limits for fiat or crypto asset)<br /><strong>18</strong> LimitsRejected (withdrawal does not meet limits for fiat or crypto asset)<br /><strong>19</strong> Submitted (withdrawal sent to Account Provider; awaiting blockchain confirmation)<br /><strong>20</strong> Confirmed (Account Provider confirms that withdrawal is on the blockchain)<br /><strong>21</strong> ManuallyConfirmed (admin has sent withdrawal via wallet or admin function directly; marks ticket as FullyProcessed; debits account)<br /><strong>22</strong> Confirmed2Fa (user has confirmed withdraw via 2-factor authentication.)</td>
</tr>
<tr>
<td>FeeAmt</td>
<td><strong>decimal.</strong> The fee assessed for making the withdraw, if any. withdraw fees usually are assessed in the asset/product being withdrawn.</td>
</tr>
<tr>
<td>UpdatedByUser</td>
<td><strong>integer.</strong> The user ID of the last user to have updated the ticket (status, amount, etc.; this is usually an admin).</td>
</tr>
<tr>
<td>UpdatedByUserName</td>
<td><strong>string.</strong> The user name of the last user to have updated the ticket, for example, jsmith.</td>
</tr>
<tr>
<td>TicketNumber</td>
<td><strong>long integer.</strong> An ID number assigned by the system to identify the ticket (as opposed to identifying the withdraw).</td>
</tr>
<tr>
<td>WithdrawTransactionDetails</td>
<td><strong>string.</strong> For fiat withdraw, it is the information entered by the user at the withdraw form, for cryptocurrency withdraw from blockchain, it will contain the TXID, FromAddress, ToAddress, AccountProviderName, and AccountProviderId</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If the withdrawal request is rejected, this field will contain the reason that will be optionally provided by the operator.</td>
</tr>
<tr>
<td>CreatedTimeStamp</td>
<td><strong>string.</strong> The date and time when the withdraw ticket was created, in standard DateTime format. All dates and times are UTC.</td>
</tr>
<tr>
<td>LastUpdateTimeStamp</td>
<td><strong>string.</strong> The date and time when the withdraw ticket last was updated &mdash; usually by an admin changing its status &mdash; in standard DateTime format. All dates and times are UTC.</td>
</tr>
<tr>
<td>CreatedTimestampTick</td>
<td><strong>long integer.</strong> The date and time when the withdraw ticket was created, in Microsoft Time Ticks format.</td>
</tr>
<tr>
<td>LastUpdateTimestampTick</td>
<td><strong>long integer.</strong> The date and time when the withdraw ticket last was updated &mdash; usually by an admin changing its status &mdash; in Microsoft Time Ticks format.</td>
</tr>
<tr>
<td>Comments</td>
<td><strong>array.</strong> Any comment appended to the withdraw ticket. Please see request payload fields of <a href="https://trading.alphapointuniversity.com/#submitwithdrawticketcomment">SubmitWithdrawTicketComment</a>.</td>
</tr>
<tr>
<td>Attachments</td>
<td><strong>array.</strong> Any attachment to the withdraw ticket.</td>
</tr>
<tr>
<td>AuditLog</td>
<td><strong>array.</strong> Log trail of a specific withdraw ticket.</td>
</tr>
</tbody></table>
<h2 id='getwithdrawticketbyverifycode'>GetWithdrawTicketByVerifyCode</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Returns a single withdraw ticket from OMS,trading venue operator and account that matches the Current Verify Code for confirmation</p>
<h3 id='request-181'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">GetWithdrawTicketByVerifyCode</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">VerifyCode</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/GetWithdrawTicketByVerifyCode</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">c75a49f1-6a12-4853-b136-7447be600eb9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">78</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"VerifyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27f1eb8f-4503-4bde-84d5-861187925995"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS where the account owning the withdraw ticket belongs to. <strong>required.</strong></td>
</tr>
<tr>
<td>VerifyCode</td>
<td><strong>string.</strong> The verify code sent to the email of the user who owns the account of a specific withdraw ticket. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-181'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"AssetManagerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountProviderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AccountName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"AssetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TBTC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"NotionalValue"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
  </span><span class="nl">"NotionalProductId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TemplateForm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">TemplateType</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ToExternalBitcoinAddress</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Comment</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">Sample only!</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">ExternalAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">tb1q20ulz3fv8aqjcrm2c665mfhe9tvwd3uz3jwlxc</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:0.001}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TemplateFormType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ToExternalBitcoinAddress"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"af082910-c5ab-421d-af97-e65c384a65fc"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestIP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.10.61.175"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RequestUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"FeeAmt"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UpdatedByUser"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"UpdatedByUserName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"TicketNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">287</span><span class="p">,</span><span class="w">
  </span><span class="nl">"WithdrawTransactionDetails"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">TxId</span><span class="se">\"</span><span class="s2">:null,</span><span class="se">\"</span><span class="s2">ExternalAddress</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">tb1q20ulz3fv8aqjcrm2c665mfhe9tvwd3uz3jwlxc</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">Amount</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">Confirmed</span><span class="se">\"</span><span class="s2">:false,</span><span class="se">\"</span><span class="s2">LastUpdated</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0001-01-01T00:00:00.000Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">TimeSubmitted</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0001-01-01T00:00:00.000Z</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">AccountProviderName</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">ToExternalBitcoinAddress</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">AccountProviderId</span><span class="se">\"</span><span class="s2">:7}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"RejectReason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreatedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-02-28T06:32:23.639Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastUpdateTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-22T10:39:44.717Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"CreatedTimestampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638131627436397114</span><span class="p">,</span><span class="w">
  </span><span class="nl">"LastUpdateTimestampTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638150783847175901</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CommentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">861</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredDateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-22T10:36:31.451Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredDateTimeTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638150781914511710</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Status updated to (Accepted) by user admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TicketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"af082910-c5ab-421d-af97-e65c384a65fc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TicketId"</span><span class="p">:</span><span class="w"> </span><span class="mi">287</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CommentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">862</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredDateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-22T10:36:31.671Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredDateTimeTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638150781916714045</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AmlProviderConfig is either not enabled or set to PassThrough. Skipping address verification and submitting withdraw ticket"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TicketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"af082910-c5ab-421d-af97-e65c384a65fc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TicketId"</span><span class="p">:</span><span class="w"> </span><span class="mi">287</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"CommentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">863</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredBy"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredDateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-03-22T10:36:31.935Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EnteredDateTimeTick"</span><span class="p">:</span><span class="w"> </span><span class="mi">638150781919351071</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Withdraw Failed: Withdraw_Submission_Failed"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TicketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"af082910-c5ab-421d-af97-e65c384a65fc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"TicketId"</span><span class="p">:</span><span class="w"> </span><span class="mi">287</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"Attachments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"AuditLog"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns an array of objects, each object represents a withdraw ticket with all its details.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>AssetManagerId</td>
<td><strong>integer.</strong> The ID of the Asset Manager on which the withdraw was made.</td>
</tr>
<tr>
<td>AccountProviderId</td>
<td><strong>integer.</strong> The ID of the Account Provider of the product where the the withdraw was made. A product can have multiple account provider.</td>
</tr>
<tr>
<td>AccountId</td>
<td><strong>integer.</strong> The ID of the account from which the withdraw was made.</td>
</tr>
<tr>
<td>AccountName</td>
<td><strong>string.</strong> The name of the account.</td>
</tr>
<tr>
<td>AssetId</td>
<td><strong>integer.</strong> The ID of the asset (product) that was withdrawn.</td>
</tr>
<tr>
<td>AssetName</td>
<td><strong>string.</strong> The short name of the asset (product) that was withdrawn, for example BTC for BitCoin or USD for US Dollars.</td>
</tr>
<tr>
<td>Amount</td>
<td><strong>decimal.</strong> The unit and fractional amount of the asset that was withdrawn, for example 2.5 BitCoin or 2018.17 US Dollars.</td>
</tr>
<tr>
<td>NotionalValue</td>
<td><strong>decimal.</strong> The value of the withdraw amount in the NotionalProduct set in the verification level of the account for the product withdrawn.</td>
</tr>
<tr>
<td>NotionalProductId</td>
<td><strong>integer.</strong> The product ID of the <strong>NotionalProduct</strong> set on the verification level of the account for the product withdrawn.</td>
</tr>
<tr>
<td>TemplateForm</td>
<td><strong>string.</strong> A stringtified object which has the fields of the actual withdraw form together with the values provided by the user. Will usually have the withdrawal address, and other relevant infos such as comments.</td>
</tr>
<tr>
<td>TemplateFormType</td>
<td><strong>string.</strong> The type of the template form. Usually Standard for fiat withdrawals, needs a very specific value for crypto withdrawals such as <strong>ToExternalBitcoinAddress</strong>, <strong>ToExternalEthereumAddress</strong> depending on the <strong>Account Provider</strong> type. Those values are usually automatically provided(pre-defined on the account provider).</td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS.</td>
</tr>
<tr>
<td>RequestCode</td>
<td><strong>string.</strong> A globally unique identifier (GUID) assigned by the system that identifies this specific withdraw.</td>
</tr>
<tr>
<td>RequestIP</td>
<td><strong>string.</strong> The IP address from which the withdraw request was submitted from.</td>
</tr>
<tr>
<td>RequestUserId</td>
<td><strong>integer.</strong> The ID of the user who submitted the withdrawal request.</td>
</tr>
<tr>
<td>RequestUserName</td>
<td><strong>string.</strong> The username of the user who submitted the withdrawal request.</td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the operator where the OMS is operating.</td>
</tr>
<tr>
<td>Status</td>
<td><strong>integer.</strong> The current status of the withdrawal ticket. Some of these statuses are valid only for cryptocurrency withdrawals, which uses an automated withdrawal process, and some are valid for fiat currency withdrawals, which requires a human admin (operator). Some of these statuses are used by AlphaPoint internally, yet they may appear on a returned Withdraw Ticket.<br /><br /><strong>Withdraw ticket statuses:</strong><br /><strong>0</strong> New (awaiting operator review)<br /><strong>1</strong> AdminProcessing (An admin is looking at the ticket)<br /><strong>2</strong> Accepted (withdrawal will proceed)<br /><strong>3</strong> Rejected (admin or automatic rejection)<br /><strong>4</strong> SystemProcessing (automatic processing underway)<br /><strong>5</strong> FullyProcessed (the withdrawal has concluded)<br /><strong>6</strong> Failed (the withdrawal failed for some reason)<br /><strong>7</strong> Pending (the admin has placed the withdrawal in pending status)<br /><strong>8</strong> Pending2Fa (user must click 2-factor authentication confirmation link)<br /><strong>9</strong> AutoAccepted (withdrawal will be automatically processed)<br /><strong>10</strong> Delayed (waiting for funds to be allocated for the withdrawal)<br /><strong>11</strong> UserCanceled (withdraw canceled by user or Superuser)<br /><strong>12</strong> AdminCanceled (withdraw canceled by Superuser)<br /><strong>13</strong> AmlProcessing (anti-money-laundering process underway)<br /><strong>14</strong> AmlAccepted (anti-money-laundering process complete)<br /><strong>15</strong> AmlRejected (withdrawal did not stand up to anti-money-laundering process)<br /><strong>16</strong> AmlFailed (withdrawal did not complete anti-money-laundering process)<br /><strong>17</strong> LimitsAccepted (withdrawal meets limits for fiat or crypto asset)<br /><strong>18</strong> LimitsRejected (withdrawal does not meet limits for fiat or crypto asset)<br /><strong>19</strong> Submitted (withdrawal sent to Account Provider; awaiting blockchain confirmation)<br /><strong>20</strong> Confirmed (Account Provider confirms that withdrawal is on the blockchain)<br /><strong>21</strong> ManuallyConfirmed (admin has sent withdrawal via wallet or admin function directly; marks ticket as FullyProcessed; debits account)<br /><strong>22</strong> Confirmed2Fa (user has confirmed withdraw via 2-factor authentication.)</td>
</tr>
<tr>
<td>FeeAmt</td>
<td><strong>decimal.</strong> The fee assessed for making the withdraw, if any. withdraw fees usually are assessed in the asset/product being withdrawn.</td>
</tr>
<tr>
<td>UpdatedByUser</td>
<td><strong>integer.</strong> The user ID of the last user to have updated the ticket (status, amount, etc.; this is usually an admin).</td>
</tr>
<tr>
<td>UpdatedByUserName</td>
<td><strong>string.</strong> The user name of the last user to have updated the ticket, for example, jsmith.</td>
</tr>
<tr>
<td>TicketNumber</td>
<td><strong>long integer.</strong> An ID number assigned by the system to identify the ticket (as opposed to identifying the withdraw).</td>
</tr>
<tr>
<td>WithdrawTransactionDetails</td>
<td><strong>string.</strong> For fiat withdraw, it is the information entered by the user at the withdraw form, for cryptocurrency withdraw from blockchain, it will contain the TXID, FromAddress, ToAddress, AccountProviderName, and AccountProviderId</td>
</tr>
<tr>
<td>RejectReason</td>
<td><strong>string.</strong> If the withdrawal request is rejected, this field will contain the reason that will be optionally provided by the operator.</td>
</tr>
<tr>
<td>CreatedTimeStamp</td>
<td><strong>string.</strong> The date and time when the withdraw ticket was created, in standard DateTime format. All dates and times are UTC.</td>
</tr>
<tr>
<td>LastUpdateTimeStamp</td>
<td><strong>string.</strong> The date and time when the withdraw ticket last was updated &mdash; usually by an admin changing its status &mdash; in standard DateTime format. All dates and times are UTC.</td>
</tr>
<tr>
<td>CreatedTimestampTick</td>
<td><strong>long integer.</strong> The date and time when the withdraw ticket was created, in Microsoft Time Ticks format.</td>
</tr>
<tr>
<td>LastUpdateTimestampTick</td>
<td><strong>long integer.</strong> The date and time when the withdraw ticket last was updated &mdash; usually by an admin changing its status &mdash; in Microsoft Time Ticks format.</td>
</tr>
<tr>
<td>Comments</td>
<td><strong>array.</strong> Any comment appended to the withdraw ticket. Please see request payload fields of <a href="https://trading.alphapointuniversity.com/#submitwithdrawticketcomment">SubmitWithdrawTicketComment</a>.</td>
</tr>
<tr>
<td>Attachments</td>
<td><strong>array.</strong> Any attachment to the withdraw ticket.</td>
</tr>
<tr>
<td>AuditLog</td>
<td><strong>array.</strong> Log trail of a specific withdraw ticket.</td>
</tr>
</tbody></table>
<h2 id='submitwithdrawticketcomment'>SubmitWithdrawTicketComment</h2>
<p><strong>Permissions:</strong> Operator, Trading<br />
<strong>Call Type:</strong> Synchronous</p>

<p>Add a comment to a specific withdraw ticket.</p>
<h3 id='request-182'>Request</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">APEX</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">alphapoint-apex-api</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">apex</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">APEX</span><span class="p">(</span><span class="dl">"</span><span class="s2">websocket url goes here...</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">apex</span><span class="p">.</span><span class="nx">RPCPromise</span><span class="p">(</span><span class="dl">"</span><span class="s2">SubmitWithdrawTicketComment</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">Comment</span><span class="p">:</span> <span class="dl">"</span><span class="s2">This is a manual withdraw.</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">OMSId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">OperatorId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">TicketCode</span><span class="p">:</span> <span class="dl">"</span><span class="s2">17701757-7b30-40b6-af0e-9340a58857d1</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">TicketId</span><span class="p">:</span> <span class="mi">285</span><span class="p">,</span>
  <span class="na">EnteredDateTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2023-01-17T13:39:53.413Z</span><span class="dl">"</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/AP/SubmitWithdrawTicketComment</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">hostname goes here...</span>
<span class="na">aptoken</span><span class="p">:</span> <span class="s">e426b2e0-6aa9-4bb3-a99e-61d6a5ddef86</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">278</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"Comment"</span><span class="p">:</span><span class="s2">"This is a manual withdraw."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OMSId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"OperatorId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TicketCode"</span><span class="p">:</span><span class="s2">"17701757-7b30-40b6-af0e-9340a58857d1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"TicketId"</span><span class="p">:</span><span class="w"> </span><span class="mi">285</span><span class="p">,</span><span class="w">
    </span><span class="nl">"EnteredDateTime"</span><span class="p">:</span><span class="s2">"2023-01-17T13:39:53.413Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Comment</td>
<td><strong>string.</strong> The actual withdraw ticket comment. Request will be accepted without this field but it would result to a null comment which won&#39;t make any sense. <strong>optional.</strong></td>
</tr>
<tr>
<td>OMSId</td>
<td><strong>integer.</strong> The ID of the OMS. <strong>optional.</strong></td>
</tr>
<tr>
<td>OperatorId</td>
<td><strong>integer.</strong> The ID of the operator where the OMS is operating. <strong>optional.</strong></td>
</tr>
<tr>
<td>TicketCode</td>
<td><strong>string.</strong> The GUID that identifies a specific withdraw ticket you wish to add a comment to. <strong>required.</strong></td>
</tr>
<tr>
<td>TicketId</td>
<td><strong>integer.</strong> The ID a specific withdraw ticket you wish to add a comment to. <strong>required.</strong></td>
</tr>
<tr>
<td>EnteredDateTime</td>
<td><strong>string.</strong> The date and time, should be in the standard DateTime format and in UTC. <strong>required.</strong></td>
</tr>
</tbody></table>
<h3 id='response-182'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"commentid"</span><span class="p">:</span><span class="w"> </span><span class="mi">459</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns an object with success and commentid fields.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td><strong>boolean.</strong> Either <strong>true</strong>(if request is successful and withdraw ticket comment successfully added) or <strong>false</strong>.</td>
</tr>
<tr>
<td>commenid</td>
<td><strong>integer.</strong> The withdraw ticket comment ID.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="http">http</a>
          </div>
      </div>
    </div>
  </body>
</html>
